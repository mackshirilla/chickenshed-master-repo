!function(e,t,r,o,i){var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s="function"==typeof n[o]&&n[o],a=s.cache||{},l="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function c(t,r){if(!a[t]){if(!e[t]){var i="function"==typeof n[o]&&n[o];if(!r&&i)return i(t,!0);if(s)return s(t,!0);if(l&&"string"==typeof t)return l(t);var d=Error("Cannot find module '"+t+"'");throw d.code="MODULE_NOT_FOUND",d}g.resolve=function(r){var o=e[t][1][r];return null!=o?o:r},g.cache={};var m=a[t]=new c.Module(t);e[t][0].call(m.exports,g,m,m.exports,this)}return a[t].exports;function g(e){var t=g.resolve(e);return!1===t?{}:c(t)}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=e,c.cache=a,c.parent=s,c.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(c,"root",{get:function(){return n[o]}}),n[o]=c;for(var d=0;d<t.length;d++)c(t[d])}({fLRRN:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"fetchProgramDetails",()=>l),o.export(r,"initializeProgramDetailsPage",()=>c);var i=e("@xatom/core"),n=e("@xatom/image"),s=e("../../../api/apiConfig"),a=e("./components/listProgramFiles");async function l(e,t){let r={program:e};t&&(r.subscription=t);let o=(0,s.apiClient).get(`/dashboard/registration/program/${e}`,{data:r});return await o.fetch()}async function c(){await (0,a.initializeDynamicProgramFileList)("#filesList");let e=new URLSearchParams(window.location.search),t=e.get("program"),r=e.get("subscription")||void 0;if(!t)return d("Invalid access. Program ID is missing.");try{let{program:e,workshops:o}=await l(t,r);!function(e){let t=document.getElementById("programImage");if(t){let r=new n.WFImage(t);r.setImage(e.Main_Image||"https://cdn.prod.website-files.com/plugins/Basic/assets/placeholder.60f9b1840c.svg"),r.getElement().alt=e.name}[["programName",e.name],["programBreadcrumb",e.name],["programSubheading",e.Subheading],["programShortDescription",e.Short_description]].forEach(([e,t])=>{let r=document.getElementById(e);r&&new(0,i.WFComponent)(r).setText(t)})}(e);let s=[...o].sort((e,t)=>e.weekday&&t.weekday?`${e.weekday} ${e.time_block}`.localeCompare(`${t.weekday} ${t.time_block}`):e.name.localeCompare(t.name)),a=document.getElementById("program-workshops"),c=document.getElementById("program-sessions");a&&(a.style.display="none"),c&&(c.style.display="none"),s.length>0&&void 0===s[0].weekday?(a&&(a.style.display="flex"),await m("#program-workshops #listRegistration",s,e,r)):(c&&(c.style.display="flex"),await g("#program-sessions #listRegistration",s,e.id,r));let d=document.querySelector(".success_trigger");d instanceof HTMLElement&&d.click()}catch{d("An error occurred while loading the program details.")}}function d(e){let t=document.getElementById("listRegistrationEmpty");t&&(t.innerHTML=`<div>${e}</div>`,t.style.display="flex")}async function m(e,t,r,o){let s=new i.WFDynamicList(e,{rowSelector:"#listRegistrationCard",loaderSelector:"#listRegistrationloading",emptySelector:"#listRegistrationEmpty"});s.loaderRenderer(e=>(e.setStyle({display:"flex"}),e)),s.emptyRenderer(e=>(e.setStyle({display:"flex"}),e)),s.rowRenderer(({rowData:e,rowElement:t})=>{let s=new i.WFComponent(t),a=s.getChildAsComponent("#cardRegistrationImage");a&&new n.WFImage(a.getElement()).setImage(e.Main_Image||r.Main_Image),s.getChildAsComponent("#cardProgramName")?.setText(e.name),s.getChildAsComponent("#cardWorkshopName")?.setText(r.name);let l=s.getElement(),c=new URL("/dashboard/registration/workshop",window.location.origin);return c.searchParams.set("program",String(r.id)),c.searchParams.set("workshop",String(e.id)),o&&c.searchParams.set("subscription",o),l.setAttribute("href",c.toString()),t.setStyle({display:"flex"}),t});try{s.setData(t)}catch{s.setData([])}}async function g(e,t,r,o){let n=new i.WFDynamicList(e,{rowSelector:"#listRegistrationCard",loaderSelector:"#listRegistrationloading",emptySelector:"#listRegistrationEmpty"});n.loaderRenderer(e=>(e.setStyle({display:"flex"}),e)),n.emptyRenderer(e=>(e.setStyle({display:"flex"}),e)),n.rowRenderer(({rowData:e,rowElement:t})=>{let n=new i.WFComponent(t);n.getChildAsComponent("#cardSessionDay")?.setText(e.weekday||""),n.getChildAsComponent("#cardSessionTimeBlock")?.setText(e.time_block||""),n.getChildAsComponent("#cardSessionLocation")?.setText(e.location_name||"");let s=n.getElement(),a=new URL("/dashboard/registration/session",window.location.origin);return a.searchParams.set("program",String(r)),o&&a.searchParams.set("subscription",o),a.searchParams.set("session",String(e.id)),s.setAttribute("href",a.toString()),t.setStyle({display:"flex"}),t});try{n.setData(t)}catch{n.setData([])}}},{"@xatom/core":"65YBq","@xatom/image":"bavwf","../../../api/apiConfig":"dUmIV","./components/listProgramFiles":"8e4hp","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],bavwf:[function(e,t,r){var o,i=e("d023971cccd819e3"),n={};Object.defineProperty(n,"WFImage",{get:()=>s,set:void 0,enumerable:!0,configurable:!0});class s extends i.WFComponent{constructor(e){super(e)}getImageConfig(){return this._config}getSrc(){return this.getAttribute("src")}getSizes(){return this.getAttribute("sizes")}getSrcSet(){return this.getAttribute("srcset")}getLoading(){return this.getAttribute("loading")}onLoad(e){return this.on("load",e),()=>{this.off("load",e)}}onLoadError(e){return this.on("error",e),()=>{this.off("error",e)}}setImage(e){if("string"==typeof e)this.setAttribute("src",e),this.removeAttribute("srcset"),this.removeAttribute("sizes");else{if(this.setAttribute("src",e.src),"object"==typeof e&&e.srcSet&&e.srcSet.length&&e.sizes&&e.sizes.length){let t=e.srcSet.map(e=>`${e.url} ${e.size}`).join(", ");this.setAttribute("srcset",t)}else this.removeAttribute("srcset"),this.removeAttribute("sizes");e.loading&&this.setAttribute("loading",e.loading)}}}o=t.exports,Object.keys(n).forEach(function(e){"default"===e||"__esModule"===e||o.hasOwnProperty(e)||Object.defineProperty(o,e,{enumerable:!0,get:function(){return n[e]}})})},{d023971cccd819e3:"65YBq"}],"8e4hp":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"fetchProgramFiles",()=>s),o.export(r,"initializeDynamicProgramFileList",()=>a);var i=e("@xatom/core"),n=e("../../../../api/apiConfig");async function s(e,t){try{let r=t?`/student_files/program/${e}?subscription=${encodeURIComponent(t)}`:`/student_files/program/${e}`,o=(0,n.apiClient).get(r);return await o.fetch()}catch(e){throw console.error("Error fetching files for program:",e),e}}async function a(e){let t=new URLSearchParams(window.location.search).get("program");if(!t){console.error("No program ID provided in URL");return}let r=new URLSearchParams(window.location.search).get("subscription"),o=new i.WFDynamicList(e,{rowSelector:"#fileCard",loaderSelector:"#filesloading",emptySelector:"#filesEmpty"});o.loaderRenderer(e=>(e.setStyle({display:"flex"}),e)),o.emptyRenderer(e=>(e.setStyle({display:"flex"}),e)),o.rowRenderer(({rowData:e,rowElement:t})=>{let r=new i.WFComponent(t);return r.setAttribute("href",e.file_url),r.getChildAsComponent("#fileName").setText(e.file_name),t.setStyle({display:"block"}),t});try{o.changeLoadingStatus(!0);let e=await s(t,r);e.sort((e,t)=>e.file_name.localeCompare(t.file_name)),o.setData(e)}catch(e){console.error("Error loading files:",e),o.setData([])}finally{o.changeLoadingStatus(!1)}}},{"@xatom/core":"65YBq","../../../../api/apiConfig":"dUmIV","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}]},[],0,"parcelRequired346");
//# sourceMappingURL=programDetails.32cb0ee7.js.map
