{"mappings":"C,A,S,C,C,C,C,C,C,C,C,C,E,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,A,Y,O,C,C,E,E,C,C,E,C,E,E,K,E,C,E,E,A,a,O,Q,A,Y,O,O,O,E,O,O,C,I,C,Q,S,E,C,C,C,E,G,C,C,C,E,C,C,G,C,C,C,E,C,C,I,E,A,Y,O,C,C,E,E,C,C,E,C,G,C,G,E,O,E,E,C,G,G,E,O,E,E,C,G,G,G,A,U,O,E,O,E,G,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,O,C,S,C,E,I,E,C,C,E,C,E,C,E,C,O,A,M,E,E,C,E,E,K,C,C,E,I,E,C,C,E,C,I,E,M,C,G,C,C,E,C,E,C,I,C,E,O,C,E,E,E,O,C,I,C,C,O,C,C,E,C,O,C,S,E,C,E,I,E,E,O,C,G,M,A,C,I,E,C,E,E,E,C,C,E,e,C,C,E,E,M,C,S,C,E,I,C,E,C,E,I,C,M,C,E,I,C,O,C,C,C,E,E,O,C,E,E,K,C,E,E,M,C,E,E,Q,C,S,C,C,C,E,C,C,E,C,C,S,C,C,C,E,E,O,C,C,E,C,E,A,E,O,c,C,E,O,C,I,W,O,C,C,E,A,C,G,C,C,E,C,E,I,I,E,E,E,E,M,C,I,E,C,C,E,C,E,C,Q,C,S,C,C,C,C,C,E,I,E,E,kD,E,iB,C,GCwCa,EAAA,MAAA,CAAA,EAAA,sBAAA,IAAA,GAtCb,IAAA,EAAA,EAAA,eACA,EAAA,EAAA,gBACA,EAAA,EAAA,iBACA,EAAA,EAAA,+BACA,EAAA,EAAA,+BAMA,EAAA,EAAA,qCAKA,EAAA,EAAA,oCACA,EAAA,EAAA,6BACA,EAAA,EAAA,sBAqBO,IAAM,EAAsB,UAGjC,AADsB,IAAI,EAAA,WAAU,CAAE,kBACxB,OAAO,CAAC,AAAA,CAAA,EAAA,EAAA,QAAO,AAAP,EAAS,OAAO,GAAG,OAAO,CAAC,UAAU,EAG3D,IAAM,EAAsB,IAAI,EAAA,WAAU,CAAE,wBAG5C,AAAA,CAAA,EAAA,EAAA,2BAA0B,AAA1B,IAGA,IAAM,EAAc,IAAI,EAAA,eAAc,CAInC,gBAEG,EAAc,IAAI,EAAA,eAAc,CASnC,gBAEG,EAAgB,IAAI,EAAA,eAAc,CAAM,kBAGxC,EA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","sources":["<anon>","src/modules/forms/profiles/completeUserProfile/completeUserProfile.ts","node_modules/.pnpm/@xatom+image@1.0.0_@xatom+core@1.0.12/node_modules/@xatom/image/dist/index.js","node_modules/.pnpm/@xatom+slider@1.0.0_@xatom+core@1.0.12/node_modules/@xatom/slider/dist/index.js","src/utils/formUtils.ts","src/utils/validationUtils.ts","src/utils/recaptchaUtils.ts","src/modules/forms/profiles/completeUserProfile/sidebarIndicator.ts"],"sourcesContent":["// modules are defined as an array\n// [ module function, map of requires ]\n//\n// map of requires is short require name -> numeric require\n//\n// anything defined in a previous bundle is accessed via the\n// orig method which is the require for previous bundles\n\n(function (modules, entry, mainEntry, parcelRequireName, globalName) {\n  /* eslint-disable no-undef */\n  var globalObject =\n    typeof globalThis !== 'undefined'\n      ? globalThis\n      : typeof self !== 'undefined'\n      ? self\n      : typeof window !== 'undefined'\n      ? window\n      : typeof global !== 'undefined'\n      ? global\n      : {};\n  /* eslint-enable no-undef */\n\n  // Save the require from previous bundle to this closure if any\n  var previousRequire =\n    typeof globalObject[parcelRequireName] === 'function' &&\n    globalObject[parcelRequireName];\n\n  var cache = previousRequire.cache || {};\n  // Do not use `require` to prevent Webpack from trying to bundle this call\n  var nodeRequire =\n    typeof module !== 'undefined' &&\n    typeof module.require === 'function' &&\n    module.require.bind(module);\n\n  function newRequire(name, jumped) {\n    if (!cache[name]) {\n      if (!modules[name]) {\n        // if we cannot find the module within our internal map or\n        // cache jump to the current global require ie. the last bundle\n        // that was added to the page.\n        var currentRequire =\n          typeof globalObject[parcelRequireName] === 'function' &&\n          globalObject[parcelRequireName];\n        if (!jumped && currentRequire) {\n          return currentRequire(name, true);\n        }\n\n        // If there are other bundles on this page the require from the\n        // previous one is saved to 'previousRequire'. Repeat this as\n        // many times as there are bundles until the module is found or\n        // we exhaust the require chain.\n        if (previousRequire) {\n          return previousRequire(name, true);\n        }\n\n        // Try the node require function if it exists.\n        if (nodeRequire && typeof name === 'string') {\n          return nodeRequire(name);\n        }\n\n        var err = new Error(\"Cannot find module '\" + name + \"'\");\n        err.code = 'MODULE_NOT_FOUND';\n        throw err;\n      }\n\n      localRequire.resolve = resolve;\n      localRequire.cache = {};\n\n      var module = (cache[name] = new newRequire.Module(name));\n\n      modules[name][0].call(\n        module.exports,\n        localRequire,\n        module,\n        module.exports,\n        this\n      );\n    }\n\n    return cache[name].exports;\n\n    function localRequire(x) {\n      var res = localRequire.resolve(x);\n      return res === false ? {} : newRequire(res);\n    }\n\n    function resolve(x) {\n      var id = modules[name][1][x];\n      return id != null ? id : x;\n    }\n  }\n\n  function Module(moduleName) {\n    this.id = moduleName;\n    this.bundle = newRequire;\n    this.exports = {};\n  }\n\n  newRequire.isParcelRequire = true;\n  newRequire.Module = Module;\n  newRequire.modules = modules;\n  newRequire.cache = cache;\n  newRequire.parent = previousRequire;\n  newRequire.register = function (id, exports) {\n    modules[id] = [\n      function (require, module) {\n        module.exports = exports;\n      },\n      {},\n    ];\n  };\n\n  Object.defineProperty(newRequire, 'root', {\n    get: function () {\n      return globalObject[parcelRequireName];\n    },\n  });\n\n  globalObject[parcelRequireName] = newRequire;\n\n  for (var i = 0; i < entry.length; i++) {\n    newRequire(entry[i]);\n  }\n\n  if (mainEntry) {\n    // Expose entry point to Node, AMD or browser globals\n    // Based on https://github.com/ForbesLindesay/umd/blob/master/template.js\n    var mainExports = newRequire(mainEntry);\n\n    // CommonJS\n    if (typeof exports === 'object' && typeof module !== 'undefined') {\n      module.exports = mainExports;\n\n      // RequireJS\n    } else if (typeof define === 'function' && define.amd) {\n      define(function () {\n        return mainExports;\n      });\n\n      // <script>\n    } else if (globalName) {\n      this[globalName] = mainExports;\n    }\n  }\n})({\"3R1AK\":[function(require,module,exports) {\n// completeUserProfile/index.ts\nvar parcelHelpers = require(\"@parcel/transformer-js/src/esmodule-helpers.js\");\nparcelHelpers.defineInteropFlag(exports);\nparcelHelpers.export(exports, \"completeUserProfile\", ()=>completeUserProfile);\nvar _core = require(\"@xatom/core\");\nvar _image = require(\"@xatom/image\");\nvar _slider = require(\"@xatom/slider\");\nvar _authConfig = require(\"../../../../auth/authConfig\");\nvar _formUtils = require(\"../../../../utils/formUtils\");\nvar _validationUtils = require(\"../../../../utils/validationUtils\");\nvar _recaptchaUtils = require(\"../../../../utils/recaptchaUtils\"); // Ensure this function is implemented for reCAPTCHA handling\nvar _apiConfig = require(\"../../../../api/apiConfig\");\nvar _sidebarIndicator = require(\"./sidebarIndicator\"); // Import sidebar functions\nconst completeUserProfile = async ()=>{\n    // Set first name from userAuth\n    const firstNameText = new (0, _core.WFComponent)(\"#firstNameText\");\n    firstNameText.setText((0, _authConfig.userAuth).getUser().profile.first_name);\n    // Request animation element\n    const requestingAnimation = new (0, _core.WFComponent)(\"#requestingAnimation\");\n    // Initialize the sidebar indicators\n    (0, _sidebarIndicator.initializeSidebarIndicators)();\n    // Initialize the form components\n    const formStepOne = new (0, _core.WFFormComponent)(\"#formStepOne\");\n    const formStepTwo = new (0, _core.WFFormComponent)(\"#formStepTwo\");\n    const formStepThree = new (0, _core.WFFormComponent)(\"#formStepThree\");\n    // Slider element\n    const slider = new (0, _slider.WFSlider)(\".multi-step_form_slider\");\n    // --- Step 3 Submit Button ---\n    const submitStepThree = new (0, _core.WFComponent)(\"#submitStepThree\");\n    // --- Step 1 ---\n    const fieldsStepOne = [\n        {\n            input: new (0, _core.WFComponent)(\"#referralInput\"),\n            error: new (0, _core.WFComponent)(\"#referralInputError\"),\n            validationFn: (0, _validationUtils.validateSelectField),\n            message: \"This field is required.\"\n        }\n    ];\n    // Initialize validation for Step 1 fields\n    fieldsStepOne.forEach(({ input, error, validationFn, message })=>{\n        (0, _formUtils.setupValidation)(input, error, (0, _formUtils.createValidationFunction)(input, validationFn, message), new (0, _core.WFComponent)(\"#submitStepOneError\"));\n    });\n    const yMemberCheckbox = new (0, _core.WFComponent)(\"#isYMemberInput\");\n    const yInputHiddenWrapper = new (0, _core.WFComponent)(\"#hiddenyMemberWrapper\");\n    yMemberCheckbox.on(\"change\", ()=>{\n        yInputHiddenWrapper.setStyle({\n            display: yMemberCheckbox.getElement()[\"checked\"] ? \"block\" : \"none\"\n        });\n    });\n    formStepOne.onFormSubmit(async (formData, event)=>{\n        event.preventDefault();\n        let isFormValid = true;\n        fieldsStepOne.forEach(({ input, error, validationFn, message })=>{\n            const errorMessage = (0, _formUtils.createValidationFunction)(input, validationFn, message)();\n            if (errorMessage) {\n                (0, _formUtils.toggleError)(error, errorMessage, true);\n                isFormValid = false;\n            } else (0, _formUtils.toggleError)(error, \"\", false);\n        });\n        if (!isFormValid) {\n            (0, _formUtils.toggleError)(new (0, _core.WFComponent)(\"#submitStepOneError\"), \"Please correct all errors above.\", true);\n            return;\n        }\n        slider.goNext();\n    });\n    // --- Step 2 ---\n    const fieldsStepTwo = [\n        {\n            input: new (0, _core.WFComponent)(\"#phoneNumberInput\"),\n            error: new (0, _core.WFComponent)(\"#phoneNumberInputError\"),\n            validationFn: (0, _validationUtils.validatePhoneNumber),\n            message: \"This field is required.\"\n        }\n    ];\n    (0, _formUtils.setupFileUpload)(new (0, _core.WFComponent)(\"#profilePictureInput\"), new (0, _core.WFComponent)(\"#profilePictureInputError\"), new (0, _core.WFComponent)(\"#profilePictureInputSuccess\"), \"/profiles/image-upload\" // Replace with your actual endpoint\n    );\n    const phoneNumberInput = new (0, _core.WFComponent)(\"#phoneNumberInput\");\n    phoneNumberInput.on(\"input\", ()=>{\n        const inputElement = phoneNumberInput.getElement();\n        const cursorPosition = inputElement.selectionStart;\n        inputElement.value = formatPhoneNumber(inputElement.value);\n        const formattedLength = inputElement.value.length;\n        const cleanedLength = inputElement.value.replace(/\\D/g, \"\").length;\n        inputElement.setSelectionRange(cursorPosition + (formattedLength - cleanedLength), cursorPosition + (formattedLength - cleanedLength));\n    });\n    function formatPhoneNumber(value) {\n        const cleaned = value.replace(/\\D/g, \"\");\n        if (cleaned.length <= 3) return cleaned;\n        else if (cleaned.length <= 6) return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3)}`;\n        else return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3, 6)}-${cleaned.slice(6, 10)}`;\n    }\n    fieldsStepTwo.forEach(({ input, error, validationFn, message })=>{\n        (0, _formUtils.setupValidation)(input, error, (0, _formUtils.createValidationFunction)(input, validationFn, message), new (0, _core.WFComponent)(\"#submitStepTwoError\"));\n    });\n    formStepTwo.onFormSubmit(async (formData, event)=>{\n        event.preventDefault();\n        let isFormValid = true;\n        fieldsStepTwo.forEach(({ input, error, validationFn, message })=>{\n            const errorMessage = (0, _formUtils.createValidationFunction)(input, validationFn, message)();\n            if (errorMessage) {\n                (0, _formUtils.toggleError)(error, errorMessage, true);\n                isFormValid = false;\n            } else (0, _formUtils.toggleError)(error, \"\", false);\n        });\n        if (!isFormValid) {\n            (0, _formUtils.toggleError)(new (0, _core.WFComponent)(\"#submitStepTwoError\"), \"Please correct all errors above.\", true);\n            return;\n        }\n        slider.goNext();\n    });\n    // --- Step 3 ---\n    const userProfilePic = new (0, _image.WFImage)(\"#userProfilePic\");\n    slider.onSlideChange((activeIndex)=>{\n        if (activeIndex === 2) {\n            // Step 3 becomes active\n            const userProfile = (0, _authConfig.userAuth).getUser().profile;\n            const profilePicUrl = userProfile.profile_pic && userProfile.profile_pic.url ? userProfile.profile_pic.url : \"https://cdn.prod.website-files.com/667f080f36260b9afbdc46b2/667f080f36260b9afbdc46be_placeholder.svg\"; // Default fallback image\n            userProfilePic.setImage(profilePicUrl);\n            // Populate review elements\n            new (0, _core.WFComponent)(\"#userFullName\").setText(`${userProfile.first_name} ${userProfile.last_name}`);\n            new (0, _core.WFComponent)(\"#userEmail\").setText((0, _authConfig.userAuth).getUser().email);\n            new (0, _core.WFComponent)(\"#userPhone\").setText(formStepTwo.getFormData().phone);\n            new (0, _core.WFComponent)(\"#userAddress\").setText(formStepTwo.getFormData().address_line_1);\n            new (0, _core.WFComponent)(\"#userAddressLine2\").setText(formStepTwo.getFormData().address_line_2);\n            new (0, _core.WFComponent)(\"#userCity\").setText(formStepTwo.getFormData().city);\n            new (0, _core.WFComponent)(\"#userState\").setText(formStepTwo.getFormData().state);\n            new (0, _core.WFComponent)(\"#userZip\").setText(formStepTwo.getFormData().zip);\n        }\n    });\n    formStepThree.onFormSubmit(async (formData, event)=>{\n        event.preventDefault();\n        // Disable the submit button to prevent multiple submissions\n        submitStepThree.setAttribute(\"disabled\", \"true\");\n        requestingAnimation.setStyle({\n            display: \"block\"\n        });\n        console.log(\"requesting animation displayed\");\n        const isRecaptchaValid = await (0, _recaptchaUtils.handleRecaptcha)(\"complete_profile\");\n        if (!isRecaptchaValid) {\n            requestingAnimation.setStyle({\n                display: \"none\"\n            }); // Hide animation on error\n            submitStepThree.removeAttribute(\"disabled\"); // Re-enable button on error\n            (0, _formUtils.toggleError)(new (0, _core.WFComponent)(\"#submitStepThreeError\"), \"reCAPTCHA verification failed. Please try again.\", true);\n            return;\n        }\n        const completeProfileData = {\n            ...formStepOne.getFormData(),\n            ...formStepTwo.getFormData()\n        };\n        try {\n            const response = await (0, _apiConfig.apiClient).post(\"profiles/complete-profile\", {\n                data: completeProfileData\n            }).fetch();\n            if (response.status === \"success\") {\n                const { profile } = response;\n                new (0, _core.WFComponent)(\"#profileLinkTemplate\").updateTextViaAttrVar({\n                    name: `${profile.first_name} ${profile.last_name}`,\n                    email: profile.email,\n                    phone: profile.phone\n                });\n                // Set profile picture, or fallback if no URL exists\n                const profilePicUrl = profile.profile_pic && profile.profile_pic.url ? profile.profile_pic.url : \"path/to/default/image.jpg\"; // Default fallback image\n                new (0, _image.WFImage)(\"#profileCardImg\").setImage(profilePicUrl);\n                requestingAnimation.setStyle({\n                    display: \"none\"\n                }); // Hide animation on success\n                submitStepThree.removeAttribute(\"disabled\"); // Re-enable button on success\n                slider.goNext();\n            }\n        } catch (error) {\n            console.error(\"Error completing profile\", error);\n            (0, _formUtils.toggleError)(new (0, _core.WFComponent)(\"#submitStepThreeError\"), \"An error occurred. Please try again.\", true);\n            requestingAnimation.setStyle({\n                display: \"none\"\n            }); // Hide animation on error\n            submitStepThree.removeAttribute(\"disabled\"); // Re-enable button on error\n        }\n    });\n    // --- Handle Back Button for Step 2 ---\n    const backStepTwo = new (0, _core.WFComponent)(\"#backStepTwo\");\n    backStepTwo.on(\"click\", ()=>{\n        slider.goPrevious();\n    });\n    // --- Handle Back Button for Step 3 ---\n    const backStepThree = new (0, _core.WFComponent)(\"#backStepThree\");\n    backStepThree.on(\"click\", ()=>{\n        requestingAnimation.setStyle({\n            display: \"none\"\n        }); // Hide animations or loading states\n        slider.goPrevious();\n    });\n    // --- Handle Submit Button for Step 4 ---\n    const submitStepFour = new (0, _core.WFComponent)(\"#submitStepFour\");\n    submitStepFour.on(\"click\", ()=>{\n        // Mark step 4 as completed **before** navigating to the next slide\n        (0, _sidebarIndicator.markStepAsCompleted)(4);\n        console.log(\"Step 4 is marked as complete\");\n        // Move to the next slide (step 5), which has no sidebar indicator\n        slider.goNext();\n    });\n    // --- Handle Back Button for Step 4 ---\n    const backStepFour = new (0, _core.WFComponent)(\"#backStepFour\");\n    backStepFour.on(\"click\", ()=>{\n        // Unmark step 4 as completed since the user is going back\n        (0, _sidebarIndicator.unmarkStepAsCompleted)(4);\n        console.log(\"Step 4 is unmarked as complete\");\n        // Move back to the previous slide (step 3)\n        slider.goPrevious();\n    });\n    // --- Slider Change Event for Sidebar Updates ---\n    slider.onSlideChange((activeIndex, prevIndex)=>{\n        // Set the active step if navigating to a step with a sidebar indicator (steps 1-4)\n        if (activeIndex < 4) (0, _sidebarIndicator.setActiveStep)(activeIndex + 1);\n        // Mark previous steps as complete if moving forward, up to step 4\n        if (prevIndex !== -1 && prevIndex < activeIndex) {\n            for(let i = prevIndex + 1; i <= activeIndex; i++)if (i <= 4) (0, _sidebarIndicator.markStepAsCompleted)(i);\n        }\n        // Unmark all subsequent steps if moving backward, up to step 4\n        if (prevIndex !== -1 && prevIndex > activeIndex) {\n            for(let i = prevIndex; i > activeIndex; i--)if (i <= 4) (0, _sidebarIndicator.unmarkStepAsCompleted)(i);\n        }\n    });\n    // Ensure the sidebar is correctly updated on initialization\n    (0, _sidebarIndicator.setActiveStep)(slider.getActiveSlideIndex() + 1);\n};\n\n},{\"@xatom/core\":\"65YBq\",\"@xatom/image\":\"bavwf\",\"@xatom/slider\":\"ejxGx\",\"../../../../auth/authConfig\":\"dHwPR\",\"../../../../utils/formUtils\":\"gepHz\",\"../../../../utils/validationUtils\":\"gu2z7\",\"../../../../utils/recaptchaUtils\":\"Jsdel\",\"../../../../api/apiConfig\":\"dUmIV\",\"./sidebarIndicator\":\"jqy6Q\",\"@parcel/transformer-js/src/esmodule-helpers.js\":\"jiucr\"}],\"bavwf\":[function(require,module,exports) {\nvar t = require(\"d023971cccd819e3\");\nvar e, r, s, i, o, n, u = {};\ne = u, r = \"WFImage\", s = ()=>c, Object.defineProperty(e, r, {\n    get: s,\n    set: i,\n    enumerable: !0,\n    configurable: !0\n});\nclass c extends t.WFComponent {\n    constructor(t){\n        super(t);\n    }\n    getImageConfig() {\n        return this._config;\n    }\n    getSrc() {\n        return this.getAttribute(\"src\");\n    }\n    getSizes() {\n        return this.getAttribute(\"sizes\");\n    }\n    getSrcSet() {\n        return this.getAttribute(\"srcset\");\n    }\n    getLoading() {\n        return this.getAttribute(\"loading\");\n    }\n    onLoad(t) {\n        return this.on(\"load\", t), ()=>{\n            this.off(\"load\", t);\n        };\n    }\n    onLoadError(t) {\n        return this.on(\"error\", t), ()=>{\n            this.off(\"error\", t);\n        };\n    }\n    setImage(t) {\n        if (\"string\" == typeof t) this.setAttribute(\"src\", t), this.removeAttribute(\"srcset\"), this.removeAttribute(\"sizes\");\n        else {\n            if (this.setAttribute(\"src\", t.src), \"object\" == typeof t && t.srcSet && t.srcSet.length && t.sizes && t.sizes.length) {\n                const e = t.srcSet.map((t)=>`${t.url} ${t.size}`).join(\", \");\n                this.setAttribute(\"srcset\", e);\n            } else this.removeAttribute(\"srcset\"), this.removeAttribute(\"sizes\");\n            t.loading && this.setAttribute(\"loading\", t.loading);\n        }\n    }\n}\no = module.exports, n = u, Object.keys(n).forEach(function(t) {\n    \"default\" === t || \"__esModule\" === t || o.hasOwnProperty(t) || Object.defineProperty(o, t, {\n        enumerable: !0,\n        get: function() {\n            return n[t];\n        }\n    });\n});\n\n},{\"d023971cccd819e3\":\"65YBq\"}],\"ejxGx\":[function(require,module,exports) {\nvar e = require(\"1a87f3bc23b90fa3\"), s = require(\"37b5fd8189a9f4c7\");\nvar t, i, r, l, d = {};\nt = d, i = \"WFSlider\", r = ()=>o, Object.defineProperty(t, i, {\n    get: r,\n    set: l,\n    enumerable: !0,\n    configurable: !0\n});\nconst n = window.jQuery;\nclass o extends e.WFComponent {\n    _sliderConfig = {};\n    _slides = [];\n    _defaultSwipeDisabled = !1;\n    _index = 0;\n    _listeners = new Map;\n    constructor(e){\n        super(e), this.init();\n    }\n    init() {\n        this._defaultSwipeDisabled = \"true\" === this.getAttribute(\"data-disable-swipe\"), this._sliderConfig = n(this.getElement()).data()[\".wSlider\"], this._slides = Array.from(this._sliderConfig.slides).map((s)=>new e.WFComponent(s)), this._mask = new e.WFComponent(this._sliderConfig.mask[0]), this._nav = new e.WFComponent(this._sliderConfig.nav[0]), this._left = new e.WFComponent(this._sliderConfig.left[0]), this._right = new e.WFComponent(this._sliderConfig.right[0]), function(e, s) {\n            if (!document.styleSheets) return;\n            if (0 == document.getElementsByTagName(\"head\").length) return;\n            let t, i;\n            if (document.styleSheets.length > 0) {\n                for(var r = 0, l = document.styleSheets.length; r < l; r++)if (!document.styleSheets[r].disabled) {\n                    var d = document.styleSheets[r].media;\n                    if (i = typeof d, \"string\" === i ? \"\" !== d && -1 === d.indexOf(\"screen\") || (t = document.styleSheets[r]) : \"object\" == i && (\"\" !== d.mediaText && -1 === d.mediaText.indexOf(\"screen\") || (t = document.styleSheets[r])), void 0 !== t) break;\n                }\n            }\n            if (void 0 === t) {\n                var n = document.createElement(\"style\");\n                for(n.type = \"text/css\", document.getElementsByTagName(\"head\")[0].appendChild(n), r = 0; r < document.styleSheets.length; r++)document.styleSheets[r].disabled || (t = document.styleSheets[r]);\n                i = typeof t.media;\n            }\n            if (\"string\" === i) {\n                for(r = 0, l = t.rules.length; r < l; r++)if (t.rules[r].selectorText && t.rules[r].selectorText.toLowerCase() == e.toLowerCase()) return void (t.rules[r].style.cssText = s);\n                t.addRule(e, s);\n            } else if (\"object\" === i) {\n                var o = t.cssRules ? t.cssRules.length : 0;\n                for(r = 0; r < o; r++)if (t.cssRules[r].selectorText && t.cssRules[r].selectorText.toLowerCase() == e.toLowerCase()) return void (t.cssRules[r].style.cssText = s);\n                t.insertRule(e + \"{\" + s + \"}\", o);\n            }\n        }(\".xa-slider-disable\", \"display:none !important;\");\n        const s = this;\n        Object.defineProperty(s._sliderConfig, \"index\", {\n            set: function(e) {\n                s._index = e, s._triggerOnChange();\n            },\n            get: function() {\n                return s._index;\n            }\n        }), this.refereshSlides();\n    }\n    reloadWFSlider() {\n        window.Webflow.require(\"slider\").destroy(), window.Webflow.require(\"slider\").redraw(), window.Webflow.require(\"slider\").ready();\n    }\n    refereshSlides() {\n        this._mask.getChildAsComponents(\".w-slide\").forEach((e)=>e.remove()), this._slides.reverse().forEach((e)=>{\n            this._mask.getElement().prepend(e.getElement());\n        }), this._slides.reverse(), this.reloadWFSlider();\n    }\n    getActiveSlide() {\n        return this._slides[this._index];\n    }\n    getAllSlides() {\n        return [\n            ...this._slides\n        ];\n    }\n    getSlideByIndex(e) {\n        return this._slides[e];\n    }\n    getActiveSlideIndex() {\n        return this._index;\n    }\n    getPreviousSlideIndex() {\n        return this._sliderConfig.previous;\n    }\n    goNext() {\n        this._sliderConfig.right.click();\n    }\n    goPrevious() {\n        this._sliderConfig.left.click();\n    }\n    goToIndex(e) {\n        e >= 0 && e < this._slides.length && (console.log(e), n(this._sliderConfig.nav.children()[e]).click());\n    }\n    addSlide(s, t = {}) {\n        const i = t.index, r = t.cssClass, l = (0, e.createComponent)(\"div\");\n        l.addCssClass(\"w-slide\"), r && l.addCssClass(r), l.appendChild(s);\n        const d = \"number\" != typeof i ? -1 : i, n = this._slides;\n        d >= 0 && d <= n.length ? n.splice(i, 0, l) : n.push(l), this._slides = [\n            ...n\n        ], this.refereshSlides();\n    }\n    removeSlide(e) {\n        const s = [\n            ...this._slides\n        ];\n        e >= 0 && e < s.length && s.splice(e, 1), this._slides = [\n            ...s\n        ], console.log(this._slides), this.refereshSlides();\n    }\n    getSlideNav() {\n        return this._nav;\n    }\n    setSlideNavigationState(e) {\n        e ? (this._left.removeCssClass(\"xa-slider-disable\"), this._right.removeCssClass(\"xa-slider-disable\"), this._nav.removeCssClass(\"xa-slider-disable\"), this.setAttribute(\"data-disable-swipe\", this._defaultSwipeDisabled ? \"true\" : \"false\")) : (this._left.addCssClass(\"xa-slider-disable\"), this._right.addCssClass(\"xa-slider-disable\"), this._nav.addCssClass(\"xa-slider-disable\"), this.setAttribute(\"data-disable-swipe\", \"true\")), this.reloadWFSlider();\n    }\n    onSlideChange(e) {\n        const t = (0, s.v4)();\n        return this._listeners.set(t, e), ()=>{\n            this._listeners.delete(t);\n        };\n    }\n    _triggerOnChange() {\n        Array.from(this._listeners.values()).forEach((e)=>{\n            e(this._index, this._sliderConfig.previous);\n        });\n    }\n    getConfig() {\n        return this._sliderConfig;\n    }\n}\nvar a, h;\na = module.exports, h = d, Object.keys(h).forEach(function(e) {\n    \"default\" === e || \"__esModule\" === e || a.hasOwnProperty(e) || Object.defineProperty(a, e, {\n        enumerable: !0,\n        get: function() {\n            return h[e];\n        }\n    });\n});\n\n},{\"1a87f3bc23b90fa3\":\"65YBq\",\"37b5fd8189a9f4c7\":\"faiuA\"}],\"gepHz\":[function(require,module,exports) {\nvar parcelHelpers = require(\"@parcel/transformer-js/src/esmodule-helpers.js\");\nparcelHelpers.defineInteropFlag(exports);\nparcelHelpers.export(exports, \"toggleError\", ()=>toggleError);\nparcelHelpers.export(exports, \"setupValidation\", ()=>setupValidation);\nparcelHelpers.export(exports, \"createValidationFunction\", ()=>createValidationFunction);\nparcelHelpers.export(exports, \"createCheckboxValidationFunction\", ()=>createCheckboxValidationFunction);\nparcelHelpers.export(exports, \"setupCheckboxValidation\", ()=>setupCheckboxValidation);\nparcelHelpers.export(exports, \"validateSelectedSessions\", ()=>validateSelectedSessions);\n/**\n * Updates the user's profile picture URL in the authentication system.\n * @param {string} imageUrl - The URL of the uploaded image.\n */ parcelHelpers.export(exports, \"setProfilePicUrl\", ()=>setProfilePicUrl);\n/**\n * Handles file upload and displays the uploaded image.\n * @param {WFComponent} fileInput - The WFComponent instance for the file input field.\n * @param {WFComponent} fileInputError - The WFComponent instance for displaying error messages.\n * @param {WFComponent} fileInputSuccess - The WFComponent instance for displaying success messages.\n * @param {string} uploadEndpoint - The endpoint to which the file is sent.\n * @returns {Promise<string>} A promise that resolves with the URL of the uploaded image.\n */ /**\n * Handles file upload and displays the uploaded image.\n * Only JPEG files less than 2 MB can be uploaded.\n * @param {WFComponent} fileInput - The WFComponent instance for the file input field.\n * @param {WFComponent} fileInputError - The WFComponent instance for displaying error messages.\n * @param {WFComponent} fileInputSuccess - The WFComponent instance for displaying success messages.\n * @param {string} uploadEndpoint - The endpoint to which the file is sent.\n * @returns {Promise<string>} A promise that resolves with the URL of the uploaded image.\n */ parcelHelpers.export(exports, \"setupFileUpload\", ()=>setupFileUpload);\nparcelHelpers.export(exports, \"formatPhoneNumber\", ()=>formatPhoneNumber);\nvar _core = require(\"@xatom/core\");\nvar _image = require(\"@xatom/image\");\nvar _apiConfig = require(\"../api/apiConfig\");\nvar _authConfig = require(\"../auth/authConfig\");\nfunction toggleError(errorMessageComponent, message, show) {\n    errorMessageComponent.updateTextViaAttrVar({\n        text: show ? message : \"\"\n    });\n    errorMessageComponent.setStyle({\n        display: show ? \"flex\" : \"none\"\n    });\n}\nfunction setupValidation(inputComponent, errorComponent, validate, requestErrorComponent // Optional component to clear on input change\n) {\n    const validateAndUpdate = ()=>{\n        const errorMessage = validate();\n        toggleError(errorComponent, errorMessage, !!errorMessage);\n        if (requestErrorComponent && errorMessage === \"\") // Clear request error message when the user is correcting the input\n        toggleError(requestErrorComponent, \"\", false);\n    };\n    // Attach event listeners for real-time validation\n    inputComponent.on(\"input\", validateAndUpdate);\n    inputComponent.on(\"blur\", validateAndUpdate);\n    inputComponent.on(\"change\", validateAndUpdate);\n}\nfunction createValidationFunction(inputComponent, validationFn, errorMessage) {\n    return ()=>{\n        const inputElement = inputComponent.getElement();\n        const isValid = validationFn(inputElement.value);\n        return isValid ? \"\" : errorMessage;\n    };\n}\nfunction createCheckboxValidationFunction(checkboxComponent, errorMessage) {\n    return ()=>{\n        const checkbox = checkboxComponent.getElement();\n        return checkbox.checked ? \"\" : errorMessage;\n    };\n}\nfunction setupCheckboxValidation(checkboxComponent, checkboxErrorComponent, errorMessage) {\n    const validate = createCheckboxValidationFunction(checkboxComponent, errorMessage);\n    setupValidation(checkboxComponent, checkboxErrorComponent, validate);\n}\nfunction validateSelectedSessions(selectedSessions, errorMessageComponent, errorMessage) {\n    const isValid = selectedSessions.length > 0 && selectedSessions.some((session)=>session.studentIds.length > 0);\n    if (!isValid) toggleError(errorMessageComponent, errorMessage, true);\n    else toggleError(errorMessageComponent, \"\", false);\n    return isValid;\n}\nfunction setProfilePicUrl(imageUrl) {\n    const user = (0, _authConfig.userAuth).getUser();\n    if (user && user.profile) {\n        // Ensure the profile_picture object exists\n        user.profile.profile_pic = user.profile.profile_pic || {\n            url: \"\"\n        };\n        // Set the profile picture URL\n        user.profile.profile_pic.url = imageUrl;\n        (0, _authConfig.userAuth).setUser(user);\n        localStorage.setItem(\"auth_user\", JSON.stringify(user));\n    }\n}\nfunction setupFileUpload(fileInput, fileInputError, fileInputSuccess, uploadEndpoint) {\n    const profilePictureImage = new (0, _image.WFImage)(\"#profilePictureImage\");\n    const uploadAnimation = new (0, _core.WFComponent)(\"#uploadAnimation\");\n    const overlay = new (0, _core.WFComponent)(\".drop-zone\");\n    let dragCounter = 0;\n    return new Promise((resolve)=>{\n        const handleFile = (file)=>{\n            // Validate file type and size\n            const validTypes = [\n                \"image/jpeg\",\n                \"image/jpg\"\n            ];\n            const maxSizeInBytes = 2097152; // 2 MB\n            if (!validTypes.includes(file.type) && !/\\.(jpg|jpeg)$/i.test(file.name)) {\n                const errorMessage = \"Only JPEG images are allowed.\";\n                toggleError(fileInputError, errorMessage, true);\n                // Reset file input value\n                fileInput.getElement().value = \"\";\n                return;\n            }\n            if (file.size > maxSizeInBytes) {\n                const errorMessage = \"File size must be less than 2 MB.\";\n                toggleError(fileInputError, errorMessage, true);\n                // Reset file input value\n                fileInput.getElement().value = \"\";\n                return;\n            }\n            // Show upload animation immediately\n            uploadAnimation.setStyle({\n                display: \"flex\"\n            });\n            // Hide error and success messages\n            fileInputError.setStyle({\n                display: \"none\"\n            });\n            fileInputSuccess.setStyle({\n                display: \"none\"\n            });\n            const reader = new FileReader();\n            // Display preview image as soon as the file is loaded into memory\n            reader.onload = (event)=>{\n                // Set the preview image for the profile picture\n                const result = event.target?.result;\n                profilePictureImage.setImage(result);\n                // Hide overlay once the image is set\n                overlay.setStyle({\n                    display: \"none\"\n                });\n            };\n            reader.readAsDataURL(file);\n            const formData = new FormData();\n            formData.append(\"profile_picture\", file);\n            const existingStudent = localStorage.getItem(\"current_student\");\n            if (existingStudent) {\n                const student = JSON.parse(existingStudent);\n                formData.append(\"student_profile_id\", student.id.toString());\n            }\n            // Send the file to the server\n            const postRequest = (0, _apiConfig.apiClient).post(uploadEndpoint, {\n                data: formData\n            });\n            postRequest.onData((response)=>{\n                if (response.status === \"success\") {\n                    const imageUrl = response.url.profile_pic.url;\n                    // Update the profile picture URL in the user session and local storage\n                    setProfilePicUrl(imageUrl);\n                    // Update the image for other parts of the UI as well\n                    profilePictureImage.setImage(imageUrl);\n                    // Store the URL in local storage\n                    localStorage.setItem(\"image_upload\", imageUrl);\n                    // Show success message and hide upload animation\n                    fileInputSuccess.setStyle({\n                        display: \"flex\"\n                    });\n                    uploadAnimation.setStyle({\n                        display: \"none\"\n                    });\n                    // Resolve with the uploaded image URL\n                    resolve(imageUrl);\n                } else {\n                    const errorMessage = \"Failed to upload profile picture.\";\n                    toggleError(fileInputError, errorMessage, true);\n                    uploadAnimation.setStyle({\n                        display: \"none\"\n                    });\n                    overlay.setStyle({\n                        display: \"none\"\n                    });\n                    dragCounter = 0;\n                    // Reset file input value\n                    fileInput.getElement().value = \"\";\n                }\n            });\n            postRequest.onError((error)=>{\n                let errorMessage = \"An error occurred during image upload.\";\n                if (error.response && error.response.data) errorMessage = error.response.data.message || errorMessage;\n                else if (error.message) errorMessage = error.message;\n                // Show error message and hide upload animation\n                toggleError(fileInputError, errorMessage, true);\n                uploadAnimation.setStyle({\n                    display: \"none\"\n                });\n                overlay.setStyle({\n                    display: \"none\"\n                });\n                dragCounter = 0;\n                // Reset file input value\n                fileInput.getElement().value = \"\";\n            });\n            // Make the API call\n            postRequest.fetch();\n        };\n        // Event listener for file input changes\n        fileInput.on(\"change\", ()=>{\n            const file = fileInput.getElement().files?.[0];\n            if (file) handleFile(file);\n        });\n        // Event listeners for drag-and-drop\n        const dragZoneElement = document.body;\n        dragZoneElement.addEventListener(\"dragenter\", (event)=>{\n            event.preventDefault();\n            dragCounter++;\n            if (dragCounter === 1) overlay.setStyle({\n                display: \"flex\"\n            });\n        });\n        dragZoneElement.addEventListener(\"dragleave\", ()=>{\n            dragCounter--;\n            if (dragCounter <= 0) {\n                overlay.setStyle({\n                    display: \"none\"\n                });\n                dragCounter = 0;\n            }\n        });\n        dragZoneElement.addEventListener(\"dragover\", (event)=>{\n            event.preventDefault();\n        });\n        dragZoneElement.addEventListener(\"drop\", (event)=>{\n            event.preventDefault();\n            const files = event.dataTransfer?.files;\n            if (files?.length) handleFile(files[0]);\n            overlay.setStyle({\n                display: \"none\"\n            });\n            dragCounter = 0;\n        });\n    });\n}\nconst formatPhoneNumber = (value)=>{\n    const cleaned = value.replace(/\\D/g, \"\"); // Remove all non-digit characters\n    if (cleaned.length <= 3) return cleaned;\n    else if (cleaned.length <= 6) return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3)}`;\n    else if (cleaned.length <= 10) return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3, 6)}-${cleaned.slice(6)}`;\n    else // If more than 10 digits, truncate the extra digits\n    return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3, 6)}-${cleaned.slice(6, 10)}`;\n};\n\n},{\"@xatom/core\":\"65YBq\",\"@xatom/image\":\"bavwf\",\"../api/apiConfig\":\"dUmIV\",\"../auth/authConfig\":\"dHwPR\",\"@parcel/transformer-js/src/esmodule-helpers.js\":\"jiucr\"}],\"gu2z7\":[function(require,module,exports) {\nvar parcelHelpers = require(\"@parcel/transformer-js/src/esmodule-helpers.js\");\nparcelHelpers.defineInteropFlag(exports);\nparcelHelpers.export(exports, \"validateNotEmpty\", ()=>validateNotEmpty);\nparcelHelpers.export(exports, \"validateEmail\", ()=>validateEmail);\nparcelHelpers.export(exports, \"validateEmailOptional\", ()=>validateEmailOptional);\nparcelHelpers.export(exports, \"validatePasswordRequirements\", ()=>validatePasswordRequirements);\nparcelHelpers.export(exports, \"validateCheckbox\", ()=>validateCheckbox);\nparcelHelpers.export(exports, \"validatePasswordsMatch\", ()=>validatePasswordsMatch);\nparcelHelpers.export(exports, \"validateSelectField\", ()=>validateSelectField);\nparcelHelpers.export(exports, \"validatePhoneNumber\", ()=>validatePhoneNumber);\nparcelHelpers.export(exports, \"validatePhoneNumberOptional\", ()=>validatePhoneNumberOptional);\nfunction validateNotEmpty(input) {\n    return input !== undefined && input.trim() !== \"\";\n}\nfunction validateEmail(input) {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(input);\n}\nconst validateEmailOptional = (value)=>{\n    if (value.trim() === \"\") // Email is optional, so empty string is valid\n    return true;\n    // Validate the email format if not empty\n    return validateEmail(value);\n};\nfunction validatePasswordRequirements(password) {\n    const hasLowercase = /[a-z]/.test(password);\n    const hasUppercase = /[A-Z]/.test(password);\n    const hasDigit = /\\d/.test(password);\n    const hasSpecialChar = /[!@#$%^&*(),.?\":{}|<>]/.test(password);\n    const hasValidLength = password.length >= 8;\n    return hasLowercase && hasUppercase && hasDigit && hasSpecialChar && hasValidLength;\n}\nfunction validateCheckbox(checked) {\n    return checked;\n}\nfunction validatePasswordsMatch(originalPassword, confirmPassword) {\n    return originalPassword === confirmPassword;\n}\nfunction validateSelectField(input) {\n    return input !== undefined && input !== \"N/A\";\n}\nfunction validatePhoneNumber(input) {\n    const phoneRegex = /^\\(\\d{3}\\)\\s\\d{3}-\\d{4}$/;\n    return phoneRegex.test(input);\n}\nconst validatePhoneNumberOptional = (value)=>{\n    if (value.trim() === \"\") // Phone number is optional, so empty string is valid\n    return true;\n    // Validate the phone number format if not empty\n    return validatePhoneNumber(value);\n};\n\n},{\"@parcel/transformer-js/src/esmodule-helpers.js\":\"jiucr\"}],\"Jsdel\":[function(require,module,exports) {\n//../../utils/recaptchaUtils.ts\nvar parcelHelpers = require(\"@parcel/transformer-js/src/esmodule-helpers.js\");\nparcelHelpers.defineInteropFlag(exports);\n/**\n * Asynchronously obtains a reCAPTCHA token for a specified action.\n * @param {string} action - The action name for which the reCAPTCHA token is requested.\n * @returns {Promise<string>} A promise that resolves with the reCAPTCHA token.\n */ parcelHelpers.export(exports, \"getRecaptchaToken\", ()=>getRecaptchaToken);\n/**\n * Validates a reCAPTCHA token with the backend server.\n * @param {string} token - The reCAPTCHA token to validate.\n * @returns {Promise<any>} A promise that resolves with the validation response from the server.\n */ parcelHelpers.export(exports, \"validateRecaptchaToken\", ()=>validateRecaptchaToken);\n/**\n * Handles the full reCAPTCHA verification flow from obtaining the token to validating it.\n * @param {string} action - The action name for which the reCAPTCHA should be processed.\n * @returns {Promise<boolean>} A promise that resolves with true if the reCAPTCHA verification is successful.\n */ parcelHelpers.export(exports, \"handleRecaptcha\", ()=>handleRecaptcha);\nvar _apiConfig = require(\"../api/apiConfig\");\nasync function getRecaptchaToken(action) {\n    return new Promise((resolve, reject)=>{\n        // Ensure grecaptcha is ready and execute the token request.\n        grecaptcha.ready(()=>{\n            grecaptcha.execute(\"6Lekaa8pAAAAAN6qiq0LSP5Akckql4Blg6K5ToUq\", {\n                action: action\n            }).then((token)=>{\n                resolve(token); // Resolve with the obtained token.\n            }, reject); // Reject the promise if there is an error.\n        });\n    });\n}\nasync function validateRecaptchaToken(token) {\n    try {\n        // Send the reCAPTCHA token to the server for validation.\n        const response = await (0, _apiConfig.apiClient).post(\"/recaptcha/validate\", {\n            data: {\n                \"g-recaptcha-response\": token\n            }\n        }).fetch();\n        // Return the server's response directly assuming it's already in JSON format.\n        return response; // Assume response is the direct JSON body.\n    } catch (error) {\n        throw new Error(`ReCAPTCHA validation failed: ${error}`);\n    }\n}\nasync function handleRecaptcha(action) {\n    try {\n        const token = await getRecaptchaToken(action);\n        const validationResponse = await validateRecaptchaToken(token);\n        return validationResponse.status === \"success\";\n    } catch (error) {\n        console.error(\"ReCAPTCHA handling failed:\", error);\n        // If error has a response, log it for more context\n        if (error.response) console.error(\"Error response:\", error.response);\n        return false;\n    }\n}\n\n},{\"../api/apiConfig\":\"dUmIV\",\"@parcel/transformer-js/src/esmodule-helpers.js\":\"jiucr\"}],\"jqy6Q\":[function(require,module,exports) {\n// sidebarIndicators.ts\nvar parcelHelpers = require(\"@parcel/transformer-js/src/esmodule-helpers.js\");\nparcelHelpers.defineInteropFlag(exports);\nparcelHelpers.export(exports, \"initializeSidebarIndicators\", ()=>initializeSidebarIndicators);\nparcelHelpers.export(exports, \"setActiveStep\", ()=>setActiveStep);\nparcelHelpers.export(exports, \"unsetActiveStep\", ()=>unsetActiveStep);\nparcelHelpers.export(exports, \"markStepAsCompleted\", ()=>markStepAsCompleted);\nparcelHelpers.export(exports, \"unmarkStepAsCompleted\", ()=>unmarkStepAsCompleted);\nvar _core = require(\"@xatom/core\");\nvar _authConfig = require(\"../../../../auth/authConfig\");\nconst initializeSidebarIndicators = ()=>{\n    const steps = [\n        {\n            id: \"sidebarStepOne\",\n            index: 1\n        },\n        {\n            id: \"sidebarStepTwo\",\n            index: 2\n        },\n        {\n            id: \"sidebarStepThree\",\n            index: 3\n        },\n        {\n            id: \"sidebarStepFour\",\n            index: 4\n        }\n    ];\n    // Set sidebar first name from userAuth\n    const firstNameText = new (0, _core.WFComponent)(\"#firstNameText\");\n    const user = (0, _authConfig.userAuth).getUser();\n    if (user && user.profile && user.profile.first_name) firstNameText.setText(user.profile.first_name);\n    else firstNameText.setText(\"Friend\");\n    steps.forEach((step)=>{\n        const stepComponent = new (0, _core.WFComponent)(`#${step.id}`);\n        let isCompleted = false; // Track the completed state\n        stepComponent.on(\"click\", ()=>{\n            if (isCompleted) isCompleted = false;\n            else isCompleted = true;\n        });\n    });\n};\nconst setActiveStep = (stepNumber)=>{\n    const stepId = getStepId(stepNumber);\n    const stepComponent = new (0, _core.WFComponent)(`#${stepId}`);\n    stepComponent.addCssClass(\"is-active\");\n};\nconst unsetActiveStep = (stepNumber)=>{\n    const stepId = getStepId(stepNumber);\n    const stepComponent = new (0, _core.WFComponent)(`#${stepId}`);\n    stepComponent.removeCssClass(\"is-active\");\n};\nconst markStepAsCompleted = (stepNumber)=>{\n    const stepId = getStepId(stepNumber);\n    const step = new (0, _core.WFComponent)(`#${stepId}`);\n    step.getElement().click(); // Programmatically trigger the click event to mark as complete\n};\nconst unmarkStepAsCompleted = (stepNumber)=>{\n    const stepId = getStepId(stepNumber);\n    const step = new (0, _core.WFComponent)(`#${stepId}`);\n    step.getElement().click(); // Programmatically trigger the click event to unmark as complete\n};\n// Helper function to get the ID string for a step\nconst getStepId = (stepNumber)=>{\n    const stepMap = {\n        1: \"sidebarStepOne\",\n        2: \"sidebarStepTwo\",\n        3: \"sidebarStepThree\",\n        4: \"sidebarStepFour\"\n    };\n    return stepMap[stepNumber] || `sidebarStep${stepNumber}`;\n};\n\n},{\"@xatom/core\":\"65YBq\",\"../../../../auth/authConfig\":\"dHwPR\",\"@parcel/transformer-js/src/esmodule-helpers.js\":\"jiucr\"}]},[], null, \"parcelRequired346\")\n\n//# sourceMappingURL=completeUserProfile.06238612.js.map\n","// completeUserProfile/index.ts\n\nimport { WFComponent, WFFormComponent, WFInvisibleForm } from \"@xatom/core\";\nimport { WFImage } from \"@xatom/image\";\nimport { WFSlider } from \"@xatom/slider\";\nimport { userAuth } from \"../../../../auth/authConfig\";\nimport {\n  setupValidation,\n  createValidationFunction,\n  toggleError,\n  setupFileUpload,\n} from \"../../../../utils/formUtils\";\nimport {\n  validateNotEmpty,\n  validatePhoneNumber,\n  validateSelectField,\n} from \"../../../../utils/validationUtils\";\nimport { handleRecaptcha } from \"../../../../utils/recaptchaUtils\"; // Ensure this function is implemented for reCAPTCHA handling\nimport { apiClient } from \"../../../../api/apiConfig\";\nimport {\n  initializeSidebarIndicators,\n  setActiveStep,\n  markStepAsCompleted,\n  unmarkStepAsCompleted,\n} from \"./sidebarIndicator\"; // Import sidebar functions\n\ntype completeProfileResponse = {\n  status: string;\n  profile: {\n    id: number;\n    first_name: string;\n    last_name: string;\n    email: string;\n    phone: string;\n    profile_pic?: {\n      url?: string;\n    };\n  };\n};\n\nexport const completeUserProfile = async () => {\n  // Set first name from userAuth\n  const firstNameText = new WFComponent(\"#firstNameText\");\n  firstNameText.setText(userAuth.getUser().profile.first_name);\n\n  // Request animation element\n  const requestingAnimation = new WFComponent(\"#requestingAnimation\");\n\n  // Initialize the sidebar indicators\n  initializeSidebarIndicators();\n\n  // Initialize the form components\n  const formStepOne = new WFFormComponent<{\n    referred_by: string;\n    is_y_memeber: boolean;\n    y_member_id: string;\n  }>(\"#formStepOne\");\n\n  const formStepTwo = new WFFormComponent<{\n    profile_pic: string;\n    phone: string;\n    send_texts: boolean;\n    address_line_1: string;\n    address_line_2: string;\n    city: string;\n    state: string;\n    zip: string;\n  }>(\"#formStepTwo\");\n\n  const formStepThree = new WFFormComponent<{}>(\"#formStepThree\");\n\n  // Slider element\n  const slider = new WFSlider(\".multi-step_form_slider\");\n\n  // --- Step 3 Submit Button ---\n  const submitStepThree = new WFComponent(\"#submitStepThree\");\n\n  // --- Step 1 ---\n  const fieldsStepOne = [\n    {\n      input: new WFComponent(\"#referralInput\"),\n      error: new WFComponent(\"#referralInputError\"),\n      validationFn: validateSelectField,\n      message: \"This field is required.\",\n    },\n  ];\n\n  // Initialize validation for Step 1 fields\n  fieldsStepOne.forEach(({ input, error, validationFn, message }) => {\n    setupValidation(\n      input,\n      error,\n      createValidationFunction(input, validationFn, message),\n      new WFComponent(\"#submitStepOneError\")\n    );\n  });\n\n  const yMemberCheckbox = new WFComponent(\"#isYMemberInput\");\n  const yInputHiddenWrapper = new WFComponent(\"#hiddenyMemberWrapper\");\n\n  yMemberCheckbox.on(\"change\", () => {\n    yInputHiddenWrapper.setStyle({\n      display: yMemberCheckbox.getElement()[\"checked\"] ? \"block\" : \"none\",\n    });\n  });\n\n  formStepOne.onFormSubmit(async (formData, event) => {\n    event.preventDefault();\n    let isFormValid = true;\n\n    fieldsStepOne.forEach(({ input, error, validationFn, message }) => {\n      const errorMessage = createValidationFunction(\n        input,\n        validationFn,\n        message\n      )();\n      if (errorMessage) {\n        toggleError(error, errorMessage, true);\n        isFormValid = false;\n      } else {\n        toggleError(error, \"\", false);\n      }\n    });\n\n    if (!isFormValid) {\n      toggleError(\n        new WFComponent(\"#submitStepOneError\"),\n        \"Please correct all errors above.\",\n        true\n      );\n      return;\n    }\n\n    slider.goNext();\n  });\n\n  // --- Step 2 ---\n  const fieldsStepTwo = [\n    {\n      input: new WFComponent(\"#phoneNumberInput\"),\n      error: new WFComponent(\"#phoneNumberInputError\"),\n      validationFn: validatePhoneNumber,\n      message: \"This field is required.\",\n    },\n  ];\n\n  setupFileUpload(\n    new WFComponent(\"#profilePictureInput\"),\n    new WFComponent(\"#profilePictureInputError\"),\n    new WFComponent(\"#profilePictureInputSuccess\"),\n    \"/profiles/image-upload\" // Replace with your actual endpoint\n  );\n\n  const phoneNumberInput = new WFComponent(\"#phoneNumberInput\");\n  phoneNumberInput.on(\"input\", () => {\n    const inputElement = phoneNumberInput.getElement() as HTMLInputElement;\n    const cursorPosition = inputElement.selectionStart as number;\n\n    inputElement.value = formatPhoneNumber(inputElement.value);\n\n    const formattedLength = inputElement.value.length;\n    const cleanedLength = inputElement.value.replace(/\\D/g, \"\").length;\n    inputElement.setSelectionRange(\n      cursorPosition + (formattedLength - cleanedLength),\n      cursorPosition + (formattedLength - cleanedLength)\n    );\n  });\n\n  function formatPhoneNumber(value: string): string {\n    const cleaned = value.replace(/\\D/g, \"\");\n    if (cleaned.length <= 3) {\n      return cleaned;\n    } else if (cleaned.length <= 6) {\n      return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3)}`;\n    } else {\n      return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3, 6)}-${cleaned.slice(\n        6,\n        10\n      )}`;\n    }\n  }\n\n  fieldsStepTwo.forEach(({ input, error, validationFn, message }) => {\n    setupValidation(\n      input,\n      error,\n      createValidationFunction(input, validationFn, message),\n      new WFComponent(\"#submitStepTwoError\")\n    );\n  });\n\n  formStepTwo.onFormSubmit(async (formData, event) => {\n    event.preventDefault();\n    let isFormValid = true;\n\n    fieldsStepTwo.forEach(({ input, error, validationFn, message }) => {\n      const errorMessage = createValidationFunction(\n        input,\n        validationFn,\n        message\n      )();\n      if (errorMessage) {\n        toggleError(error, errorMessage, true);\n        isFormValid = false;\n      } else {\n        toggleError(error, \"\", false);\n      }\n    });\n\n    if (!isFormValid) {\n      toggleError(\n        new WFComponent(\"#submitStepTwoError\"),\n        \"Please correct all errors above.\",\n        true\n      );\n      return;\n    }\n\n    slider.goNext();\n  });\n\n  // --- Step 3 ---\n  const userProfilePic = new WFImage(\"#userProfilePic\");\n\n  slider.onSlideChange((activeIndex) => {\n    if (activeIndex === 2) {\n      // Step 3 becomes active\n      const userProfile = userAuth.getUser().profile;\n      const profilePicUrl =\n        userProfile.profile_pic && userProfile.profile_pic.url\n          ? userProfile.profile_pic.url\n          : \"https://cdn.prod.website-files.com/667f080f36260b9afbdc46b2/667f080f36260b9afbdc46be_placeholder.svg\"; // Default fallback image\n\n      userProfilePic.setImage(profilePicUrl);\n\n      // Populate review elements\n      new WFComponent(\"#userFullName\").setText(\n        `${userProfile.first_name} ${userProfile.last_name}`\n      );\n      new WFComponent(\"#userEmail\").setText(userAuth.getUser().email);\n      new WFComponent(\"#userPhone\").setText(formStepTwo.getFormData().phone);\n      new WFComponent(\"#userAddress\").setText(\n        formStepTwo.getFormData().address_line_1\n      );\n      new WFComponent(\"#userAddressLine2\").setText(\n        formStepTwo.getFormData().address_line_2\n      );\n      new WFComponent(\"#userCity\").setText(formStepTwo.getFormData().city);\n      new WFComponent(\"#userState\").setText(formStepTwo.getFormData().state);\n      new WFComponent(\"#userZip\").setText(formStepTwo.getFormData().zip);\n    }\n  });\n\n  formStepThree.onFormSubmit(async (formData, event) => {\n    event.preventDefault();\n\n    // Disable the submit button to prevent multiple submissions\n    submitStepThree.setAttribute(\"disabled\", \"true\");\n    requestingAnimation.setStyle({ display: \"block\" });\n    console.log(\"requesting animation displayed\");\n\n    const isRecaptchaValid = await handleRecaptcha(\"complete_profile\");\n    if (!isRecaptchaValid) {\n      requestingAnimation.setStyle({ display: \"none\" }); // Hide animation on error\n      submitStepThree.removeAttribute(\"disabled\"); // Re-enable button on error\n      toggleError(\n        new WFComponent(\"#submitStepThreeError\"),\n        \"reCAPTCHA verification failed. Please try again.\",\n        true\n      );\n      return;\n    }\n\n    const completeProfileData = {\n      ...formStepOne.getFormData(),\n      ...formStepTwo.getFormData(),\n    };\n\n    try {\n      const response = await apiClient\n        .post<completeProfileResponse>(\"profiles/complete-profile\", {\n          data: completeProfileData,\n        })\n        .fetch();\n\n      if (response.status === \"success\") {\n        const { profile } = response;\n\n        new WFComponent(\"#profileLinkTemplate\").updateTextViaAttrVar({\n          name: `${profile.first_name} ${profile.last_name}`,\n          email: profile.email,\n          phone: profile.phone,\n        });\n\n        // Set profile picture, or fallback if no URL exists\n        const profilePicUrl =\n          profile.profile_pic && profile.profile_pic.url\n            ? profile.profile_pic.url\n            : \"path/to/default/image.jpg\"; // Default fallback image\n        new WFImage(\"#profileCardImg\").setImage(profilePicUrl);\n\n        requestingAnimation.setStyle({ display: \"none\" }); // Hide animation on success\n        submitStepThree.removeAttribute(\"disabled\"); // Re-enable button on success\n        slider.goNext();\n      }\n    } catch (error) {\n      console.error(\"Error completing profile\", error);\n      toggleError(\n        new WFComponent(\"#submitStepThreeError\"),\n        \"An error occurred. Please try again.\",\n        true\n      );\n      requestingAnimation.setStyle({ display: \"none\" }); // Hide animation on error\n      submitStepThree.removeAttribute(\"disabled\"); // Re-enable button on error\n    }\n  });\n\n  // --- Handle Back Button for Step 2 ---\n  const backStepTwo = new WFComponent(\"#backStepTwo\");\n\n  backStepTwo.on(\"click\", () => {\n    slider.goPrevious();\n  });\n\n  // --- Handle Back Button for Step 3 ---\n  const backStepThree = new WFComponent(\"#backStepThree\");\n\n  backStepThree.on(\"click\", () => {\n    requestingAnimation.setStyle({ display: \"none\" }); // Hide animations or loading states\n    slider.goPrevious();\n  });\n\n  // --- Handle Submit Button for Step 4 ---\n  const submitStepFour = new WFComponent(\"#submitStepFour\");\n\n  submitStepFour.on(\"click\", () => {\n    // Mark step 4 as completed **before** navigating to the next slide\n    markStepAsCompleted(4);\n    console.log(\"Step 4 is marked as complete\");\n\n    // Move to the next slide (step 5), which has no sidebar indicator\n    slider.goNext();\n  });\n\n  // --- Handle Back Button for Step 4 ---\n  const backStepFour = new WFComponent(\"#backStepFour\");\n\n  backStepFour.on(\"click\", () => {\n    // Unmark step 4 as completed since the user is going back\n    unmarkStepAsCompleted(4);\n    console.log(\"Step 4 is unmarked as complete\");\n\n    // Move back to the previous slide (step 3)\n    slider.goPrevious();\n  });\n\n  // --- Slider Change Event for Sidebar Updates ---\n  slider.onSlideChange((activeIndex, prevIndex) => {\n    // Set the active step if navigating to a step with a sidebar indicator (steps 1-4)\n    if (activeIndex < 4) {\n      setActiveStep(activeIndex + 1);\n    }\n\n    // Mark previous steps as complete if moving forward, up to step 4\n    if (prevIndex !== -1 && prevIndex < activeIndex) {\n      for (let i = prevIndex + 1; i <= activeIndex; i++) {\n        if (i <= 4) {\n          markStepAsCompleted(i);\n        }\n      }\n    }\n\n    // Unmark all subsequent steps if moving backward, up to step 4\n    if (prevIndex !== -1 && prevIndex > activeIndex) {\n      for (let i = prevIndex; i > activeIndex; i--) {\n        if (i <= 4) {\n          unmarkStepAsCompleted(i);\n        }\n      }\n    }\n  });\n\n  // Ensure the sidebar is correctly updated on initialization\n  setActiveStep(slider.getActiveSlideIndex() + 1);\n};\n","var t=require(\"@xatom/core\");var e,r,s,i,o,n,u={};e=u,r=\"WFImage\",s=()=>c,Object.defineProperty(e,r,{get:s,set:i,enumerable:!0,configurable:!0});class c extends t.WFComponent{constructor(t){super(t)}getImageConfig(){return this._config}getSrc(){return this.getAttribute(\"src\")}getSizes(){return this.getAttribute(\"sizes\")}getSrcSet(){return this.getAttribute(\"srcset\")}getLoading(){return this.getAttribute(\"loading\")}onLoad(t){return this.on(\"load\",t),()=>{this.off(\"load\",t)}}onLoadError(t){return this.on(\"error\",t),()=>{this.off(\"error\",t)}}setImage(t){if(\"string\"==typeof t)this.setAttribute(\"src\",t),this.removeAttribute(\"srcset\"),this.removeAttribute(\"sizes\");else{if(this.setAttribute(\"src\",t.src),\"object\"==typeof t&&t.srcSet&&t.srcSet.length&&t.sizes&&t.sizes.length){const e=t.srcSet.map((t=>`${t.url} ${t.size}`)).join(\", \");this.setAttribute(\"srcset\",e)}else this.removeAttribute(\"srcset\"),this.removeAttribute(\"sizes\");t.loading&&this.setAttribute(\"loading\",t.loading)}}}o=module.exports,n=u,Object.keys(n).forEach((function(t){\"default\"===t||\"__esModule\"===t||o.hasOwnProperty(t)||Object.defineProperty(o,t,{enumerable:!0,get:function(){return n[t]}})}));","var e=require(\"@xatom/core\"),s=require(\"uuid\");var t,i,r,l,d={};t=d,i=\"WFSlider\",r=()=>o,Object.defineProperty(t,i,{get:r,set:l,enumerable:!0,configurable:!0});const n=window.jQuery;class o extends e.WFComponent{_sliderConfig={};_slides=[];_defaultSwipeDisabled=!1;_index=0;_listeners=new Map;constructor(e){super(e),this.init()}init(){this._defaultSwipeDisabled=\"true\"===this.getAttribute(\"data-disable-swipe\"),this._sliderConfig=n(this.getElement()).data()[\".wSlider\"],this._slides=Array.from(this._sliderConfig.slides).map((s=>new(0,e.WFComponent)(s))),this._mask=new(0,e.WFComponent)(this._sliderConfig.mask[0]),this._nav=new(0,e.WFComponent)(this._sliderConfig.nav[0]),this._left=new(0,e.WFComponent)(this._sliderConfig.left[0]),this._right=new(0,e.WFComponent)(this._sliderConfig.right[0]),function(e,s){if(!document.styleSheets)return;if(0==document.getElementsByTagName(\"head\").length)return;let t,i;if(document.styleSheets.length>0)for(var r=0,l=document.styleSheets.length;r<l;r++)if(!document.styleSheets[r].disabled){var d=document.styleSheets[r].media;if(i=typeof d,\"string\"===i?\"\"!==d&&-1===d.indexOf(\"screen\")||(t=document.styleSheets[r]):\"object\"==i&&(\"\"!==d.mediaText&&-1===d.mediaText.indexOf(\"screen\")||(t=document.styleSheets[r])),void 0!==t)break}if(void 0===t){var n=document.createElement(\"style\");for(n.type=\"text/css\",document.getElementsByTagName(\"head\")[0].appendChild(n),r=0;r<document.styleSheets.length;r++)document.styleSheets[r].disabled||(t=document.styleSheets[r]);i=typeof t.media}if(\"string\"===i){for(r=0,l=t.rules.length;r<l;r++)if(t.rules[r].selectorText&&t.rules[r].selectorText.toLowerCase()==e.toLowerCase())return void(t.rules[r].style.cssText=s);t.addRule(e,s)}else if(\"object\"===i){var o=t.cssRules?t.cssRules.length:0;for(r=0;r<o;r++)if(t.cssRules[r].selectorText&&t.cssRules[r].selectorText.toLowerCase()==e.toLowerCase())return void(t.cssRules[r].style.cssText=s);t.insertRule(e+\"{\"+s+\"}\",o)}}(\".xa-slider-disable\",\"display:none !important;\");const s=this;Object.defineProperty(s._sliderConfig,\"index\",{set:function(e){s._index=e,s._triggerOnChange()},get:function(){return s._index}}),this.refereshSlides()}reloadWFSlider(){window.Webflow.require(\"slider\").destroy(),window.Webflow.require(\"slider\").redraw(),window.Webflow.require(\"slider\").ready()}refereshSlides(){this._mask.getChildAsComponents(\".w-slide\").forEach((e=>e.remove())),this._slides.reverse().forEach((e=>{this._mask.getElement().prepend(e.getElement())})),this._slides.reverse(),this.reloadWFSlider()}getActiveSlide(){return this._slides[this._index]}getAllSlides(){return[...this._slides]}getSlideByIndex(e){return this._slides[e]}getActiveSlideIndex(){return this._index}getPreviousSlideIndex(){return this._sliderConfig.previous}goNext(){this._sliderConfig.right.click()}goPrevious(){this._sliderConfig.left.click()}goToIndex(e){e>=0&&e<this._slides.length&&(console.log(e),n(this._sliderConfig.nav.children()[e]).click())}addSlide(s,t={}){const i=t.index,r=t.cssClass,l=(0,e.createComponent)(\"div\");l.addCssClass(\"w-slide\"),r&&l.addCssClass(r),l.appendChild(s);const d=\"number\"!=typeof i?-1:i,n=this._slides;d>=0&&d<=n.length?n.splice(i,0,l):n.push(l),this._slides=[...n],this.refereshSlides()}removeSlide(e){const s=[...this._slides];e>=0&&e<s.length&&s.splice(e,1),this._slides=[...s],console.log(this._slides),this.refereshSlides()}getSlideNav(){return this._nav}setSlideNavigationState(e){e?(this._left.removeCssClass(\"xa-slider-disable\"),this._right.removeCssClass(\"xa-slider-disable\"),this._nav.removeCssClass(\"xa-slider-disable\"),this.setAttribute(\"data-disable-swipe\",this._defaultSwipeDisabled?\"true\":\"false\")):(this._left.addCssClass(\"xa-slider-disable\"),this._right.addCssClass(\"xa-slider-disable\"),this._nav.addCssClass(\"xa-slider-disable\"),this.setAttribute(\"data-disable-swipe\",\"true\")),this.reloadWFSlider()}onSlideChange(e){const t=(0,s.v4)();return this._listeners.set(t,e),()=>{this._listeners.delete(t)}}_triggerOnChange(){Array.from(this._listeners.values()).forEach((e=>{e(this._index,this._sliderConfig.previous)}))}getConfig(){return this._sliderConfig}}var a,h;a=module.exports,h=d,Object.keys(h).forEach((function(e){\"default\"===e||\"__esModule\"===e||a.hasOwnProperty(e)||Object.defineProperty(a,e,{enumerable:!0,get:function(){return h[e]}})}));","import { WFComponent } from \"@xatom/core\";\nimport { WFImage } from \"@xatom/image\";\nimport { apiClient } from \"../api/apiConfig\";\nimport { userAuth } from \"../auth/authConfig\";\n\nexport function toggleError(\n  errorMessageComponent: WFComponent<any>,\n  message: string,\n  show: boolean\n): void {\n  errorMessageComponent.updateTextViaAttrVar({ text: show ? message : \"\" });\n  errorMessageComponent.setStyle({ display: show ? \"flex\" : \"none\" });\n}\n\nexport function setupValidation(\n  inputComponent: WFComponent,\n  errorComponent: WFComponent,\n  validate: () => string,\n  requestErrorComponent?: WFComponent // Optional component to clear on input change\n) {\n  const validateAndUpdate = () => {\n    const errorMessage = validate();\n    toggleError(errorComponent, errorMessage, !!errorMessage);\n    if (requestErrorComponent && errorMessage === \"\") {\n      // Clear request error message when the user is correcting the input\n      toggleError(requestErrorComponent, \"\", false);\n    }\n  };\n\n  // Attach event listeners for real-time validation\n  inputComponent.on(\"input\", validateAndUpdate);\n  inputComponent.on(\"blur\", validateAndUpdate);\n  inputComponent.on(\"change\", validateAndUpdate);\n}\n\nexport function createValidationFunction(\n  inputComponent: WFComponent,\n  validationFn: (input: string) => boolean,\n  errorMessage: string\n): () => string {\n  return () => {\n    const inputElement = inputComponent.getElement() as HTMLInputElement;\n    const isValid = validationFn(inputElement.value);\n    return isValid ? \"\" : errorMessage;\n  };\n}\n\nexport function createCheckboxValidationFunction(\n  checkboxComponent: WFComponent,\n  errorMessage: string\n): () => string {\n  return () => {\n    const checkbox = checkboxComponent.getElement() as HTMLInputElement;\n    return checkbox.checked ? \"\" : errorMessage;\n  };\n}\n\nexport function setupCheckboxValidation(\n  checkboxComponent: WFComponent,\n  checkboxErrorComponent: WFComponent,\n  errorMessage: string\n) {\n  const validate = createCheckboxValidationFunction(\n    checkboxComponent,\n    errorMessage\n  );\n  setupValidation(checkboxComponent, checkboxErrorComponent, validate);\n}\n\nexport function validateSelectedSessions(\n  selectedSessions: { sessionId: string; studentIds: string[] }[],\n  errorMessageComponent: WFComponent<any>,\n  errorMessage: string\n): boolean {\n  const isValid =\n    selectedSessions.length > 0 &&\n    selectedSessions.some((session) => session.studentIds.length > 0);\n\n  if (!isValid) {\n    toggleError(errorMessageComponent, errorMessage, true);\n  } else {\n    toggleError(errorMessageComponent, \"\", false);\n  }\n\n  return isValid;\n}\n\ntype fileUploadResponse = {\n  status: string;\n  url: {\n    profile_pic: {\n      url: string;\n    };\n  };\n};\n\n/**\n * Updates the user's profile picture URL in the authentication system.\n * @param {string} imageUrl - The URL of the uploaded image.\n */\nexport function setProfilePicUrl(imageUrl: string): void {\n  const user = userAuth.getUser();\n  if (user && user.profile) {\n    // Ensure the profile_picture object exists\n    user.profile.profile_pic = user.profile.profile_pic || { url: \"\" };\n\n    // Set the profile picture URL\n    user.profile.profile_pic.url = imageUrl;\n    userAuth.setUser(user);\n    localStorage.setItem(\"auth_user\", JSON.stringify(user));\n  }\n}\n\n/**\n * Handles file upload and displays the uploaded image.\n * @param {WFComponent} fileInput - The WFComponent instance for the file input field.\n * @param {WFComponent} fileInputError - The WFComponent instance for displaying error messages.\n * @param {WFComponent} fileInputSuccess - The WFComponent instance for displaying success messages.\n * @param {string} uploadEndpoint - The endpoint to which the file is sent.\n * @returns {Promise<string>} A promise that resolves with the URL of the uploaded image.\n */\n/**\n * Handles file upload and displays the uploaded image.\n * Only JPEG files less than 2 MB can be uploaded.\n * @param {WFComponent} fileInput - The WFComponent instance for the file input field.\n * @param {WFComponent} fileInputError - The WFComponent instance for displaying error messages.\n * @param {WFComponent} fileInputSuccess - The WFComponent instance for displaying success messages.\n * @param {string} uploadEndpoint - The endpoint to which the file is sent.\n * @returns {Promise<string>} A promise that resolves with the URL of the uploaded image.\n */\nexport function setupFileUpload(\n  fileInput: WFComponent,\n  fileInputError: WFComponent,\n  fileInputSuccess: WFComponent,\n  uploadEndpoint: string\n): Promise<string> {\n  const profilePictureImage = new WFImage(\"#profilePictureImage\");\n  const uploadAnimation = new WFComponent(\"#uploadAnimation\");\n\n  const overlay = new WFComponent(\".drop-zone\");\n  let dragCounter = 0;\n\n  return new Promise<string>((resolve) => {\n    const handleFile = (file: File) => {\n      // Validate file type and size\n      const validTypes = [\"image/jpeg\", \"image/jpg\"];\n      const maxSizeInBytes = 2 * 1024 * 1024; // 2 MB\n\n      if (\n        !validTypes.includes(file.type) &&\n        !/\\.(jpg|jpeg)$/i.test(file.name)\n      ) {\n        const errorMessage = \"Only JPEG images are allowed.\";\n        toggleError(fileInputError, errorMessage, true);\n        // Reset file input value\n        (fileInput.getElement() as HTMLInputElement).value = \"\";\n        return;\n      }\n\n      if (file.size > maxSizeInBytes) {\n        const errorMessage = \"File size must be less than 2 MB.\";\n        toggleError(fileInputError, errorMessage, true);\n        // Reset file input value\n        (fileInput.getElement() as HTMLInputElement).value = \"\";\n        return;\n      }\n\n      // Show upload animation immediately\n      uploadAnimation.setStyle({ display: \"flex\" });\n\n      // Hide error and success messages\n      fileInputError.setStyle({ display: \"none\" });\n      fileInputSuccess.setStyle({ display: \"none\" });\n\n      const reader = new FileReader();\n\n      // Display preview image as soon as the file is loaded into memory\n      reader.onload = (event) => {\n        // Set the preview image for the profile picture\n        const result = event.target?.result as string;\n        profilePictureImage.setImage(result);\n\n        // Hide overlay once the image is set\n        overlay.setStyle({ display: \"none\" });\n      };\n\n      reader.readAsDataURL(file);\n\n      const formData = new FormData();\n      formData.append(\"profile_picture\", file);\n\n      const existingStudent = localStorage.getItem(\"current_student\");\n      if (existingStudent) {\n        const student = JSON.parse(existingStudent);\n        formData.append(\"student_profile_id\", student.id.toString());\n      }\n\n      // Send the file to the server\n      const postRequest = apiClient.post<fileUploadResponse>(uploadEndpoint, {\n        data: formData,\n      });\n\n      postRequest.onData((response) => {\n        if (response.status === \"success\") {\n          const imageUrl = response.url.profile_pic.url;\n\n          // Update the profile picture URL in the user session and local storage\n          setProfilePicUrl(imageUrl);\n\n          // Update the image for other parts of the UI as well\n          profilePictureImage.setImage(imageUrl);\n\n          // Store the URL in local storage\n          localStorage.setItem(\"image_upload\", imageUrl);\n\n          // Show success message and hide upload animation\n          fileInputSuccess.setStyle({ display: \"flex\" });\n          uploadAnimation.setStyle({ display: \"none\" });\n\n          // Resolve with the uploaded image URL\n          resolve(imageUrl);\n        } else {\n          const errorMessage = \"Failed to upload profile picture.\";\n          toggleError(fileInputError, errorMessage, true);\n          uploadAnimation.setStyle({ display: \"none\" });\n          overlay.setStyle({ display: \"none\" });\n          dragCounter = 0;\n          // Reset file input value\n          (fileInput.getElement() as HTMLInputElement).value = \"\";\n        }\n      });\n\n      postRequest.onError((error) => {\n        let errorMessage = \"An error occurred during image upload.\";\n        if (error.response && error.response.data) {\n          errorMessage = error.response.data.message || errorMessage;\n        } else if (error.message) {\n          errorMessage = error.message;\n        }\n\n        // Show error message and hide upload animation\n        toggleError(fileInputError, errorMessage, true);\n        uploadAnimation.setStyle({ display: \"none\" });\n        overlay.setStyle({ display: \"none\" });\n        dragCounter = 0;\n        // Reset file input value\n        (fileInput.getElement() as HTMLInputElement).value = \"\";\n      });\n\n      // Make the API call\n      postRequest.fetch();\n    };\n\n    // Event listener for file input changes\n    fileInput.on(\"change\", () => {\n      const file = (fileInput.getElement() as HTMLInputElement).files?.[0];\n      if (file) {\n        handleFile(file);\n      }\n    });\n\n    // Event listeners for drag-and-drop\n    const dragZoneElement = document.body;\n    dragZoneElement.addEventListener(\"dragenter\", (event) => {\n      event.preventDefault();\n      dragCounter++;\n      if (dragCounter === 1) {\n        overlay.setStyle({ display: \"flex\" });\n      }\n    });\n\n    dragZoneElement.addEventListener(\"dragleave\", () => {\n      dragCounter--;\n      if (dragCounter <= 0) {\n        overlay.setStyle({ display: \"none\" });\n        dragCounter = 0;\n      }\n    });\n\n    dragZoneElement.addEventListener(\"dragover\", (event) => {\n      event.preventDefault();\n    });\n\n    dragZoneElement.addEventListener(\"drop\", (event) => {\n      event.preventDefault();\n\n      const files = event.dataTransfer?.files;\n      if (files?.length) {\n        handleFile(files[0]);\n      }\n\n      overlay.setStyle({ display: \"none\" });\n      dragCounter = 0;\n    });\n  });\n}\n\n// src/utils/formUtils.ts\n\n/**\n * Formats a phone number string to the format (xxx) xxx-xxxx.\n * If the input contains more than 10 digits, it truncates the extra digits.\n * If it contains fewer, it formats as much as possible.\n *\n * @param value - The raw phone number string.\n * @returns The formatted phone number string.\n */\nexport const formatPhoneNumber = (value: string): string => {\n  const cleaned = value.replace(/\\D/g, \"\"); // Remove all non-digit characters\n\n  if (cleaned.length <= 3) {\n    return cleaned;\n  } else if (cleaned.length <= 6) {\n    return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3)}`;\n  } else if (cleaned.length <= 10) {\n    return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3, 6)}-${cleaned.slice(\n      6\n    )}`;\n  } else {\n    // If more than 10 digits, truncate the extra digits\n    return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3, 6)}-${cleaned.slice(\n      6,\n      10\n    )}`;\n  }\n};\n","import { WFComponent } from \"@xatom/core\";\nimport { toggleError } from \"./formUtils\";\n\nexport function validateNotEmpty(input: string | undefined): boolean {\n  return input !== undefined && input.trim() !== \"\";\n}\n\nexport function validateEmail(input: string): boolean {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailRegex.test(input);\n}\n\n/**\n * Validates that the email is either empty or correctly formatted.\n * @param value The email input value.\n * @returns True if valid, false otherwise.\n */\nexport const validateEmailOptional = (value: string): boolean => {\n  if (value.trim() === \"\") {\n    // Email is optional, so empty string is valid\n    return true;\n  }\n  // Validate the email format if not empty\n  return validateEmail(value);\n};\n\nexport function validatePasswordRequirements(password: string): boolean {\n  const hasLowercase = /[a-z]/.test(password);\n  const hasUppercase = /[A-Z]/.test(password);\n  const hasDigit = /\\d/.test(password);\n  const hasSpecialChar = /[!@#$%^&*(),.?\":{}|<>]/.test(password);\n  const hasValidLength = password.length >= 8;\n  return (\n    hasLowercase && hasUppercase && hasDigit && hasSpecialChar && hasValidLength\n  );\n}\n\nexport function validateCheckbox(checked: boolean): boolean {\n  return checked;\n}\n\nexport function validatePasswordsMatch(\n  originalPassword: string,\n  confirmPassword: string\n): boolean {\n  return originalPassword === confirmPassword;\n}\n\nexport function validateSelectField(input: string | undefined): boolean {\n  return input !== undefined && input !== \"N/A\";\n}\n\nexport function validatePhoneNumber(input: string): boolean {\n  const phoneRegex = /^\\(\\d{3}\\)\\s\\d{3}-\\d{4}$/;\n  return phoneRegex.test(input);\n}\n\nexport const validatePhoneNumberOptional = (value: string): boolean => {\n  if (value.trim() === \"\") {\n    // Phone number is optional, so empty string is valid\n    return true;\n  }\n  // Validate the phone number format if not empty\n  return validatePhoneNumber(value);\n};\n","//../../utils/recaptchaUtils.ts\nimport { apiClient } from \"../api/apiConfig\";\n\n// Declaration for the global reCAPTCHA variable.\ndeclare const grecaptcha: any;\n\n/**\n * Asynchronously obtains a reCAPTCHA token for a specified action.\n * @param {string} action - The action name for which the reCAPTCHA token is requested.\n * @returns {Promise<string>} A promise that resolves with the reCAPTCHA token.\n */\nexport async function getRecaptchaToken(action: string): Promise<string> {\n  return new Promise<string>((resolve, reject) => {\n    // Ensure grecaptcha is ready and execute the token request.\n    grecaptcha.ready(() => {\n      grecaptcha\n        .execute(\"6Lekaa8pAAAAAN6qiq0LSP5Akckql4Blg6K5ToUq\", { action: action })\n        .then((token: string) => {\n          resolve(token); // Resolve with the obtained token.\n        }, reject); // Reject the promise if there is an error.\n    });\n  });\n}\n\n/**\n * Validates a reCAPTCHA token with the backend server.\n * @param {string} token - The reCAPTCHA token to validate.\n * @returns {Promise<any>} A promise that resolves with the validation response from the server.\n */\nexport async function validateRecaptchaToken(token: string): Promise<any> {\n  try {\n    // Send the reCAPTCHA token to the server for validation.\n    const response = await apiClient\n      .post(\"/recaptcha/validate\", {\n        data: { \"g-recaptcha-response\": token },\n      })\n      .fetch();\n\n    // Return the server's response directly assuming it's already in JSON format.\n    return response; // Assume response is the direct JSON body.\n  } catch (error) {\n    throw new Error(`ReCAPTCHA validation failed: ${error}`);\n  }\n}\n\n/**\n * Handles the full reCAPTCHA verification flow from obtaining the token to validating it.\n * @param {string} action - The action name for which the reCAPTCHA should be processed.\n * @returns {Promise<boolean>} A promise that resolves with true if the reCAPTCHA verification is successful.\n */\nexport async function handleRecaptcha(action: string): Promise<boolean> {\n  try {\n    const token = await getRecaptchaToken(action);\n    const validationResponse = await validateRecaptchaToken(token);\n    return validationResponse.status === \"success\";\n  } catch (error) {\n    console.error(\"ReCAPTCHA handling failed:\", error);\n    // If error has a response, log it for more context\n    if (error.response) {\n      console.error(\"Error response:\", error.response);\n    }\n    return false;\n  }\n}\n","// sidebarIndicators.ts\n\nimport { WFComponent } from \"@xatom/core\";\nimport { userAuth } from \"../../../../auth/authConfig\";\n\n// Initialize the sidebar indicators\nexport const initializeSidebarIndicators = () => {\n  const steps = [\n    { id: \"sidebarStepOne\", index: 1 },\n    { id: \"sidebarStepTwo\", index: 2 },\n    { id: \"sidebarStepThree\", index: 3 },\n    { id: \"sidebarStepFour\", index: 4 },\n  ];\n\n  // Set sidebar first name from userAuth\n  const firstNameText = new WFComponent(\"#firstNameText\");\n  const user = userAuth.getUser();\n\n  if (user && user.profile && user.profile.first_name) {\n    firstNameText.setText(user.profile.first_name);\n  } else {\n    firstNameText.setText(\"Friend\");\n  }\n\n  steps.forEach((step) => {\n    const stepComponent = new WFComponent(`#${step.id}`);\n    let isCompleted = false; // Track the completed state\n\n    stepComponent.on(\"click\", () => {\n      if (isCompleted) {\n        isCompleted = false;\n        // Trigger reverse animation here if needed\n      } else {\n        isCompleted = true;\n        // Trigger completed animation here\n      }\n    });\n  });\n};\n\n// Set the active step\nexport const setActiveStep = (stepNumber: number) => {\n  const stepId = getStepId(stepNumber);\n  const stepComponent = new WFComponent(`#${stepId}`);\n  stepComponent.addCssClass(\"is-active\");\n};\n\n// Unset the active step\nexport const unsetActiveStep = (stepNumber: number) => {\n  const stepId = getStepId(stepNumber);\n  const stepComponent = new WFComponent(`#${stepId}`);\n  stepComponent.removeCssClass(\"is-active\");\n};\n\n// Mark step as completed\nexport const markStepAsCompleted = (stepNumber: number) => {\n  const stepId = getStepId(stepNumber);\n  const step = new WFComponent(`#${stepId}`);\n  step.getElement().click(); // Programmatically trigger the click event to mark as complete\n};\n\n// Unmark step as completed (reverse the completed animation)\nexport const unmarkStepAsCompleted = (stepNumber: number) => {\n  const stepId = getStepId(stepNumber);\n  const step = new WFComponent(`#${stepId}`);\n  step.getElement().click(); // Programmatically trigger the click event to unmark as complete\n};\n\n// Helper function to get the ID string for a step\nconst getStepId = (stepNumber: number): string => {\n  const stepMap: Record<number, string> = {\n    1: \"sidebarStepOne\",\n    2: \"sidebarStepTwo\",\n    3: \"sidebarStepThree\",\n    4: \"sidebarStepFour\",\n  };\n  return stepMap[stepNumber] || `sidebarStep${stepNumber}`;\n};\n"],"names":["modules","entry","mainEntry","parcelRequireName","globalName","globalObject","globalThis","self","window","global","previousRequire","cache","nodeRequire","module","require","bind","newRequire","name","jumped","currentRequire","err","Error","code","localRequire","resolve","x","id","Module","call","exports","res","isParcelRequire","moduleName","bundle","parent","register","Object","defineProperty","get","i","length","parcelHelpers","defineInteropFlag","export","completeUserProfile","_core","_image","_slider","_authConfig","_formUtils","_validationUtils","_recaptchaUtils","_apiConfig","_sidebarIndicator","firstNameText","WFComponent","setText","userAuth","getUser","profile","first_name","requestingAnimation","initializeSidebarIndicators","formStepOne","WFFormComponent","formStepTwo","formStepThree","slider","WFSlider","submitStepThree","fieldsStepOne","input","error","validationFn","validateSelectField","message","forEach","setupValidation","createValidationFunction","yMemberCheckbox","yInputHiddenWrapper","on","setStyle","display","getElement","onFormSubmit","formData","event","preventDefault","isFormValid","errorMessage","toggleError","goNext","fieldsStepTwo","validatePhoneNumber","setupFileUpload","phoneNumberInput","inputElement","cursorPosition","selectionStart","value","formatPhoneNumber","cleaned","replace","slice","formattedLength","cleanedLength","setSelectionRange","userProfilePic","WFImage","onSlideChange","activeIndex","userProfile","profilePicUrl","profile_pic","url","setImage","last_name","email","getFormData","phone","address_line_1","address_line_2","city","state","zip","setAttribute","console","log","handleRecaptcha","removeAttribute","completeProfileData","response","apiClient","post","data","fetch","status","updateTextViaAttrVar","backStepTwo","goPrevious","backStepThree","submitStepFour","markStepAsCompleted","backStepFour","unmarkStepAsCompleted","prevIndex","setActiveStep","getActiveSlideIndex","o","t","u","c","set","enumerable","configurable","constructor","getImageConfig","_config","getSrc","getAttribute","getSizes","getSrcSet","getLoading","onLoad","off","onLoadError","src","srcSet","sizes","e","map","size","join","loading","keys","hasOwnProperty","n","a","s","d","jQuery","_sliderConfig","_slides","_defaultSwipeDisabled","_index","_listeners","Map","init","Array","from","slides","_mask","mask","_nav","nav","_left","left","_right","right","document","styleSheets","getElementsByTagName","r","l","disabled","media","indexOf","mediaText","createElement","type","appendChild","rules","selectorText","toLowerCase","style","cssText","addRule","cssRules","insertRule","_triggerOnChange","refereshSlides","reloadWFSlider","Webflow","destroy","redraw","ready","getChildAsComponents","remove","reverse","prepend","getActiveSlide","getAllSlides","getSlideByIndex","getPreviousSlideIndex","previous","click","goToIndex","children","addSlide","index","cssClass","createComponent","addCssClass","splice","push","removeSlide","getSlideNav","setSlideNavigationState","removeCssClass","v4","delete","values","getConfig","h","createCheckboxValidationFunction","setupCheckboxValidation","validateSelectedSessions","setProfilePicUrl","errorMessageComponent","show","text","inputComponent","errorComponent","validate","requestErrorComponent","validateAndUpdate","isValid","checkboxComponent","checkbox","checked","checkboxErrorComponent","selectedSessions","some","session","studentIds","imageUrl","user","setUser","localStorage","setItem","JSON","stringify","fileInput","fileInputError","fileInputSuccess","uploadEndpoint","profilePictureImage","uploadAnimation","overlay","dragCounter","Promise","handleFile","file","validTypes","includes","test","reader","FileReader","onload","result","target","readAsDataURL","FormData","append","existingStudent","getItem","student","parse","toString","postRequest","onData","onError","files","dragZoneElement","body","addEventListener","dataTransfer","validateNotEmpty","undefined","trim","validateEmail","emailRegex","validateEmailOptional","validatePasswordRequirements","validateCheckbox","validatePasswordsMatch","validatePhoneNumberOptional","password","hasLowercase","hasUppercase","hasDigit","hasSpecialChar","hasValidLength","originalPassword","confirmPassword","phoneRegex","getRecaptchaToken","validateRecaptchaToken","action","reject","grecaptcha","execute","then","token","validationResponse","unsetActiveStep","steps","step","stepComponent","isCompleted","stepNumber","stepId","getStepId","stepMap"],"version":3,"file":"completeUserProfile.06238612.js.map"}