!function(e,t,r,o,i){var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n="function"==typeof s[o]&&s[o],a=n.cache||{},l="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function c(t,r){if(!a[t]){if(!e[t]){var i="function"==typeof s[o]&&s[o];if(!r&&i)return i(t,!0);if(n)return n(t,!0);if(l&&"string"==typeof t)return l(t);var d=Error("Cannot find module '"+t+"'");throw d.code="MODULE_NOT_FOUND",d}p.resolve=function(r){var o=e[t][1][r];return null!=o?o:r},p.cache={};var u=a[t]=new c.Module(t);e[t][0].call(u.exports,p,u,u.exports,this)}return a[t].exports;function p(e){var t=p.resolve(e);return!1===t?{}:c(t)}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=e,c.cache=a,c.parent=n,c.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(c,"root",{get:function(){return s[o]}}),s[o]=c;for(var d=0;d<t.length;d++)c(t[d])}({fmeF7:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"fetchSubscriptions",()=>a),o.export(r,"initializeDynamicSubscriptionList",()=>l);var i=e("@xatom/core"),s=e("@xatom/image"),n=e("../../api/apiConfig");async function a(){try{let e=(0,n.apiClient).get("/subscriptions");return(await e.fetch()).subscriptions}catch(e){throw console.error("Error fetching subscriptions:",e),e}}async function l(e){let t=document.getElementById("add-registration-button"),r=document.getElementById("manage-registration-button");t&&(t.style.display="none"),r&&(r.style.display="none");let o=new i.WFDynamicList(e,{rowSelector:"#listRegistrationCard",loaderSelector:"#listRegistrationloading",emptySelector:"#listRegistrationEmpty"});o.loaderRenderer(e=>(e.setStyle({display:"flex"}),e)),o.emptyRenderer(e=>(e.setStyle({display:"flex"}),e)),o.rowRenderer(({rowData:e,rowElement:t})=>{let r=new i.WFComponent(t),o=r.getChildAsComponent("#cardRegistrationImage");o&&new s.WFImage(o.getElement()).setImage(e.program_details.Main_Image||"https://cdn.prod.website-files.com/66102236c16b61185de61fe3/66102236c16b61185de6204e_placeholder.svg"),r.getChildAsComponent("#cardProgramName")?.setText(e.program_details.name);let n=r.getElement(),a=new URL(n.getAttribute("href")||"#",window.location.origin);a.searchParams.set("program",String(e.program)),a.searchParams.set("subscription",String(e.id)),n.setAttribute("href",a.toString());let l=r.getChildAsComponent("#approvedPill"),c=r.getChildAsComponent("#pendingPill");return"deposit paid"===e.status.toLowerCase()?(l.setStyle({display:"none"}),c.setStyle({display:"flex"}),n.style.pointerEvents="none",n.style.opacity="0.6",n.style.cursor="default"):(c.setStyle({display:"none"}),l.setStyle({display:"flex"}),n.style.pointerEvents="auto",n.style.opacity="1",n.style.cursor="pointer"),t.setStyle({display:"block"}),t}),o.changeLoadingStatus(!0);try{let e=await a(),i=Array.from(e.reduce((e,t)=>(e.has(t.program)||e.set(t.program,t),e),new Map).values());i.sort((e,t)=>e.program_details.name.localeCompare(t.program_details.name)),o.setData(i),0===i.length?(t&&(t.style.display="block"),r&&(r.style.display="none")):(t&&(t.style.display="none"),r&&(r.style.display="block"))}catch(e){console.error("Error loading subscriptions:",e),o.setData([]),t&&(t.style.display="block"),r&&(r.style.display="none")}finally{o.changeLoadingStatus(!1)}}},{"@xatom/core":"65YBq","@xatom/image":"bavwf","../../api/apiConfig":"dUmIV","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],bavwf:[function(e,t,r){var o,i=e("d023971cccd819e3"),s={};Object.defineProperty(s,"WFImage",{get:()=>n,set:void 0,enumerable:!0,configurable:!0});class n extends i.WFComponent{constructor(e){super(e)}getImageConfig(){return this._config}getSrc(){return this.getAttribute("src")}getSizes(){return this.getAttribute("sizes")}getSrcSet(){return this.getAttribute("srcset")}getLoading(){return this.getAttribute("loading")}onLoad(e){return this.on("load",e),()=>{this.off("load",e)}}onLoadError(e){return this.on("error",e),()=>{this.off("error",e)}}setImage(e){if("string"==typeof e)this.setAttribute("src",e),this.removeAttribute("srcset"),this.removeAttribute("sizes");else{if(this.setAttribute("src",e.src),"object"==typeof e&&e.srcSet&&e.srcSet.length&&e.sizes&&e.sizes.length){let t=e.srcSet.map(e=>`${e.url} ${e.size}`).join(", ");this.setAttribute("srcset",t)}else this.removeAttribute("srcset"),this.removeAttribute("sizes");e.loading&&this.setAttribute("loading",e.loading)}}}o=t.exports,Object.keys(s).forEach(function(e){"default"===e||"__esModule"===e||o.hasOwnProperty(e)||Object.defineProperty(o,e,{enumerable:!0,get:function(){return s[e]}})})},{d023971cccd819e3:"65YBq"}]},[],0,"parcelRequired346");
//# sourceMappingURL=listRegistration.f298985e.js.map
