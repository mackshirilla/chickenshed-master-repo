!function(e,t,n,i,o){var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a="function"==typeof r[i]&&r[i],s=a.cache||{},l="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function c(t,n){if(!s[t]){if(!e[t]){var o="function"==typeof r[i]&&r[i];if(!n&&o)return o(t,!0);if(a)return a(t,!0);if(l&&"string"==typeof t)return l(t);var d=Error("Cannot find module '"+t+"'");throw d.code="MODULE_NOT_FOUND",d}f.resolve=function(n){var i=e[t][1][n];return null!=i?i:n},f.cache={};var u=s[t]=new c.Module(t);e[t][0].call(u.exports,f,u,u.exports,this)}return s[t].exports;function f(e){var t=f.resolve(e);return!1===t?{}:c(t)}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=e,c.cache=s,c.parent=a,c.register=function(t,n){e[t]=[function(e,t){t.exports=n},{}]},Object.defineProperty(c,"root",{get:function(){return r[i]}}),r[i]=c;for(var d=0;d<t.length;d++)c(t[d])}({"1elmM":[function(e,t,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(n),i.export(n,"fetchDonationDetails",()=>s),i.export(n,"initializeDonationDetailsPage",()=>c);var o=e("@xatom/core"),r=e("@xatom/image"),a=e("../../../api/apiConfig");async function s(e){try{let t=(0,a.apiClient).get(`/dashboard/donations/${e}`);return await t.fetch()}catch(e){return console.error("Error fetching donation details:",e),null}}let l=e=>{let t=document.querySelector(e);t instanceof HTMLElement&&t.click()};async function c(){let e=parseInt(new URLSearchParams(window.location.search).get("donation")||"0",10);if(!e){console.error("Invalid donation ID");return}try{let t=await s(e);if(!t){console.error("Failed to fetch donation details");return}let{donation:n,sale:i,campaign:a}=t,c=new r.WFImage("#campaignImage");c.setImage(a.fieldData["main-image"].url),c.getElement().setAttribute("alt",a.fieldData["main-image"].alt||`${a.fieldData.name} - Campaign Image`),new o.WFComponent("#campaignName").setText(a.fieldData.name),new o.WFComponent("#campaignSubheading").setText(a.fieldData.subheading);let d=new o.WFComponent("#campaignBreadcrumb"),u=new Date(n.created_at).toLocaleDateString([],{month:"2-digit",day:"2-digit",year:"2-digit"});d.setText(`${a.fieldData.name} - ${u}`),new o.WFComponent("#campaignShortDescription").setText(a.fieldData["short-description"]);let f=new o.WFComponent("#anonymousTrue"),m=new o.WFComponent("#anonymousFalse");n.keep_anonymous?(f.setStyle({display:"block"}),m.setStyle({display:"none"})):(f.setStyle({display:"none"}),m.setStyle({display:"block"}));let g=new o.WFComponent("#invoiceDate"),p=new Date(i.created_at).toLocaleDateString([],{month:"2-digit",day:"2-digit",year:"2-digit"});g.setText(p),new o.WFComponent("#invoiceAmount").setText(`$${i.amount_total.toFixed(2)}`),new o.WFComponent("#receiptButton").getElement().setAttribute("href",i.reciept_url);let h=new o.WFComponent("#inNameOfHeader"),y=new o.WFComponent("#inNameOfCell");n.in_name_of&&""!==n.in_name_of.trim()?(h.setStyle({display:"table-cell"}),y.setStyle({display:"table-cell"}),y.setText(n.in_name_of)):(h.setStyle({display:"none"}),y.setStyle({display:"none"})),l(".success_trigger")}catch(e){console.error("Error initializing donation details page:",e)}}},{"@xatom/core":"65YBq","@xatom/image":"bavwf","../../../api/apiConfig":"dUmIV","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],bavwf:[function(e,t,n){var i,o=e("d023971cccd819e3"),r={};Object.defineProperty(r,"WFImage",{get:()=>a,set:void 0,enumerable:!0,configurable:!0});class a extends o.WFComponent{constructor(e){super(e)}getImageConfig(){return this._config}getSrc(){return this.getAttribute("src")}getSizes(){return this.getAttribute("sizes")}getSrcSet(){return this.getAttribute("srcset")}getLoading(){return this.getAttribute("loading")}onLoad(e){return this.on("load",e),()=>{this.off("load",e)}}onLoadError(e){return this.on("error",e),()=>{this.off("error",e)}}setImage(e){if("string"==typeof e)this.setAttribute("src",e),this.removeAttribute("srcset"),this.removeAttribute("sizes");else{if(this.setAttribute("src",e.src),"object"==typeof e&&e.srcSet&&e.srcSet.length&&e.sizes&&e.sizes.length){let t=e.srcSet.map(e=>`${e.url} ${e.size}`).join(", ");this.setAttribute("srcset",t)}else this.removeAttribute("srcset"),this.removeAttribute("sizes");e.loading&&this.setAttribute("loading",e.loading)}}}i=t.exports,Object.keys(r).forEach(function(e){"default"===e||"__esModule"===e||i.hasOwnProperty(e)||Object.defineProperty(i,e,{enumerable:!0,get:function(){return r[e]}})})},{d023971cccd819e3:"65YBq"}]},[],0,"parcelRequired346");
//# sourceMappingURL=donationDetails.baa9c2c5.js.map
