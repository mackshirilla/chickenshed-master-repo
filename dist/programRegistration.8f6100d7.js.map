{"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,yBAAyB;;;yDA8BZ;AA7Bb;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAQA;AACA;AACA,+DAAuD,gCAAgC;AACvF,iDAAiD,mCAAmC;AAO7E,MAAM,sBAAsB;IACjC,sBAAsB;IACtB,OAAO,MAAM,GAAG;QACd,0DAA0D;QAC1D,aAAa,UAAU,CAAC;IAC1B;IACA,yEAAyE;IACzE,CAAA,GAAA,8CAA2B,AAAD;IAC1B,CAAA,GAAA,gCAAa,AAAD,EAAE;IACd,MAAM,CAAA,GAAA,kCAAqB,AAAD;IAC1B,MAAM,CAAA,GAAA,+BAAgB,AAAD;IAErB,kCAAkC;IAClC,MAAM,SAAS,IAAI,CAAA,GAAA,gBAAQ,AAAD,EAAE;IAC5B,wBAAwB;IACxB,MAAM,CAAA,GAAA,+CAA4B,AAAD,EAAE;AACrC;AAEA,gEAAgE;AAChE,MAAM,0BAA0B,CAAC;IAC/B,MAAM,gBAAgB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IACtC,MAAM,qBAAqB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAC3C,MAAM,6BAA6B,IAAI,CAAA,GAAA,iBAAW,AAAD,EAC/C;IAGF,cAAc,EAAE,CAAC,SAAS,OAAO;QAC/B,MAAM,cAAc,IAAI,2CAA2C;QAEnE,gCAAgC;QAChC,MAAM,kBAAkB,CAAA,GAAA,oCAAmB,AAAD;QAC1C,IAAI,CAAC,gBAAgB,EAAE,EAAE;YACvB,mBAAmB,OAAO,CAAC;YAC3B,mBAAmB,QAAQ,CAAC;gBAAE,SAAS;YAAQ;YAC/C;QACF;QAEA,gCAAgC;QAChC,mBAAmB,QAAQ,CAAC;YAAE,SAAS;QAAO;QAE9C,6BAA6B;QAC7B,2BAA2B,QAAQ,CAAC;YAAE,SAAS;QAAQ;QAEvD,IAAI;YACF,+CAA+C;YAC/C,MAAM,CAAA,GAAA,oCAAsB,AAAD,EAAE,gBAAgB,EAAE;YAE/C,yBAAyB;YACzB,OAAO,MAAM;YACb,CAAA,GAAA,sCAAmB,AAAD,EAAE;YACpB,CAAA,GAAA,gCAAa,AAAD,EAAE;YACd,CAAA,GAAA,uCAAqB,AAAD;QACtB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,4BAA4B;QAC5C,SAAU;YACR,6BAA6B;YAC7B,2BAA2B,QAAQ,CAAC;gBAAE,SAAS;YAAO;QACxD;IACF;IAEA,MAAM,cAAc,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IACpC,YAAY,EAAE,CAAC,SAAS;QACtB,8BAA8B;QAC9B,OAAO,UAAU;QACjB,CAAA,GAAA,wCAAqB,AAAD,EAAE;QACtB,CAAA,GAAA,kCAAe,AAAD,EAAE;QAChB,CAAA,GAAA,uCAAqB,AAAD;IACtB;IAEA,MAAM,gBAAgB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IACtC,MAAM,6BAA6B,IAAI,CAAA,GAAA,iBAAW,AAAD,EAC/C;IAEF,MAAM,qBAAqB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAE3C,cAAc,EAAE,CAAC,SAAS,OAAO;QAC/B,MAAM,cAAc;QAEpB,uDAAuD;QACvD,MAAM,mBAAmB,CAAA,GAAA,sCAAoB,AAAD;QAC5C,MAAM,kBAAkB,CAAA,GAAA,oCAAmB,AAAD;QAE1C,6CAA6C;QAC7C,MAAM,wBAAwB,SAAS,aAAa,CAAC;QACrD,MAAM,gBACJ,uBAAuB,iBAAiB,0BAA0B,EAAE;QACtE,MAAM,sBAAsB,cAAc,MAAM,KAAK;QAErD,IAAI,CAAC,uBAAuB,CAAC,iBAAiB,EAAE,EAAE;YAChD,mBAAmB,OAAO,CAAC;YAC3B,mBAAmB,QAAQ,CAAC;gBAAE,SAAS;YAAQ;YAC/C;QACF;QAEA,gCAAgC;QAChC,mBAAmB,QAAQ,CAAC;YAAE,SAAS;QAAO;QAE9C,6BAA6B;QAC7B,2BAA2B,QAAQ,CAAC;YAAE,SAAS;QAAQ;QAEvD,IAAI;YACF,8BAA8B;YAC9B,MAAM,CAAA,GAAA,mCAAqB,AAAD,EAAE,iBAAiB,EAAE,EAAE,gBAAgB,EAAE;YAEnE,yBAAyB;YACzB,OAAO,MAAM;YACb,CAAA,GAAA,sCAAmB,AAAD,EAAE;YACpB,CAAA,GAAA,gCAAa,AAAD,EAAE;QAChB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;QAC3C,SAAU;YACR,6BAA6B;YAC7B,2BAA2B,QAAQ,CAAC;gBAAE,SAAS;YAAO;QACxD;IACF;IAEA,MAAM,gBAAgB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IACtC,cAAc,EAAE,CAAC,SAAS;QACxB,2CAA2C;QAC3C,OAAO,UAAU;QACjB,CAAA,GAAA,wCAAqB,AAAD,EAAE;QACtB,CAAA,GAAA,kCAAe,AAAD,EAAE;IAClB;IAEA,MAAM,kBAAkB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IACxC,MAAM,+BAA+B,IAAI,CAAA,GAAA,iBAAW,AAAD,EACjD;IAEF,MAAM,uBAAuB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAE7C,gBAAgB,EAAE,CAAC,SAAS,OAAO;QACjC,MAAM,cAAc;QAEpB,6BAA6B;QAC7B,6BAA6B,QAAQ,CAAC;YAAE,SAAS;QAAQ;QAEzD,IAAI;YACF,+BAA+B;YAC/B,MAAM,UAAU,MAAM,CAAA,GAAA,uCAAyB,AAAD;YAC9C,IAAI,SAAS;gBACX,yDAAyD;gBACzD,MAAM,CAAA,GAAA,0CAAyB,AAAD;gBAC9B,OAAO,MAAM;gBACb,CAAA,GAAA,sCAAmB,AAAD,EAAE;gBACpB,CAAA,GAAA,gCAAa,AAAD,EAAE;YAChB,OAAO;gBACL,qBAAqB,OAAO,CAC1B;gBAEF,qBAAqB,QAAQ,CAAC;oBAAE,SAAS;gBAAQ;YACnD;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,oCAAoC;YAClD,qBAAqB,OAAO,CAAC;YAC7B,qBAAqB,QAAQ,CAAC;gBAAE,SAAS;YAAQ;QACnD,SAAU;YACR,6BAA6B;YAC7B,6BAA6B,QAAQ,CAAC;gBAAE,SAAS;YAAO;QAC1D;IACF;IAEA,MAAM,eAAe,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IACrC,aAAa,EAAE,CAAC,SAAS;QACvB,0CAA0C;QAC1C,OAAO,UAAU;QACjB,CAAA,GAAA,wCAAqB,AAAD,EAAE;QACtB,CAAA,GAAA,kCAAe,AAAD,EAAE;IAClB;IAEA,MAAM,iBAAiB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IACvC,MAAM,8BAA8B,IAAI,CAAA,GAAA,iBAAW,AAAD,EAChD;IAEF,MAAM,sBAAsB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAE5C,eAAe,EAAE,CAAC,SAAS,OAAO;QAChC,MAAM,cAAc;QAEpB,6BAA6B;QAC7B,4BAA4B,QAAQ,CAAC;YAAE,SAAS;QAAQ;QAExD,IAAI;YACF,sCAAsC;YACtC,MAAM,oBAAoB,CAAA,GAAA,4BAAS,AAAD;YAElC,sFAAsF;YACtF,MAAM,WAAW,MAAM,CAAA,GAAA,oBAAS,AAAD,EAC5B,IAAI,CAAgB,yCAAyC;gBAC5D,MAAM;YACR,GACC,KAAK;YAER,qFAAqF;YACrF,QAAQ,GAAG,CAAC,mCAAmC;YAE/C,2BAA2B;YAC3B,CAAA,GAAA,sCAAmB,AAAD,EAAE;YAEpB,oGAAoG;YACpG,IAAI,SAAS,SAAS,EACpB,OAAO,QAAQ,CAAC,IAAI,GAAG,SAAS,SAAS;iBAEzC,OAAO,QAAQ,CAAC,IAAI,GAAG,SAAS,YAAY;QAEhD,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,uCAAuC;YACrD,oBAAoB,OAAO,CACzB;YAEF,oBAAoB,QAAQ,CAAC;gBAAE,SAAS;YAAQ;QAClD,SAAU;YACR,6BAA6B;YAC7B,4BAA4B,QAAQ,CAAC;gBAAE,SAAS;YAAO;QACzD;IACF;AACF;;;ACrPA,kFAAkF;;;2DAQrE;AANb;AACA;AACA;AAEA,IAAI,uBAA2C;AAExC,MAAM,wBAAwB;IACnC,MAAM,oBAAoB;IAC1B,MAAM,YAAY,SAAS,aAAa,CAAC;IACzC,IAAI,CAAC,WAAW;QACd,QAAQ,KAAK,CAAC;QACd;IACF;IAEA,mDAAmD;IACnD,IAAI,CAAC,sBACH,uBAAuB,UAAU,SAAS,CAAC;SACtC;QACL,uCAAuC;QACvC,UAAU,SAAS,GAAG;QACtB,UAAU,WAAW,CAAC,qBAAqB,SAAS,CAAC;IACvD;IAEA,MAAM,OAAO,IAAI,CAAA,GAAA,mBAAa,AAAD,EAAW,mBAAmB;QACzD,aAAa;QACb,gBAAgB;QAChB,eAAe;IACjB;IAEA,KAAK,cAAc,CAAC,CAAC;QACnB,cAAc,QAAQ,CAAC;YAAE,SAAS;QAAO;QACzC,OAAO;IACT;IAEA,KAAK,aAAa,CAAC,CAAC;QAClB,aAAa,QAAQ,CAAC;YAAE,SAAS;QAAO;QACxC,OAAO;IACT;IAEA,IAAI;QACF,MAAM,WAAW,MAAM,CAAA,GAAA,uBAAa,AAAD;QACnC,KAAK,WAAW,CAAC,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,KAAK,EAAE;YAC9C,MAAM,cAAc,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;YACpC,MAAM,eAAe,YAAY,mBAAmB,CAAC;YACrD,MAAM,qBAAqB,YAAY,mBAAmB,CACxD;YAEF,MAAM,cAAc,YAAY,mBAAmB,CAAC;YACpD,MAAM,eACJ,YAAY,mBAAmB,CAAmB;YACpD,MAAM,eACJ,YAAY,mBAAmB,CAAmB;YAEpD,6CAA6C;YAC7C,MAAM,UAAU,CAAC,aAAa,EAAE,MAAM,CAAC;YACvC,aAAa,YAAY,CAAC,MAAM;YAChC,aAAa,YAAY,CAAC,QAAQ,YAAY,sBAAsB;YACpE,aAAa,YAAY,CAAC,SAAS,QAAQ,EAAE;YAE7C,4CAA4C;YAC5C,MAAM,eAAe,YAAY,mBAAmB,CAAC;YACrD,aAAa,YAAY,CAAC,OAAO;YAEjC,uDAAuD;YACvD,aAAa,OAAO,CAAC,QAAQ,SAAS,CAAC,OAAO;YAC9C,mBAAmB,OAAO,CAAC,QAAQ,SAAS,CAAC,oBAAoB;YACjE,YAAY,OAAO,CAAC,QAAQ,SAAS,CAAC,YAAY;YAClD,aAAa,YAAY,CAAC,OAAO,QAAQ,SAAS,CAAC,aAAa,CAAC,GAAG;YAEpE,mDAAmD;YACnD,MAAM,0BACJ,YAAY,mBAAmB,CAAC;YAElC,0EAA0E;YAC1E,IAAI,QAAQ,UAAU,KAAK,MAAM;gBAC/B,wBAAwB,QAAQ,CAAC;oBAAE,SAAS;gBAAO;gBACnD,aAAa,YAAY,CAAC,YAAY;YACxC,OAAO;gBACL,wBAAwB,QAAQ,CAAC;oBAAE,SAAS;gBAAO;gBACnD,aAAa,eAAe,CAAC;YAC/B;YAEA,aAAa,EAAE,CAAC,UAAU;gBACxB,CAAA,GAAA,oCAAmB,AAAD,EAAE;oBAClB,IAAI,QAAQ,EAAE;oBACd,MAAM,QAAQ,SAAS,CAAC,OAAO;oBAC/B,UAAU,QAAQ,SAAS,CAAC,aAAa,CAAC,GAAG;oBAC7C,UAAU,QAAQ,SAAS,CAAC,YAAY;gBAC1C;YACF;YAEA,WAAW,QAAQ,CAAC;gBAAE,SAAS;YAAO;YACtC,OAAO;QACT;QAEA,KAAK,OAAO,CAAC;IACf,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,KAAK,OAAO,CAAC,EAAE;IACjB;AACF;;;ACtGA,kBAAkB;;;mDAsBL;sDAaA;AAlCb;AAqBO,MAAM,gBAAgB;IAC3B,IAAI;QACF,MAAM,WAAW,MAAM,CAAA,GAAA,oBAAS,AAAD,EAC5B,GAAG,CAAqB,0BACxB,KAAK;QACR,OAAO,SAAS,QAAQ;IAC1B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,MAAM;IACR;AACF;AAGO,MAAM,mBAAmB,OAC9B;IAEA,IAAI;QACF,MAAM,WAAW,MAAM;QACvB,OAAO,SAAS,IAAI,CAAC,CAAC,UAAY,QAAQ,EAAE,KAAK,cAAc;IACjE,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,+BAA+B,EAAE,UAAU,CAAC,CAAC,EAAE;QAC9D,OAAO;IACT;AACF;;;AC7CA,2BAA2B;;;yDAEd;yDAUA;AAVN,MAAM,sBAAsB;IACjC,MAAM,QAAQ,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,wBAAwB;IACtE,OAAO;QACL,IAAI,MAAM,iBAAiB,IAAI;QAC/B,MAAM,MAAM,mBAAmB,IAAI;QACnC,UAAU,MAAM,uBAAuB,IAAI;QAC3C,UAAU,MAAM,uBAAuB,IAAI;IAC7C;AACF;AAEO,MAAM,sBAAsB,CAAC;IAMlC,MAAM,QAAQ,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,wBAAwB;IACtE,MAAM,iBAAiB,GAAG,QAAQ,EAAE;IACpC,MAAM,mBAAmB,GAAG,QAAQ,IAAI;IACxC,MAAM,uBAAuB,GAAG,QAAQ,QAAQ;IAChD,MAAM,uBAAuB,GAAG,QAAQ,QAAQ;IAEhD,QAAQ,GAAG,CAAC,qCAAqC,QAAQ,YAAY;IAErE,aAAa,OAAO,CAAC,qBAAqB,KAAK,SAAS,CAAC;AAC3D;;;AC3BA,mFAAmF;;;4DAQtE;AANb;AACA;AACA;AAEA,IAAI,uBAA2C;AAExC,MAAM,yBAAyB,OAAO;IAC3C,MAAM,oBAAoB;IAC1B,MAAM,YAAY,SAAS,aAAa,CAAC;IACzC,IAAI,CAAC,WAAW;QACd,QAAQ,KAAK,CAAC;QACd;IACF;IAEA,IAAI,CAAC,sBACH,uBAAuB,UAAU,SAAS,CAAC;SACtC;QACL,UAAU,SAAS,GAAG;QACtB,UAAU,WAAW,CAAC,qBAAqB,SAAS,CAAC;IACvD;IAEA,MAAM,OAAO,IAAI,CAAA,GAAA,mBAAa,AAAD,EAAY,mBAAmB;QAC1D,aAAa;QACb,gBAAgB;QAChB,eAAe;IACjB;IAEA,KAAK,cAAc,CAAC,CAAC;QACnB,cAAc,QAAQ,CAAC;YACrB,SAAS;QACX;QACA,OAAO;IACT;IAEA,KAAK,aAAa,CAAC,CAAC;QAClB,aAAa,QAAQ,CAAC;YACpB,SAAS;QACX;QACA,OAAO;IACT;IAEA,IAAI;QACF,MAAM,YAAY,MAAM,CAAA,GAAA,yBAAc,AAAD,EAAE;QAEvC,yEAAyE;QACzE,MAAM,gBAAgB,AAAC,CAAA,MAAM,OAAO,CAAC,aAAa,YAAY,EAAE,AAAD,EAAG,IAAI,CACpE,CAAC,GAAG,IAAM,EAAE,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE,SAAS,CAAC,IAAI;QAG3D,KAAK,WAAW,CAAC,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,KAAK,EAAE;YAC9C,MAAM,eAAe,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;YACrC,MAAM,gBACJ,aAAa,mBAAmB,CAAC;YACnC,MAAM,sBAAsB,aAAa,mBAAmB,CAC1D;YAEF,MAAM,eACJ,aAAa,mBAAmB,CAAC;YACnC,MAAM,gBACJ,aAAa,mBAAmB,CAC9B;YAEJ,MAAM,gBACJ,aAAa,mBAAmB,CAAmB;YAErD,MAAM,UAAU,CAAC,cAAc,EAAE,MAAM,CAAC;YACxC,cAAc,YAAY,CAAC,MAAM;YACjC,cAAc,YAAY,CAAC,QAAQ;YACnC,cAAc,YAAY,CAAC,SAAS,QAAQ,EAAE;YAE9C,MAAM,gBAAgB,aAAa,mBAAmB,CAAC;YACvD,cAAc,YAAY,CAAC,OAAO;YAElC,uDAAuD;YACvD,cAAc,OAAO,CAAC,QAAQ,SAAS,CAAC,OAAO;YAC/C,oBAAoB,OAAO,CAAC,QAAQ,SAAS,CAAC,oBAAoB;YAClE,aAAa,OAAO,CAAC,QAAQ,SAAS,CAAC,YAAY;YACnD,cAAc,YAAY,CAAC,OAAO,QAAQ,SAAS,CAAC,aAAa,CAAC,GAAG;YAErE,mDAAmD;YACnD,MAAM,0BACJ,aAAa,mBAAmB,CAAC;YAEnC,0EAA0E;YAC1E,IAAI,QAAQ,UAAU,KAAK,MAAM;gBAC/B,wBAAwB,QAAQ,CAAC;oBAAE,SAAS;gBAAO;gBACnD,cAAc,YAAY,CAAC,YAAY;YACzC,OAAO;gBACL,wBAAwB,QAAQ,CAAC;oBAAE,SAAS;gBAAO;gBACnD,cAAc,eAAe,CAAC;YAChC;YAEA,cAAc,EAAE,CAAC,UAAU;gBACzB,CAAA,GAAA,sCAAoB,AAAD,EAAE;oBACnB,IAAI,QAAQ,EAAE;oBACd,MAAM,QAAQ,SAAS,CAAC,OAAO;oBAC/B,UAAU,QAAQ,SAAS,CAAC,aAAa,CAAC,GAAG;oBAC7C,UAAU,QAAQ,SAAS,CAAC,YAAY;gBAC1C;YACF;YAEA,WAAW,QAAQ,CAAC;gBAAE,SAAS;YAAO;YACtC,OAAO;QACT;QAEA,KAAK,OAAO,CAAC;IACf,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,KAAK,OAAO,CAAC,EAAE,GAAG,oEAAoE;IACxF;AACF;;;AChHA,mBAAmB;;;oDAsBN;uDAiBA;AAtCb;AAqBO,MAAM,iBAAiB,OAC5B;IAEA,IAAI;QACF,MAAM,WAAW,MAAM,CAAA,GAAA,oBAAS,AAAD,EAC5B,GAAG,CACF,CAAC,mCAAmC,EAAE,UAAU,CAAC,EAElD,KAAK;QACR,OAAO,SAAS,SAAS;IAC3B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,6BAA6B;QAC3C,MAAM;IACR;AACF;AAGO,MAAM,oBAAoB,OAC/B;IAEA,IAAI;QACF,uEAAuE;QACvE,MAAM,WAAW,MAAM,CAAA,GAAA,oBAAS,AAAD,EAC5B,GAAG,CAAyB,CAAC,wBAAwB,EAAE,WAAW,CAAC,EACnE,KAAK;QACR,OAAO,SAAS,QAAQ,IAAI;IAC9B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,gCAAgC,EAAE,WAAW,CAAC,CAAC,EAAE;QAChE,OAAO;IACT;AACF;;;ACpDA,4BAA4B;;;0DAEf;0DAUA;2DAiBA;AA3BN,MAAM,uBAAuB;IAClC,MAAM,QAAQ,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,wBAAwB;IACtE,OAAO;QACL,IAAI,MAAM,kBAAkB,IAAI;QAChC,MAAM,MAAM,oBAAoB,IAAI;QACpC,UAAU,MAAM,wBAAwB,IAAI;QAC5C,UAAU,MAAM,wBAAwB,IAAI;IAC9C;AACF;AAEO,MAAM,uBAAuB,CAAC;IAMnC,MAAM,QAAQ,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,wBAAwB;IACtE,MAAM,kBAAkB,GAAG,SAAS,EAAE;IACtC,MAAM,oBAAoB,GAAG,SAAS,IAAI;IAC1C,MAAM,wBAAwB,GAAG,SAAS,QAAQ;IAClD,MAAM,wBAAwB,GAAG,SAAS,QAAQ;IAElD,QAAQ,GAAG,CAAC,sCAAsC,QAAQ,YAAY;IAEtE,aAAa,OAAO,CAAC,qBAAqB,KAAK,SAAS,CAAC;AAC3D;AAEO,MAAM,wBAAwB;IACnC,MAAM,QAAQ,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,wBAAwB;IACtE,OAAO,MAAM,kBAAkB;IAC/B,OAAO,MAAM,oBAAoB;IACjC,OAAO,MAAM,wBAAwB;IACrC,OAAO,MAAM,wBAAwB;IAErC,QAAQ,GAAG,CAAC,yCAAyC,QAAQ,YAAY;IAEzE,aAAa,OAAO,CAAC,qBAAqB,KAAK,SAAS,CAAC;AAC3D;;;ACvCA,6BAA6B;;;2DAsBhB;+DAwUA;AA5Vb;AACA;AACA;AACA;AAKA;AAOA;AAEA,IAAI,uBAA2C;AAC/C,IAAI,cAAyB,EAAE;AAExB,MAAM,wBAAwB,OACnC,YACA;IAEA,MAAM,oBAAoB;IAC1B,MAAM,YAAY,SAAS,aAAa,CAAC;IACzC,IAAI,CAAC,WAAW;QACd,QAAQ,KAAK,CAAC;QACd;IACF;IAEA,CAAA,GAAA,uCAAqB,AAAD;IAEpB,IAAI,CAAC,sBACH,uBAAuB,UAAU,SAAS,CAAC;SACtC;QACL,UAAU,SAAS,GAAG;QACtB,UAAU,WAAW,CAAC,qBAAqB,SAAS,CAAC;IACvD;IAEA,MAAM,OAAO,IAAI,CAAA,GAAA,mBAAa,AAAD,EAAW,mBAAmB;QACzD,aAAa;QACb,gBAAgB;QAChB,eAAe;IACjB;IAEA,KAAK,cAAc,CAAC,CAAC;QACnB,cAAc,QAAQ,CAAC;YAAE,SAAS;QAAO;QACzC,OAAO;IACT;IAEA,KAAK,aAAa,CAAC,CAAC;QAClB,aAAa,QAAQ,CAAC;YAAE,SAAS;QAAO;QACxC,OAAO;IACT;IAEA,qDAAqD;IACrD,IAAI,kBAAoC,EAAE;IAC1C,IAAI;QACF,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,CAAA,GAAA,8BAAoB,AAAD,KAAK,gCAAgC;QACnF,kBAAkB,UAAU,+CAA+C;IAC7E,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,oCAAoC;IACpD;IAEA,KAAK,WAAW,CAAC,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,KAAK,EAAE;QAC9C,MAAM,cAAc,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;QACpC,MAAM,iBAAiB,YAAY,mBAAmB,CACpD;QAEF,MAAM,cAAc,YAAY,mBAAmB,CAAC;QACpD,MAAM,kBAAkB,YAAY,mBAAmB,CACrD;QAEF,MAAM,eAAe,YAAY,mBAAmB,CAAC;QACrD,MAAM,eACJ,YAAY,mBAAmB,CAAmB;QACpD,MAAM,eAAe,YAAY,mBAAmB,CAAC;QACrD,MAAM,kBAAkB,YAAY,mBAAmB,CACrD;QAGF,MAAM,UAAU,CAAC,aAAa,EAAE,MAAM,CAAC;QACvC,aAAa,YAAY,CAAC,MAAM;QAChC,aAAa,YAAY,CAAC,SAAS,QAAQ,EAAE;QAE7C,MAAM,QAAQ,YAAY,mBAAmB,CAAC;QAC9C,MAAM,YAAY,CAAC,OAAO;QAE1B,eAAe,OAAO,CAAC,QAAQ,SAAS,CAAC,OAAO;QAChD,YAAY,OAAO,CAAC,QAAQ,SAAS,CAAC,aAAa;QACnD,gBAAgB,OAAO,CAAC,QAAQ,SAAS,CAAC,QAAQ;QAElD,MAAM,eAAe,mBAAmB,cAAc;QAEtD,aAAa,iBAAiB;QAC9B,gBAAgB,OAAO,CAAC,CAAC;YACvB,MAAM,YAAY,QAAQ,EAAE;YAC5B,MAAM,kBAAkB,CAAC,EAAE,QAAQ,SAAS,EAAE,UAAU,CAAC;YACzD,MAAM,cAAc,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE,SAAS,aAAa,CAAC;YAC3D,YAAY,WAAW,CAAC;YACxB,YAAY,YAAY,CAAC,OAAO;YAEhC,MAAM,kBAAkB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE,SAAS,aAAa,CAAC;YAC/D,gBAAgB,YAAY,CAAC,QAAQ;YACrC,gBAAgB,WAAW,CAAC;YAC5B,gBAAgB,YAAY,CAAC,MAAM;YACnC,gBAAgB,YAAY,CAAC,QAAQ;YACrC,gBAAgB,YAAY,CAAC,SAAS,UAAU,QAAQ;YAExD,MAAM,cAAc,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE,SAAS,aAAa,CAAC;YAC3D,YAAY,WAAW,CAAC;YACxB,YAAY,WAAW,CAAC;YACxB,YAAY,OAAO,CAAC,CAAC,EAAE,QAAQ,UAAU,CAAC,CAAC,EAAE,QAAQ,SAAS,CAAC,CAAC;YAEhE,MAAM,WAAW,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE,SAAS,aAAa,CAAC;YACxD,SAAS,WAAW,CAAC;YACrB,SAAS,WAAW,CAAC;YACrB,SAAS,OAAO,CACd,CAAC,4UAA4U,CAAC;YAGhV,YAAY,WAAW,CAAC;YACxB,YAAY,WAAW,CAAC;YACxB,YAAY,WAAW,CAAC;YACxB,aAAa,WAAW,CAAC;YAEzB,gBAAgB,EAAE,CAAC,UAAU;gBAC3B,MAAM,yBACJ,gBAAgB,UAAU;gBAC5B,MAAM,eAAe,SAAS,uBAAuB,KAAK;gBAE1D,MAAM,sBAAsB,IAAI,YAAY,kBAAkB;oBAC5D,QAAQ;wBACN,WAAW,QAAQ,EAAE;wBACrB,WAAW;wBACX,SAAS,uBAAuB,OAAO;wBACvC,uBAAuB;oBACzB;gBACF;gBACA,SAAS,aAAa,CAAC;gBAEvB,CAAA,GAAA,wCAAsB,AAAD,EACnB,QAAQ,EAAE,EACV,cACA,uBAAuB,OAAO;YAElC;QACF;QAEA,aAAa,EAAE,CAAC,UAAU;YACxB,MAAM,eAAe,aAAa,UAAU;YAC5C,IAAI,aAAa,OAAO,EACtB,gBAAgB,QAAQ,CAAC;gBAAE,SAAS;YAAO;iBACtC;gBACL,gBAAgB,QAAQ,CAAC;oBAAE,SAAS;gBAAO;gBAC3C,MAAM,oBACJ,aAAa,oBAAoB,CAAmB;gBACtD,kBAAkB,OAAO,CAAC,CAAC;oBACzB,MAAM,yBACJ,SAAS,UAAU;oBACrB,uBAAuB,OAAO,GAAG;oBACjC,MAAM,eAAe,SAAS,uBAAuB,KAAK;oBAE1D,MAAM,sBAAsB,IAAI,YAAY,kBAAkB;wBAC5D,QAAQ;4BACN,WAAW,QAAQ,EAAE;4BACrB,WAAW;4BACX,SAAS;4BACT,uBAAuB;wBACzB;oBACF;oBACA,SAAS,aAAa,CAAC;oBAEvB,CAAA,GAAA,wCAAsB,AAAD,EAAE,QAAQ,EAAE,EAAE,cAAc;gBACnD;YACF;QACF;QAEA,WAAW,QAAQ,CAAC;YAAE,SAAS;QAAO;QACtC,OAAO;IACT;IAEA,IAAI;QACF,KAAK,mBAAmB,CAAC;QACzB,MAAM,WAAW,MAAM,CAAA,GAAA,uBAAa,AAAD,EAAE,YAAY;QAEjD,IAAI,MAAM,OAAO,CAAC,aAAa,SAAS,MAAM,GAAG,GAAG;YAClD,cAAc;YACd,KAAK,OAAO,CAAC;YAEb,4DAA4D;YAC5D,IAAI,oBAAoB,CAAA,GAAA,4BAAS,AAAD;YAChC,IAAI,CAAC,kBAAkB,qBAAqB,EAAE;gBAC5C,kBAAkB,qBAAqB,GAAG;gBAC1C,CAAA,GAAA,4BAAS,AAAD,EAAE;YACZ;YACA;QACF,OACE,KAAK,OAAO,CAAC,EAAE;QAGjB,KAAK,mBAAmB,CAAC;IAC3B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,KAAK,OAAO,CAAC,EAAE;QACf,KAAK,mBAAmB,CAAC;IAC3B;IAEA,SACG,aAAa,CAAC,uBACb,iBAAiB,UAAU;QAC3B,CAAA,GAAA,mCAAgB,AAAD,EAAE;QACjB;IACF;IAEF,SACG,aAAa,CAAC,wBACb,iBAAiB,UAAU;QAC3B,CAAA,GAAA,mCAAgB,AAAD,EAAE;QACjB;IACF;IAEF,SACG,aAAa,CAAC,yBACb,iBAAiB,UAAU;QAC3B,CAAA,GAAA,mCAAgB,AAAD,EAAE;QACjB;IACF;IAEF,SACG,aAAa,CAAC,wBACb,iBAAiB,UAAU;QAC3B,CAAA,GAAA,mCAAgB,AAAD,EAAE;QACjB;IACF;IAEF;IACA,CAAA,GAAA,8BAAoB,AAAD,KAAK,+CAA+C;AACzE;AAEA,8BAA8B;AAC9B;;;;;;;;;;;;;;;;;;;;;;;;;;EA0BE,GAEF,CAAA,GAAA,8BAAoB,AAAD;AAEnB,MAAM,qBAAqB,CAAC,cAA2B;IACrD,MAAM,oBAAoB,KAAK,KAAK,CAClC,aAAa,OAAO,CAAC,wBAAwB;IAE/C,MAAM,wBACJ,kBAAkB,qBAAqB,IAAI;IAC7C,IAAI;IAEJ,OAAQ;QACN,KAAK;YACH,QAAQ,QAAQ,SAAS,CAAC,yBAAyB;YACnD;QACF,KAAK;YACH,QAAQ,QAAQ,SAAS,CAAC,0BAA0B;YACpD;QACF,KAAK;YACH,QAAQ,QAAQ,SAAS,CAAC,0BAA0B;YACpD;QACF,KAAK;YACH,QAAQ,QAAQ,SAAS,CAAC,0BAA0B;YACpD;QACF;YACE,QAAQ,IAAI,kCAAkC;IAClD;IAEA,aAAa,OAAO,CAAC;IACrB,OAAO;AACT;AAEA,MAAM,yBAAyB;IAC7B,MAAM,eAAe,SAAS,gBAAgB,CAAC;IAC/C,aAAa,OAAO,CAAC,CAAC;QACpB,MAAM,sBAAsB,YAAY,aAAa,CACnD;QAEF,MAAM,eAAe,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;QACrC,MAAM,sBAAsB,YAAY,aAAa,CACnD;QAEF,MAAM,YAAY,oBAAoB,KAAK;QAC3C,MAAM,UAAU,YAAY,IAAI,CAAC,CAAC,UAAY,QAAQ,EAAE,KAAK;QAC7D,IAAI,gBAAgB,SAClB,mBAAmB,cAAc;IAErC;AACF;AAEA,MAAM,yBAAyB;IAC7B,MAAM,gBAAgB,SAAS,cAAc,CAAC;IAE9C,IAAI,eACF,cAAc,gBAAgB,CAAC,UAAU,CAAC;QACxC,MAAM,gBAAgB,AAAC,MAAM,MAAM,CAAuB,KAAK;QAC/D,yBAAyB;IAC3B;AAEJ;AAEA,MAAM,2BAA2B,CAAC;IAChC,MAAM,eAAe,SAAS,gBAAgB,CAAC;IAE/C,aAAa,OAAO,CAAC,CAAC;QACpB,MAAM,yBAAyB,YAAY,aAAa,CACtD;QAEF,MAAM,kBAAkB,wBAAwB,eAAe;QAE/D,IAAI,aAAa,SAAS,oBAAoB,UAC5C,AAAC,YAA4B,KAAK,CAAC,OAAO,GAAG;aAE7C,AAAC,YAA4B,KAAK,CAAC,OAAO,GAAG;IAEjD;AACF;AAGO,MAAM,4BAA4B;IACvC,MAAM,oBAAoB,KAAK,KAAK,CAClC,aAAa,OAAO,CAAC,wBAAwB;IAE/C,MAAM,uBAAuB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAE7C,+CAA+C;IAC/C,IACE,CAAC,kBAAkB,gBAAgB,IACnC,kBAAkB,gBAAgB,CAAC,MAAM,KAAK,GAC9C;QACA,qBAAqB,OAAO,CAAC;QAC7B,qBAAqB,QAAQ,CAAC;YAAE,SAAS;QAAQ;QACjD,OAAO;IACT;IAEA,uDAAuD;IACvD,KAAK,MAAM,WAAW,kBAAkB,gBAAgB,CACtD,IAAI,CAAC,QAAQ,UAAU,IAAI,QAAQ,UAAU,CAAC,MAAM,KAAK,GAAG;QAC1D,qBAAqB,OAAO,CAC1B;QAEF,qBAAqB,QAAQ,CAAC;YAAE,SAAS;QAAQ;QACjD,OAAO;IACT;IAGF,8CAA8C;IAC9C,qBAAqB,QAAQ,CAAC;QAAE,SAAS;IAAO;IAEhD,gEAAgE;IAChE,CAAA,GAAA,4BAAS,AAAD,EAAE;IAEV,OAAO;AACT;;;AChYA,kBAAkB;;;mDAqBL;AApBb;AAoBO,MAAM,gBAAgB,OAC3B,YACA;IAEA,IAAI;QACF,MAAM,WAAW,MAAM,CAAA,GAAA,oBAAS,AAAD,EAC5B,GAAG,CACF,CAAC,mCAAmC,EAAE,WAAW,YAAY,EAAE,UAAU,CAAC,EAE3E,KAAK;QACR,OAAO,SAAS,QAAQ,IAAI,EAAE;IAChC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,MAAM;IACR;AACF;;;ACpCA,cAAc;;;0DAKD;AAJb;AACA;AACA;AAEO,MAAM,uBAAuB;IAClC,MAAM,kBAAkB,CAAA,GAAA,oCAAmB,AAAD;IAC1C,MAAM,mBAAmB,CAAA,GAAA,sCAAoB,AAAD;IAE5C,uBAAuB;IACvB,MAAM,uBAAuB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAC7C,MAAM,wBAAwB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAC9C,MAAM,mBAAmB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IACzC,MAAM,gBAAgB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAEtC,oBAAoB;IACpB,MAAM,4BAA4B,IAAI,CAAA,GAAA,iBAAW,AAAD,EAC9C;IAEF,MAAM,6BAA6B,IAAI,CAAA,GAAA,iBAAW,AAAD,EAC/C;IAEF,MAAM,wBAAwB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAC9C,MAAM,qBAAqB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAE3C,yDAAyD;IACzD,MAAM,gBAAgB,CAAC,cAAc,eAAe,UAAU;QAC5D,aAAa,OAAO,CAAC,gBAAgB,IAAI;QAEzC,IAAI,iBAAiB,EAAE,EAAE;YACvB,cAAc,OAAO,CAAC,iBAAiB,IAAI;YAC3C,cAAc,QAAQ,CAAC;gBAAE,SAAS;YAAQ;YAC1C,SAAS,OAAO,CAAC,iBAAiB,QAAQ;YAC1C,MAAM,WAAW,iBAAiB,QAAQ,IAAI,gBAAgB,QAAQ;YACtE,MAAM,YAAY,CAAC,OAAO;QAC5B,OAAO;YACL,cAAc,QAAQ,CAAC;gBAAE,SAAS;YAAO;YACzC,SAAS,OAAO,CAAC,gBAAgB,QAAQ;YACzC,MAAM,YAAY,CAAC,OAAO,gBAAgB,QAAQ;QACpD;IACF;IAEA,8BAA8B;IAC9B,IAAI,gBAAgB,EAAE,EACpB,cACE,sBACA,uBACA,kBACA;IAIJ,2BAA2B;IAC3B,IAAI,gBAAgB,EAAE,EACpB,cACE,2BACA,4BACA,uBACA;AAGN;;;;;0DCzCa;AApBb;AACA;AAmBO,MAAM,uBACX;IACE,IAAI;QACF,MAAM,WAAW,MAAM,CAAA,GAAA,oBAAS,AAAD,EAC5B,GAAG,CAA4B,8BAC/B,KAAK;QACR,IAAI,SAAS,QAAQ,EAAE;YACrB,wCAAwC;YACxC,MAAM,kBAAkB,SAAS,QAAQ,CAAC,MAAM,CAC9C,CAAC,UAAY,QAAQ,MAAM,KAAK;YAElC,MAAM,sBAAsB,gBAAgB,GAAG,CAC7C,CAAC,UAAY,CAAC,EAAE,QAAQ,UAAU,CAAC,CAAC,EAAE,QAAQ,SAAS,CAAC,CAAC;YAG3D,yDAAyD;YACzD,QAAQ,GAAG,CAAC,qBAAqB;YAEjC,iDAAiD;YACjD,CAAA,GAAA,4BAAS,AAAD,EAAE;gBAAE,iBAAiB;YAAoB;YAEjD,8EAA8E;YAC9E,OAAO;gBACL,UAAU,SAAS,QAAQ;gBAC3B,YAAY,SAAS,QAAQ,CAAC,MAAM,KAAK;YAC3C;QACF,OAAO;YACL,QAAQ,KAAK,CAAC;YACd,OAAO;gBAAE,UAAU,EAAE;gBAAE,YAAY;YAAK;QAC1C;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,oCAAoC;QAClD,OAAO;YAAE,UAAU,EAAE;YAAE,YAAY;QAAK;IAC1C;AACF;;;ACtDF,6BAA6B;;;+CA6BhB;+CAQA;sDAMA;wDAKA;AAnBN,MAAM,YAAY;IACvB,MAAM,aAAa,aAAa,OAAO,CAAC;IACxC,IAAI,YACF,OAAO,KAAK,KAAK,CAAC;IAEpB,OAAO,CAAC;AACV;AAEO,MAAM,YAAY,CAAC;IACxB,MAAM,eAAe;IACrB,MAAM,WAAW;QAAE,GAAG,YAAY;QAAE,GAAG,KAAK;IAAC;IAC7C,aAAa,OAAO,CAAC,qBAAqB,KAAK,SAAS,CAAC;AAC3D;AAEO,MAAM,mBAAmB,CAAC;IAC/B,UAAU;QAAE,uBAAuB;IAAc;AACnD;AAGO,MAAM,qBAAqB;IAChC,MAAM,QAAQ;IACd,OAAO,MAAM,eAAe,IAAI,EAAE;AACpC;;;ACnDA,4BAA4B;;;yDAEf;yDAKA;2DASA;4DAQA;AAtBN,MAAM,sBAAsB;IACjC,MAAM,QAAQ,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,wBAAwB;IACtE,OAAO,MAAM,eAAe,IAAI;AAClC;AAEO,MAAM,sBAAsB,CAAC;IAIlC,MAAM,QAAQ,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,wBAAwB;IACtE,MAAM,eAAe,GAAG;IACxB,aAAa,OAAO,CAAC,qBAAqB,KAAK,SAAS,CAAC;AAC3D;AAEO,MAAM,wBAAwB;IACnC,MAAM,oBAAoB,KAAK,KAAK,CAClC,aAAa,OAAO,CAAC,wBAAwB;IAE/C,kBAAkB,gBAAgB,GAAG,EAAE;IACvC,aAAa,OAAO,CAAC,qBAAqB,KAAK,SAAS,CAAC;AAC3D;AAEO,MAAM,yBAAyB,CACpC,WACA,WACA;IAEA,MAAM,oBAAoB,KAAK,KAAK,CAClC,aAAa,OAAO,CAAC,wBAAwB;IAG/C,IAAI,CAAC,kBAAkB,gBAAgB,EACrC,kBAAkB,gBAAgB,GAAG,EAAE;IAGzC,IAAI,UAAU,kBAAkB,gBAAgB,CAAC,IAAI,CACnD,CAAC,IAAW,EAAE,SAAS,KAAK;IAG9B,IAAI,SAAS;QACX,IAAI,CAAC,SAAS;YACZ,UAAU;gBAAE,WAAW;gBAAW,YAAY;oBAAC;iBAAU;YAAC;YAC1D,kBAAkB,gBAAgB,CAAC,IAAI,CAAC;QAC1C,OACE,IAAI,CAAC,QAAQ,UAAU,CAAC,QAAQ,CAAC,YAC/B,QAAQ,UAAU,CAAC,IAAI,CAAC;IAG9B,OACE,IAAI,SAAS;QACX,QAAQ,UAAU,GAAG,QAAQ,UAAU,CAAC,MAAM,CAC5C,CAAC,KAAe,OAAO;QAEzB,IAAI,QAAQ,UAAU,CAAC,MAAM,KAAK,GAChC,kBAAkB,gBAAgB,GAChC,kBAAkB,gBAAgB,CAAC,MAAM,CACvC,CAAC,IAAW,EAAE,SAAS,KAAK;IAGpC;IAGF,aAAa,OAAO,CAAC,qBAAqB,KAAK,SAAS,CAAC;AAC3D;;;ACjEA,6CAA6C;;;+DAqChC;AAnCb;AACA;AACA;AACA;AACA;AACA;AAIA;AACA,0DAAoE,sCAAsC;AAC1G,4DAAsE,+BAA+B;AAwB9F,MAAM,4BAA4B;IACvC,IAAI;QACF,MAAM,oBAAoB,CAAA,GAAA,4BAAS,AAAD;QAElC,MAAM,WAAW,MAAM,CAAA,GAAA,oBAAS,AAAD,EAC5B,IAAI,CAA0B,kCAAkC;YAC/D,MAAM;QACR,GACC,KAAK;QAER,QAAQ,GAAG,CAAC,0BAA0B;QAEtC,CAAA,GAAA,8BAAoB,AAAD;QACnB,CAAA,GAAA,4BAAkB,AAAD;QAEjB,MAAM,EAAE,qBAAqB,EAAE,kBAAkB,EAAE,UAAU,EAAE,GAAG;QAElE,+BAA+B;QAC/B,MAAM,gBAAgB;YACpB,mBAAmB,SAAS,iBAAiB;YAC7C,oBAAoB,SAAS,kBAAkB;YAC/C,qBAAqB,SAAS,mBAAmB;YACjD,oBAAoB,SAAS,kBAAkB;QACjD;QAEA,iEAAiE;QACjE,CAAA,GAAA,4BAAS,AAAD,EAAE;YACR,iBAAiB;YACjB;YACA;YACA,YAAY,SAAS,UAAU;QACjC;QAEA,CAAA,GAAA,oDAA8B,AAAD,EAAE;QAC/B,CAAA,GAAA,oCAAsB,AAAD,KAAK,sCAAsC;QAEhE,2CAA2C;QAC3C,MAAM,qBAAqB,kBAAkB,eAAe,EAAE,SAAS;QACvE,MAAM,oBACJ,AAAC,sBAAsB,0BAA0B,aACjD;QAEF,QAAQ,GAAG,CAAC,CAAC,mBAAmB,EAAE,kBAAkB,CAAC;QAErD,IAAI,mBAAmB;YACrB,6BAA6B;YAC7B,MAAM,mBAAmB,SAAS,kBAAkB;YACpD,QAAQ,GAAG,CAAC,+BAA+B;YAC3C,CAAA,GAAA,0BAAe,AAAD,EAAE,kBAAkB,OAAO,wCAAwC;YACjF,mCAAmC;YACnC,CAAA,GAAA,oCAAiB,AAAD,EAAE,MAAM;YACxB,QAAQ,GAAG,CAAC;QACd,OAAO;YACL,4BAA4B;YAC5B,MAAM,mBAAmB,CAAA,GAAA,wCAA6B,AAAD,EACnD,uBACA;YAEF,CAAA,GAAA,0BAAe,AAAD,EAAE;YAChB,CAAA,GAAA,oCAAiB,AAAD,EAAE,OAAO;YACzB,QAAQ,GAAG,CAAC;QACd;QAEA,sDAAsD;QACtD,CAAA,GAAA,sCAAuB,AAAD;IACxB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yCAAyC;IACzD;AACF;;;ACzGA,gDAAgD;;;wDAOnC;AALb;AAKO,MAAM,qBAAqB;IAChC,MAAM,WAAW,SAAS,aAAa,CAAC;IACxC,MAAM,0BAA0B,SAAS,aAAa,CACpD;IAGF,IAAI,CAAC,YAAY,CAAC,yBAAyB;QACzC,QAAQ,KAAK,CAAC;QACd;IACF;IAEA,MAAM,kBAAkB,CAAA,GAAA,qCAAkB,AAAD;IAEzC,IAAI,gBAAgB,MAAM,GAAG,GAAG;QAC9B,SAAS,KAAK,CAAC,OAAO,GAAG;QACzB,wBAAwB,SAAS,GAAG,gBACjC,GAAG,CAAC,CAAC,UAAY,CAAC,IAAI,EAAE,QAAQ,KAAK,CAAC,EACtC,IAAI,CAAC;IACV,OACE,SAAS,KAAK,CAAC,OAAO,GAAG;AAE7B;;;AC5BA,6DAA6D;;;oEAShD;AAPb;AACA;AACA;AACA;AAEA,iDAA2D,+BAA+B;AAEnF,MAAM,iCAAiC,CAC5C;IAEA,MAAM,eAAe;QACnB;YAAE,KAAK;YAAU,IAAI;YAAc,QAAQ;QAAkB;QAC7D;YAAE,KAAK;YAAW,IAAI;YAAe,QAAQ;QAAmB;QAChE;YACE,KAAK;YACL,IAAI;YACJ,QAAQ;QACV;KAED;IAED,4DAA4D;IAC5D,aAAa,OAAO,CAAC,CAAC;QACpB,MAAM,cAAc,IAAI,CAAA,GAAA,iBAAW,AAAD,EAChC,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,EACb,UAAU;QACZ,MAAM,kBAAkB,IAAI,CAAA,GAAA,iBAAW,AAAD,EACpC,CAAC,CAAC,EAAE,KAAK,MAAM,CAAC,CAAC,EACjB,UAAU;QAEZ,IAAI,KAAK,GAAG,KAAK,uBAAuB;YACtC,YAAY,OAAO,GAAG;YACtB,gBAAgB,SAAS,CAAC,MAAM,CAAC;YACjC,YAAY,QAAQ,GAAG;QACzB,OAAO;YACL,gBAAgB,SAAS,CAAC,MAAM,CAAC;YACjC,YAAY,QAAQ,GAAG;QACzB;IACF;IAEA,gDAAgD;IAChD,aAAa,OAAO,CAAC,CAAC;QACpB,MAAM,QAAQ,IAAI,CAAA,GAAA,iBAAW,AAAD,EAC1B,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,EACb,UAAU;QACZ,MAAM,gBAAgB,CAAC,UAAU,CAAC;YAChC,MAAM,SAAS,MAAM,MAAM;YAC3B,IAAI,OAAO,OAAO,EAAE;gBAClB,4CAA4C;gBAC5C,CAAA,GAAA,4BAAS,AAAD,EAAE;oBAAE,uBAAuB,OAAO,KAAK;gBAAC;gBAEhD,sCAAsC;gBACtC,MAAM,oBAAoB,CAAA,GAAA,4BAAS,AAAD;gBAElC,mCAAmC;gBACnC,QAAQ,GAAG,CAAC,+BAA+B;gBAE3C,kDAAkD;gBAClD,MAAM,gBAAgB;oBACpB,mBACE,kBAAkB,eAAe,EAAE,qBAAqB,EAAE;oBAC5D,oBACE,kBAAkB,eAAe,EAAE,sBAAsB,EAAE;oBAC7D,qBACE,kBAAkB,eAAe,EAAE,uBAAuB,EAAE;gBAEhE;gBAEA,0CAA0C;gBAC1C,MAAM,oBACJ,AAAC,kBAAkB,kBAAkB,IAAI,OAAO,KAAK,KAAK,aACzD,kBAAkB,eAAe,EAAE,SAAS;gBAE/C,gDAAgD;gBAChD,QAAQ,GAAG,CAAC,CAAC,mBAAmB,EAAE,kBAAkB,CAAC;gBAErD,IAAI,mBAAmB;oBACrB,qCAAqC;oBACrC,MAAM,mBAAmB,kBAAkB,eAAe,EAAE,sBAAsB,EAAE;oBAEpF,mDAAmD;oBACnD,IAAI,iBAAiB,MAAM,GAAG,GAAG;wBAC/B,QAAQ,GAAG,CAAC,iCAAiC;wBAC7C,CAAA,GAAA,0BAAe,AAAD,EAAE,kBAAkB,OAAO,wCAAwC;wBACjF,mCAAmC;wBACnC,CAAA,GAAA,oCAAiB,AAAD,EAAE,MAAM,OAAO,KAAK;wBACpC,QAAQ,GAAG,CAAC,CAAC,gCAAgC,EAAE,OAAO,KAAK,CAAC,CAAC;oBAC/D,OAAO;wBACL,QAAQ,IAAI,CAAC;wBACb,4EAA4E;wBAC5E,MAAM,mBAAmB,CAAA,GAAA,wCAA6B,AAAD,EACnD,OAAO,KAAK,EACZ;wBAEF,CAAA,GAAA,0BAAe,AAAD,EAAE;wBAChB,CAAA,GAAA,oCAAiB,AAAD,EAAE,OAAO,OAAO,KAAK;wBACrC,QAAQ,GAAG,CAAC,CAAC,gCAAgC,EAAE,OAAO,KAAK,CAAC,8BAA8B,CAAC;oBAC7F;gBACF,OAAO;oBACL,qCAAqC;oBACrC,MAAM,mBAAmB,CAAA,GAAA,wCAA6B,AAAD,EACnD,OAAO,KAAK,EACZ;oBAEF,CAAA,GAAA,0BAAe,AAAD,EAAE;oBAChB,CAAA,GAAA,oCAAiB,AAAD,EAAE,OAAO,OAAO,KAAK;oBACrC,QAAQ,GAAG,CAAC,CAAC,gCAAgC,EAAE,OAAO,KAAK,CAAC,CAAC;gBAC/D;gBAEA,QAAQ,GAAG,CAAC,CAAC,iCAAiC,EAAE,OAAO,KAAK,CAAC,CAAC;gBAE9D,6DAA6D;gBAC7D,CAAA,GAAA,sCAAuB,AAAD;YACxB;QACF;IACF;AACF;;;ACtHA,eAAe;;;qDAIF;mEA4CA;AA/Cb;AAGO,MAAM,kBAAkB,CAAC,WAAuB,YAAqB,KAAK;IAC/E,MAAM,eAAe,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IACrC,aAAa,iBAAiB,IAAI,4BAA4B;IAE9D,QAAQ,GAAG,CAAC,CAAC,UAAU,EAAE,YAAY,YAAY,UAAU,YAAY,CAAC,EAAE;IAE1E,UAAU,OAAO,CAAC,CAAC;QACjB,MAAM,cAAc,SAAS,aAAa,CAAC;QAC3C,YAAY,SAAS,GAAG,cAAe,CAAA,YAAY,iBAAiB,EAAC;QAErE,MAAM,kBAAkB,SAAS,aAAa,CAAC;QAC/C,gBAAgB,SAAS,GAAG;QAC5B,gBAAgB,WAAW,GAAG,KAAK,YAAY;QAC/C,YAAY,WAAW,CAAC;QAExB,MAAM,iBAAiB,SAAS,aAAa,CAAC;QAC9C,eAAe,SAAS,GAAG;QAC3B,eAAe,WAAW,GAAG,CAAC,CAAC,EAAE,KAAK,WAAW,CAAC,CAAC;QACnD,YAAY,WAAW,CAAC;QAExB,MAAM,eAAe,SAAS,aAAa,CAAC;QAC5C,aAAa,SAAS,GAAG;QACzB,aAAa,WAAW,GAAG,CAAC,EAAE,KAAK,QAAQ,CAAC,CAAC;QAC7C,YAAY,WAAW,CAAC;QAExB,MAAM,kBAAkB,SAAS,aAAa,CAAC;QAC/C,gBAAgB,SAAS,GAAG;QAC5B,gBAAgB,WAAW,GAAG,CAAC,CAAC,EAAE,KAAK,YAAY,CAAC,CAAC;QACrD,YAAY,WAAW,CAAC;QAExB,aAAa,UAAU,GAAG,WAAW,CAAC;IACxC;IAEA,iFAAiF;IACjF,IAAI,WAAW;QACb,wCAAwC;QACxC,aAAa,UAAU,GAAG,SAAS,CAAC,GAAG,CAAC;QACxC,QAAQ,GAAG,CAAC;IACd,OAAO;QACL,aAAa,UAAU,GAAG,SAAS,CAAC,MAAM,CAAC;QAC3C,QAAQ,GAAG,CAAC;IACd;AACF;AAEO,MAAM,gCAAgC,CAC3C,uBACA;IAEA,OAAQ;QACN,KAAK;YACH,OAAO,cAAc,iBAAiB;QACxC,KAAK;YACH,OAAO,cAAc,kBAAkB;QACzC,KAAK;YACH,OAAO,cAAc,mBAAmB;QAC1C,yBAAyB;QACzB;YACE,QAAQ,IAAI,CAAC,2BAA2B;YACxC,OAAO,EAAE;IACb;AACF;;;AChEA,uBAAuB;;;uDAMV;AALb;AACA;AACA;AACA;AAEO,MAAM,oBAAoB,CAC/B,iBAA0B,KAAK,EAC/B;IAEA,MAAM,QAAQ,CAAA,GAAA,4BAAS,AAAD;IACtB,MAAM,qBAAqB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAC3C,MAAM,+BAA+B,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IACrD,MAAM,sBAAsB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAC5C,MAAM,wBAAwB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAE9C,+BAA+B;IAC/B,MAAM,sBAAsB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAC5C,MAAM,8BAA8B,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IACpD,MAAM,iCAAiC,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IACvD,MAAM,wBAAwB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAC9C,MAAM,0BAA0B,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAEhD,QAAQ,GAAG,CAAC,CAAC,6CAA6C,EAAE,eAAe,2BAA2B,EAAE,sBAAsB,CAAC;IAE/H,IAAI;IACJ,IAAI;IACJ,IAAI,oBAA4B,IAAI,mBAAmB;IAEvD,MAAM,gBAAgB,yBAAyB,MAAM,qBAAqB;IAE1E,OAAQ;QACN,KAAK;YACH,kBAAkB,MAAM,eAAe,EAAE;YACzC,oBAAoB;YACpB;QACF,KAAK;YACH,kBAAkB,MAAM,eAAe,EAAE;YACzC,oBAAoB;YACpB;QACF,KAAK;YACH,kBAAkB,MAAM,eAAe,EAAE;YACzC,oBAAoB;YACpB;QACF;YACE,QAAQ,IAAI,CAAC,2BAA2B;IAC5C;IAEA,IAAI,CAAC,gBAAgB;QACnB,6DAA6D;QAC7D,IAAI,MAAM,iBAAiB,EAAE;YAC3B,MAAM,gBAAgB,WAAW,MAAM,iBAAiB;YACxD,eAAe,kBACX,kBAAmB,CAAA,IAAI,gBAAgB,GAAE,IACzC;YACJ,oBAAoB,QAAQ,CAAC;gBAAE,SAAS;YAAQ;YAChD,sBAAsB,OAAO,CAAC,CAAC,EAAE,cAAc,CAAC,CAAC;YACjD,6BAA6B,OAAO,CAClC,CAAC,IAAI,EAAE,CAAA,GAAA,0BAAc,AAAD,EAAE,iBAAkB,CAAC,EAAE,kBAAkB,CAAC;YAEhE,6BAA6B,QAAQ,CAAC;gBAAE,SAAS;YAAQ;YACzD,QAAQ,GAAG,CAAC;QACd,OAAO;YACL,eAAe;YACf,oBAAoB,QAAQ,CAAC;gBAAE,SAAS;YAAO;YAC/C,6BAA6B,QAAQ,CAAC;gBAAE,SAAS;YAAO;YACxD,sBAAsB,OAAO,CAAC;YAC9B,QAAQ,GAAG,CAAC;QACd;QAEA,IAAI,iBAAiB,WACnB,mBAAmB,OAAO,CAAC,CAAC,EAAE,CAAA,GAAA,0BAAc,AAAD,EAAE,cAAc,CAAC,EAAE,kBAAkB,CAAC;aAEjF,mBAAmB,OAAO,CAAC,CAAC,MAAM,EAAE,kBAAkB,CAAC;QAGzD,oDAAoD;QACpD,oBAAoB,QAAQ,CAAC;YAAE,SAAS;QAAO;QAC/C,QAAQ,GAAG,CAAC;QACZ,yBAAyB;QACzB,4BAA4B,OAAO,CAAC,CAAC,MAAM,EAAE,kBAAkB,CAAC;QAChE,+BAA+B,QAAQ,CAAC;YAAE,SAAS;QAAO;QAC1D,sBAAsB,QAAQ,CAAC;YAAE,SAAS;QAAO;QACjD,wBAAwB,OAAO,CAAC;IAClC,OAAO;QACL,0GAA0G;QAC1G,MAAM,gBAAgB,MAAM,eAAe,EAAE;QAC7C,IAAI,kBAAkB,WACpB,mBAAmB,OAAO,CAAC,CAAC,EAAE,CAAA,GAAA,0BAAc,AAAD,EAAE,eAAe,MAAM,CAAC;aAEnE,mBAAmB,OAAO,CAAC,CAAC,WAAW,CAAC;QAG1C,oEAAoE;QACpE,CAAA,GAAA,sDAA0B,AAAD;QAEzB,gCAAgC;QAChC,oBAAoB,QAAQ,CAAC;YAAE,SAAS;YAAQ,eAAe;QAAS;QACxE,QAAQ,GAAG,CAAC;QAEZ,4EAA4E;QAC5E,oBAAoB,QAAQ,CAAC;YAAE,SAAS;QAAO;QAC/C,sBAAsB,OAAO,CAAC;QAC9B,6BAA6B,QAAQ,CAAC;YAAE,SAAS;QAAO;QACxD,QAAQ,GAAG,CAAC;IACd;AACF;;;AC1GA,sBAAsB;;;oDAET;AAAN,MAAM,iBAAiB,CAAC;IAC7B,gDAAgD;IAChD,MAAM,gBACJ,OAAO,WAAW,WAAW,WAAW,UAAU;IAEpD,qDAAqD;IACrD,IAAI,CAAC,MAAM,gBACT,OAAO,cAAc,cAAc,CAAC,SAAS;QAC3C,OAAO;QACP,UAAU;IACZ;IAGF,OAAO,SAAS,iCAAiC;AACnD;;;AChBA,gCAAgC;;;gEAKnB;AAJb;AACA;AACA;AAEO,MAAM,6BAA6B;IACxC,MAAM,QAAQ,CAAA,GAAA,4BAAS,AAAD;IACtB,MAAM,8BAA8B,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IACpD,MAAM,iCAAiC,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IACvD,MAAM,wBAAwB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAC9C,MAAM,0BAA0B,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAEhD,MAAM,wBAAwB,MAAM,qBAAqB;IACzD,IAAI;IACJ,IAAI,sBAA8B;IAElC,OAAQ;QACN,KAAK;YACH,0BAA0B,MAAM,eAAe,EAAE;YACjD,sBAAsB;YACtB;QACF,KAAK;YACH,0BAA0B,MAAM,eAAe,EAAE;YACjD,sBAAsB;YACtB;QACF,KAAK;YACH,0BAA0B,MAAM,eAAe,EAAE;YACjD,sBAAsB;YACtB;QACF;YACE,QAAQ,IAAI,CAAC,2BAA2B;IAC5C;IAEA,IAAI,MAAM,iBAAiB,IAAI,4BAA4B,WAAW;QACpE,MAAM,gBAAgB,WAAW,MAAM,iBAAiB;QACxD,MAAM,kBAAkB,0BAA2B,CAAA,IAAI,gBAAgB,GAAE;QACzE,sBAAsB,QAAQ,CAAC;YAAE,SAAS;QAAQ;QAClD,wBAAwB,OAAO,CAAC,CAAC,EAAE,cAAc,CAAC,CAAC;QACnD,+BAA+B,OAAO,CACpC,CAAC,IAAI,EAAE,CAAA,GAAA,0BAAc,AAAD,EAAE,yBAAyB,CAAC,EAAE,oBAAoB,CAAC;QAEzE,+BAA+B,QAAQ,CAAC;YAAE,SAAS;QAAQ;QAC3D,4BAA4B,OAAO,CAAC,CAAC,EAAE,CAAA,GAAA,0BAAc,AAAD,EAAE,iBAAiB,CAAC,EAAE,oBAAoB,CAAC;QAC/F,QAAQ,GAAG,CAAC;IACd,OAAO;QACL,sBAAsB;QACtB,IAAI,4BAA4B,WAC9B,4BAA4B,OAAO,CAAC,CAAC,EAAE,CAAA,GAAA,0BAAc,AAAD,EAAE,yBAAyB,CAAC,EAAE,oBAAoB,CAAC;aAEvG,4BAA4B,OAAO,CAAC,CAAC,MAAM,EAAE,oBAAoB,CAAC;QAEpE,sBAAsB,QAAQ,CAAC;YAAE,SAAS;QAAO;QACjD,+BAA+B,QAAQ,CAAC;YAAE,SAAS;QAAO;QAC1D,wBAAwB,OAAO,CAAC;QAChC,QAAQ,GAAG,CAAC;IACd;AACF;;;ACxDA,2CAA2C;;;6DAS9B;AAPb;AAOO,MAAM,0BAA0B;IACrC,MAAM,gBAAgB,SAAS,aAAa,CAAC;IAC7C,MAAM,gBAAgB,SAAS,aAAa,CAAC;IAE7C,IAAI,CAAC,iBAAiB,CAAC,eAAe;QACpC,QAAQ,KAAK,CAAC;QACd;IACF;IAEA,MAAM,QAAQ,CAAA,GAAA,4BAAS,AAAD;IACtB,MAAM,EAAE,qBAAqB,EAAE,kBAAkB,EAAE,eAAe,EAAE,GAAG;IAEvE,6EAA6E;IAC7E,IACE,0BAA0B,aAC1B,sBACA,mBACA,gBAAgB,UAAU,EAC1B;QACA,8BAA8B;QAC9B,MAAM,YAAY,IAAI,KAAK,gBAAgB,UAAU;QAErD,kDAAkD;QAClD,MAAM,YAAY,IAAI,KAAK,cAAc,CAAC,WAAW;YACnD,MAAM;YACN,OAAO;YACP,KAAK;YACL,UAAU;QACZ;QAEA,MAAM,gBAAgB,UAAU,MAAM,CAAC;QAEvC,4BAA4B;QAC5B,cAAc,WAAW,GAAG;QAE5B,wBAAwB;QACxB,cAAc,KAAK,CAAC,OAAO,GAAG;QAC9B,QAAQ,GAAG,CAAC,2DAA2D;IACzE,OAAO;QACL,+CAA+C;QAC/C,cAAc,KAAK,CAAC,OAAO,GAAG;QAC9B,QAAQ,GAAG,CAAC;IACd;AACF;;;ACpDA,kBAAkB;;;4DAWL;AAVb;AACA;AACA;AACA;AACA;AAMO,MAAM,yBAAyB;IACpC,MAAM,uBAAuB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAC7C,MAAM,qBAAqB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAE3C,uCAAuC;IACvC,qBAAqB,EAAE,CAAC,UAAU;QAChC,MAAM,kBACJ,qBAAqB,UAAU;QACjC,MAAM,QAAQ,CAAA,GAAA,4BAAS,AAAD,KAAK,sBAAsB;QACjD,IAAI,gBAAgB,OAAO,EACzB,AAAC,mBAAmB,UAAU,GAAyB,SAAS;aAC3D;YACL,oCAAoC;YACpC,CAAA,GAAA,4BAAS,AAAD,EAAE;gBAAE,mBAAmB;gBAAO,mBAAmB;YAAU;YAEnE,mCAAmC;YACnC,MAAM,iBACJ,MAAM,eAAe,EAAE,SAAS,KAC/B,MAAM,kBAAkB,IAAI,MAAM,qBAAqB,KAAK;YAC/D,4BAA4B;YAC5B,CAAA,GAAA,oCAAiB,AAAD,EAAE,gBAAgB,MAAM,qBAAqB;QAC/D;IACF;IAEA,mEAAmE;IACnE,mBAAmB,UAAU,IAAI,iBAAiB,SAAS;QACzD,MAAM,QAAQ,CAAA,GAAA,4BAAS,AAAD;QACtB,IAAI,CAAC,MAAM,iBAAiB,EAC1B,AAAC,qBAAqB,UAAU,GAAwB,OAAO,GAAG;IAEtE;IAEA,kBAAkB;IAClB;IAEA,yBAAyB;IACzB,MAAM,eAAe,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IACrC,aAAa,EAAE,CAAC,SAAS;QACvB,IAAI,4BAA4B;YAC9B;YACA;QACF;IACF;IAEA,iEAAiE;IACjE,yBAAyB;IAEzB,iDAAiD;IACjD,MAAM,oBAAoB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAC1C,MAAM,sBAAsB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAE5C,MAAM,yBAAyB,CAAC;QAC9B,MAAM,eAAe,UAAU,UAAU;QACzC,IAAI,QAAQ,aAAa,KAAK,CAAC,OAAO,CAAC,YAAY,KAAK,oEAAoE;QAE5H,6CAA6C;QAC7C,IAAI,iBAAiB,aAAa,cAAc,IAAI;QAEpD,mDAAmD;QACnD,MAAM,mBAAmB,AACvB,CAAA,aAAa,KAAK,CAAC,KAAK,CAAC,GAAG,gBAAgB,KAAK,CAAC,SAAS,EAAE,AAAD,EAC5D,MAAM;QAER,qEAAqE;QACrE,IAAI,MAAM,QAAQ,CAAC,MAAM;YACvB,MAAM,CAAC,aAAa,YAAY,GAAG,MAAM,KAAK,CAAC;YAC/C,QAAQ,CAAC,EAAE,YAAY,CAAC,EAAE,YAAY,KAAK,CAAC,GAAG,GAAG,CAAC;QACrD;QAEA,oBAAoB;QACpB,MAAM,iBAAiB,aAAa;QACpC,aAAa,KAAK,GAAG;QAErB,kDAAkD;QAClD,MAAM,kBAAkB,AACtB,CAAA,aAAa,KAAK,CAAC,KAAK,CAAC,GAAG,gBAAgB,KAAK,CAAC,SAAS,EAAE,AAAD,EAC5D,MAAM;QAER,gEAAgE;QAChE,kBAAkB,kBAAkB;QAEpC,0DAA0D;QAC1D,IAAI,iBAAiB,eAAe,MAAM,EACxC,iBAAiB,eAAe,MAAM;QAGxC,0DAA0D;QAC1D,aAAa,iBAAiB,CAAC,gBAAgB;IACjD;IAEA,MAAM,eAAe,CAAC;QACpB,MAAM,SAAS,WAAW,MAAM,OAAO,CAAC,MAAM;QAC9C,IAAI,MAAM,SAAS,OAAO;QAC1B,OAAO,OAAO,cAAc,CAAC,SAAS;YACpC,uBAAuB;YACvB,uBAAuB;QACzB;IACF;IAEA,kBAAkB,EAAE,CAAC,SAAS,IAC5B,uBAAuB;IAEzB,oBAAoB,EAAE,CAAC,SAAS,IAC9B,uBAAuB;AAE3B;AAEA,6CAA6C;AAC7C,MAAM,0BAA0B,CAAC;IAC9B,OAAO,UAAU,GAAyB,KAAK;AAClD;AAEA,0CAA0C;AAC1C,MAAM,2BAA2B,CAAC;IAChC,MAAM,cAAc,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAEpC,YAAY,EAAE,CAAC,SAAS,IAAM,wBAAwB;IAEtD,OAAO,UAAU,IAAI,iBAAiB,SAAS,CAAC;QAC9C,MAAM,OAAO,AACX,OAAO,UAAU,GACjB,qBAAqB;QACvB,IACE,MAAM,OAAO,GAAG,KAAK,IAAI,IACzB,MAAM,OAAO,GAAG,KAAK,KAAK,IAC1B,MAAM,OAAO,GAAG,KAAK,GAAG,IACxB,MAAM,OAAO,GAAG,KAAK,MAAM,EAE3B,wBAAwB;IAE5B;AACF;AAEA,8CAA8C;AAC9C,MAAM,kCAAkC;IACtC,MAAM,oBAAoB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAC1C,MAAM,oBAAoB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAE1C,MAAM,4BAA4B,SAAS,iBAAiB,CAC1D;IAEF,MAAM,2BAA2B,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAEjD,MAAM,oBAAoB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAC1C,MAAM,oBAAoB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAE1C,MAAM,sBAAsB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAC5C,MAAM,sBAAsB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAE5C,CAAA,GAAA,0BAAe,AAAD,EAAE,mBAAmB,mBAAmB,IACpD,CAAA,GAAA,oCAAmB,AAAD,EAAE,kBAAkB,sBAClC,KACA;IAGN,CAAA,GAAA,0BAAe,AAAD,EAAE,mBAAmB,mBAAmB,IACpD,CAAA,GAAA,iCAAgB,AAAD,EAAE,kBAAkB,sBAC/B,KACA;IAGN,CAAA,GAAA,0BAAe,AAAD,EAAE,qBAAqB,qBAAqB,IACxD,CAAA,GAAA,iCAAgB,AAAD,EAAE,kBAAkB,wBAC/B,KACA;IAGN,MAAM,IAAI,CAAC,2BAA2B,OAAO,CAAC,CAAC;QAC7C,CAAA,GAAA,0BAAe,AAAD,EACZ,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE,QAChB,0BACA;YACE,MAAM,WAAW,MAAM,IAAI,CAAC,2BAA2B,IAAI,CACzD,CAAC,QAAU,AAAC,MAA2B,OAAO;YAEhD,OAAO,WAAW,KAAK;QACzB;IAEJ;AACF;AAEA,wDAAwD;AACxD,MAAM,2BAA2B;IAC/B,MAAM,oBAAoB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAC1C,MAAM,oBAAoB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAC1C,MAAM,sBAAsB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAC5C,MAAM,4BAA4B,SAAS,iBAAiB,CAC1D;IAGF,MAAM,sBAAsB,CAAA,GAAA,oCAAmB,AAAD,EAC5C,kBAAkB;IAEpB,CAAA,GAAA,sBAAW,AAAD,EACR,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE,6BAChB,iCACA,CAAC;IAGH,MAAM,sBAAsB,CAAA,GAAA,iCAAgB,AAAD,EACzC,kBAAkB;IAEpB,CAAA,GAAA,sBAAW,AAAD,EACR,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE,uBAChB,8CACA,CAAC;IAGH,MAAM,wBAAwB,CAAA,GAAA,iCAAgB,AAAD,EAC3C,kBAAkB;IAEpB,CAAA,GAAA,sBAAW,AAAD,EACR,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE,yBAChB,0CACA,CAAC;IAGH,MAAM,6BAA6B,MAAM,IAAI,CAAC,2BAA2B,IAAI,CAC3E,CAAC,QAAU,AAAC,MAA2B,OAAO;IAEhD,CAAA,GAAA,sBAAW,AAAD,EACR,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE,8BAChB,4BACA,CAAC;IAGH,OACE,uBACA,uBACA,yBACA;AAEJ;AAEA,+CAA+C;AAC/C,MAAM,uBAAuB;IAC3B,MAAM,wBAAwB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAC9C,MAAM,sBACJ,sBAAsB,UAAU;IAClC,MAAM,eAAe,oBAAoB,KAAK;IAE9C,MAAM,wBAAwB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAC9C,MAAM,sBACJ,sBAAsB,UAAU;IAClC,MAAM,eAAe,oBAAoB,KAAK;IAE9C,MAAM,0BAA0B,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAChD,MAAM,wBACJ,wBAAwB,UAAU;IACpC,MAAM,iBAAiB,sBAAsB,KAAK;IAElD,MAAM,2BAA2B,SAAS,aAAa,CACrD;IAEF,MAAM,sBAAsB,2BACxB,yBAAyB,KAAK,GAC9B;IAEJ,CAAA,GAAA,4BAAS,AAAD,EAAE;QACR,mBAAmB;QACnB,mBAAmB;QACnB,kBAAkB;YAChB;YACA;YACA;YACA;QACF;IACF;IAEA,QAAQ,GAAG,CAAC,6BAA6B;QACvC;QACA;QACA;QACA;IACF;AACF;AAEA,2DAA2D;AAC3D,MAAM,mBAAmB;IACvB,MAAM,iBAAiB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IACvC,MAAM,OAAO,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAC7B,KAAK,QAAQ,CAAC;QAAE,SAAS;IAAO;IAChC,eAAe,QAAQ,CAAC;QAAE,SAAS;IAAQ;IAE3C,MAAM,sBAAsB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAC5C,MAAM,mBAAmB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IACzC,MAAM,qBAAqB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAE3C,oBAAoB,EAAE,CAAC,SAAS;QAC9B,MAAM,mBAAmB,SAAS,aAAa,CAC7C;QAGF,IAAI,kBAAkB;YACpB,MAAM,gBAAgB,iBAAiB,KAAK;YAC5C,MAAM,QAAQ,CAAA,GAAA,4BAAS,AAAD;YAEtB,CAAA,GAAA,4BAAS,AAAD,EAAE;gBAAE,mBAAmB;YAAc;YAC7C,CAAA,GAAA,4BAAS,AAAD,EAAE;gBAAE,mBAAmB;YAAK;YAEpC,mCAAmC;YACnC,MAAM,iBACJ,MAAM,eAAe,EAAE,SAAS,KAC/B,MAAM,kBAAkB,IAAI,MAAM,qBAAqB,KAAK;YAE/D,CAAA,GAAA,oCAAiB,AAAD,EAAE,gBAAgB,MAAM,qBAAqB;YAE7D,QAAQ,GAAG,CAAC,CAAC,kBAAkB,EAAE,cAAc,CAAC,CAAC;YAEjD,mBAAmB;YACnB,wBAAwB;QAC1B,OACE,QAAQ,IAAI,CAAC;IAGjB;IAEA,iBAAiB,EAAE,CAAC,SAAS;QAC3B,eAAe,QAAQ,CAAC;YAAE,SAAS;QAAO;QAC1C,KAAK,QAAQ,CAAC;YAAE,SAAS;QAAO;IAClC;AACF;AAEA,kDAAkD;AAClD,MAAM,oBAAoB,CAAC;IACzB,MAAM,UAAU,UAAU,UAAU;IAGpC,OAAO,QAAQ,KAAK;AACtB;;;;;AC/UA,iDAAgB;AAShB,qDAAgB;AAqBhB,8DAAgB;AAYhB,sEAAgB;AAUhB,6DAAgB;AAYhB,8DAAgB;AA2BhB;;;CAGC,GACD,sDAAgB;AAahB;;;;;;;CAOC,GACD;;;;;;;;CAQC,GACD,qDAAgB;uDAiLH;AAnTb;AACA;AACA;AACA;AAEO,SAAS,YACd,qBAAuC,EACvC,OAAe,EACf,IAAa;IAEb,sBAAsB,oBAAoB,CAAC;QAAE,MAAM,OAAO,UAAU;IAAG;IACvE,sBAAsB,QAAQ,CAAC;QAAE,SAAS,OAAO,SAAS;IAAO;AACnE;AAEO,SAAS,gBACd,cAA2B,EAC3B,cAA2B,EAC3B,QAAsB,EACtB,sBAAoC,8CAA8C;AAA/C;IAEnC,MAAM,oBAAoB;QACxB,MAAM,eAAe;QACrB,YAAY,gBAAgB,cAAc,CAAC,CAAC;QAC5C,IAAI,yBAAyB,iBAAiB,IAC5C,oEAAoE;QACpE,YAAY,uBAAuB,IAAI;IAE3C;IAEA,kDAAkD;IAClD,eAAe,EAAE,CAAC,SAAS;IAC3B,eAAe,EAAE,CAAC,QAAQ;IAC1B,eAAe,EAAE,CAAC,UAAU;AAC9B;AAEO,SAAS,yBACd,cAA2B,EAC3B,YAAwC,EACxC,YAAoB;IAEpB,OAAO;QACL,MAAM,eAAe,eAAe,UAAU;QAC9C,MAAM,UAAU,aAAa,aAAa,KAAK;QAC/C,OAAO,UAAU,KAAK;IACxB;AACF;AAEO,SAAS,iCACd,iBAA8B,EAC9B,YAAoB;IAEpB,OAAO;QACL,MAAM,WAAW,kBAAkB,UAAU;QAC7C,OAAO,SAAS,OAAO,GAAG,KAAK;IACjC;AACF;AAEO,SAAS,wBACd,iBAA8B,EAC9B,sBAAmC,EACnC,YAAoB;IAEpB,MAAM,WAAW,iCACf,mBACA;IAEF,gBAAgB,mBAAmB,wBAAwB;AAC7D;AAEO,SAAS,yBACd,gBAA+D,EAC/D,qBAAuC,EACvC,YAAoB;IAEpB,MAAM,UACJ,iBAAiB,MAAM,GAAG,KAC1B,iBAAiB,IAAI,CAAC,CAAC,UAAY,QAAQ,UAAU,CAAC,MAAM,GAAG;IAEjE,IAAI,CAAC,SACH,YAAY,uBAAuB,cAAc;SAEjD,YAAY,uBAAuB,IAAI;IAGzC,OAAO;AACT;AAeO,SAAS,iBAAiB,QAAgB;IAC/C,MAAM,OAAO,CAAA,GAAA,oBAAQ,AAAD,EAAE,OAAO;IAC7B,IAAI,QAAQ,KAAK,OAAO,EAAE;QACxB,2CAA2C;QAC3C,KAAK,OAAO,CAAC,WAAW,GAAG,KAAK,OAAO,CAAC,WAAW,IAAI;YAAE,KAAK;QAAG;QAEjE,8BAA8B;QAC9B,KAAK,OAAO,CAAC,WAAW,CAAC,GAAG,GAAG;QAC/B,CAAA,GAAA,oBAAQ,AAAD,EAAE,OAAO,CAAC;QACjB,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;IACnD;AACF;AAmBO,SAAS,gBACd,SAAsB,EACtB,cAA2B,EAC3B,gBAA6B,EAC7B,cAAsB;IAEtB,MAAM,sBAAsB,IAAI,CAAA,GAAA,cAAO,AAAD,EAAE;IACxC,MAAM,kBAAkB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAExC,MAAM,UAAU,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAChC,IAAI,cAAc;IAElB,OAAO,IAAI,QAAgB,CAAC;QAC1B,MAAM,aAAa,CAAC;YAClB,8BAA8B;YAC9B,MAAM,aAAa;gBAAC;gBAAc;aAAY;YAC9C,MAAM,iBAAiB,SAAiB,OAAO;YAE/C,IACE,CAAC,WAAW,QAAQ,CAAC,KAAK,IAAI,KAC9B,CAAC,iBAAiB,IAAI,CAAC,KAAK,IAAI,GAChC;gBACA,MAAM,eAAe;gBACrB,YAAY,gBAAgB,cAAc;gBAC1C,yBAAyB;gBACxB,UAAU,UAAU,GAAwB,KAAK,GAAG;gBACrD;YACF;YAEA,IAAI,KAAK,IAAI,GAAG,gBAAgB;gBAC9B,MAAM,eAAe;gBACrB,YAAY,gBAAgB,cAAc;gBAC1C,yBAAyB;gBACxB,UAAU,UAAU,GAAwB,KAAK,GAAG;gBACrD;YACF;YAEA,oCAAoC;YACpC,gBAAgB,QAAQ,CAAC;gBAAE,SAAS;YAAO;YAE3C,kCAAkC;YAClC,eAAe,QAAQ,CAAC;gBAAE,SAAS;YAAO;YAC1C,iBAAiB,QAAQ,CAAC;gBAAE,SAAS;YAAO;YAE5C,MAAM,SAAS,IAAI;YAEnB,kEAAkE;YAClE,OAAO,MAAM,GAAG,CAAC;gBACf,gDAAgD;gBAChD,MAAM,SAAS,MAAM,MAAM,EAAE;gBAC7B,oBAAoB,QAAQ,CAAC;gBAE7B,qCAAqC;gBACrC,QAAQ,QAAQ,CAAC;oBAAE,SAAS;gBAAO;YACrC;YAEA,OAAO,aAAa,CAAC;YAErB,MAAM,WAAW,IAAI;YACrB,SAAS,MAAM,CAAC,mBAAmB;YAEnC,MAAM,kBAAkB,aAAa,OAAO,CAAC;YAC7C,IAAI,iBAAiB;gBACnB,MAAM,UAAU,KAAK,KAAK,CAAC;gBAC3B,SAAS,MAAM,CAAC,sBAAsB,QAAQ,EAAE,CAAC,QAAQ;YAC3D;YAEA,8BAA8B;YAC9B,MAAM,cAAc,CAAA,GAAA,oBAAS,AAAD,EAAE,IAAI,CAAqB,gBAAgB;gBACrE,MAAM;YACR;YAEA,YAAY,MAAM,CAAC,CAAC;gBAClB,IAAI,SAAS,MAAM,KAAK,WAAW;oBACjC,MAAM,WAAW,SAAS,GAAG,CAAC,WAAW,CAAC,GAAG;oBAE7C,uEAAuE;oBACvE,iBAAiB;oBAEjB,qDAAqD;oBACrD,oBAAoB,QAAQ,CAAC;oBAE7B,iCAAiC;oBACjC,aAAa,OAAO,CAAC,gBAAgB;oBAErC,iDAAiD;oBACjD,iBAAiB,QAAQ,CAAC;wBAAE,SAAS;oBAAO;oBAC5C,gBAAgB,QAAQ,CAAC;wBAAE,SAAS;oBAAO;oBAE3C,sCAAsC;oBACtC,QAAQ;gBACV,OAAO;oBACL,MAAM,eAAe;oBACrB,YAAY,gBAAgB,cAAc;oBAC1C,gBAAgB,QAAQ,CAAC;wBAAE,SAAS;oBAAO;oBAC3C,QAAQ,QAAQ,CAAC;wBAAE,SAAS;oBAAO;oBACnC,cAAc;oBACd,yBAAyB;oBACxB,UAAU,UAAU,GAAwB,KAAK,GAAG;gBACvD;YACF;YAEA,YAAY,OAAO,CAAC,CAAC;gBACnB,IAAI,eAAe;gBACnB,IAAI,MAAM,QAAQ,IAAI,MAAM,QAAQ,CAAC,IAAI,EACvC,eAAe,MAAM,QAAQ,CAAC,IAAI,CAAC,OAAO,IAAI;qBACzC,IAAI,MAAM,OAAO,EACtB,eAAe,MAAM,OAAO;gBAG9B,+CAA+C;gBAC/C,YAAY,gBAAgB,cAAc;gBAC1C,gBAAgB,QAAQ,CAAC;oBAAE,SAAS;gBAAO;gBAC3C,QAAQ,QAAQ,CAAC;oBAAE,SAAS;gBAAO;gBACnC,cAAc;gBACd,yBAAyB;gBACxB,UAAU,UAAU,GAAwB,KAAK,GAAG;YACvD;YAEA,oBAAoB;YACpB,YAAY,KAAK;QACnB;QAEA,wCAAwC;QACxC,UAAU,EAAE,CAAC,UAAU;YACrB,MAAM,OAAO,AAAC,UAAU,UAAU,GAAwB,KAAK,EAAE,CAAC,EAAE;YACpE,IAAI,MACF,WAAW;QAEf;QAEA,oCAAoC;QACpC,MAAM,kBAAkB,SAAS,IAAI;QACrC,gBAAgB,gBAAgB,CAAC,aAAa,CAAC;YAC7C,MAAM,cAAc;YACpB;YACA,IAAI,gBAAgB,GAClB,QAAQ,QAAQ,CAAC;gBAAE,SAAS;YAAO;QAEvC;QAEA,gBAAgB,gBAAgB,CAAC,aAAa;YAC5C;YACA,IAAI,eAAe,GAAG;gBACpB,QAAQ,QAAQ,CAAC;oBAAE,SAAS;gBAAO;gBACnC,cAAc;YAChB;QACF;QAEA,gBAAgB,gBAAgB,CAAC,YAAY,CAAC;YAC5C,MAAM,cAAc;QACtB;QAEA,gBAAgB,gBAAgB,CAAC,QAAQ,CAAC;YACxC,MAAM,cAAc;YAEpB,MAAM,QAAQ,MAAM,YAAY,EAAE;YAClC,IAAI,OAAO,QACT,WAAW,KAAK,CAAC,EAAE;YAGrB,QAAQ,QAAQ,CAAC;gBAAE,SAAS;YAAO;YACnC,cAAc;QAChB;IACF;AACF;AAYO,MAAM,oBAAoB,CAAC;IAChC,MAAM,UAAU,MAAM,OAAO,CAAC,OAAO,KAAK,kCAAkC;IAE5E,IAAI,QAAQ,MAAM,IAAI,GACpB,OAAO;SACF,IAAI,QAAQ,MAAM,IAAI,GAC3B,OAAO,CAAC,CAAC,EAAE,QAAQ,KAAK,CAAC,GAAG,GAAG,EAAE,EAAE,QAAQ,KAAK,CAAC,GAAG,CAAC;SAChD,IAAI,QAAQ,MAAM,IAAI,IAC3B,OAAO,CAAC,CAAC,EAAE,QAAQ,KAAK,CAAC,GAAG,GAAG,EAAE,EAAE,QAAQ,KAAK,CAAC,GAAG,GAAG,CAAC,EAAE,QAAQ,KAAK,CACrE,GACA,CAAC;SAEH,oDAAoD;IACpD,OAAO,CAAC,CAAC,EAAE,QAAQ,KAAK,CAAC,GAAG,GAAG,EAAE,EAAE,QAAQ,KAAK,CAAC,GAAG,GAAG,CAAC,EAAE,QAAQ,KAAK,CACrE,GACA,IACA,CAAC;AAEP;;;ACrUA,IAAI,IAAE,QAAQ;AAAe,IAAI,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,IAAE,CAAC;AAAE,IAAE,GAAE,IAAE,WAAU,IAAE,IAAI,GAAE,OAAO,cAAc,CAAC,GAAE,GAAE;IAAC,KAAI;IAAE,KAAI;IAAE,YAAW,CAAC;IAAE,cAAa,CAAC;AAAC;AAAG,MAAM,UAAU,EAAE,WAAW;IAAC,YAAY,CAAC,CAAC;QAAC,KAAK,CAAC;IAAE;IAAC,iBAAgB;QAAC,OAAO,IAAI,CAAC,OAAO;IAAA;IAAC,SAAQ;QAAC,OAAO,IAAI,CAAC,YAAY,CAAC;IAAM;IAAC,WAAU;QAAC,OAAO,IAAI,CAAC,YAAY,CAAC;IAAQ;IAAC,YAAW;QAAC,OAAO,IAAI,CAAC,YAAY,CAAC;IAAS;IAAC,aAAY;QAAC,OAAO,IAAI,CAAC,YAAY,CAAC;IAAU;IAAC,OAAO,CAAC,EAAC;QAAC,OAAO,IAAI,CAAC,EAAE,CAAC,QAAO,IAAG;YAAK,IAAI,CAAC,GAAG,CAAC,QAAO;QAAE;IAAC;IAAC,YAAY,CAAC,EAAC;QAAC,OAAO,IAAI,CAAC,EAAE,CAAC,SAAQ,IAAG;YAAK,IAAI,CAAC,GAAG,CAAC,SAAQ;QAAE;IAAC;IAAC,SAAS,CAAC,EAAC;QAAC,IAAG,YAAU,OAAO,GAAE,IAAI,CAAC,YAAY,CAAC,OAAM,IAAG,IAAI,CAAC,eAAe,CAAC,WAAU,IAAI,CAAC,eAAe,CAAC;aAAa;YAAC,IAAG,IAAI,CAAC,YAAY,CAAC,OAAM,EAAE,GAAG,GAAE,YAAU,OAAO,KAAG,EAAE,MAAM,IAAE,EAAE,MAAM,CAAC,MAAM,IAAE,EAAE,KAAK,IAAE,EAAE,KAAK,CAAC,MAAM,EAAC;gBAAC,MAAM,IAAE,EAAE,MAAM,CAAC,GAAG,CAAE,CAAA,IAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,EAAG,IAAI,CAAC;gBAAM,IAAI,CAAC,YAAY,CAAC,UAAS;YAAE,OAAM,IAAI,CAAC,eAAe,CAAC,WAAU,IAAI,CAAC,eAAe,CAAC;YAAS,EAAE,OAAO,IAAE,IAAI,CAAC,YAAY,CAAC,WAAU,EAAE,OAAO;QAAC;IAAC;AAAC;AAAC,IAAE,OAAO,OAAO,EAAC,IAAE,GAAE,OAAO,IAAI,CAAC,GAAG,OAAO,CAAE,SAAS,CAAC;IAAE,cAAY,KAAG,iBAAe,KAAG,EAAE,cAAc,CAAC,MAAI,OAAO,cAAc,CAAC,GAAE,GAAE;QAAC,YAAW,CAAC;QAAE,KAAI;YAAW,OAAO,CAAC,CAAC,EAAE;QAAA;IAAC;AAAE;;;;;ACG9oC,sDAAgB;AAIhB,mDAAgB;2DAUH;AASb,kEAAgB;AAWhB,sDAAgB;AAIhB,4DAAgB;AAOhB,yDAAgB;AAIhB,yDAAgB;AAjDT,SAAS,iBAAiB,KAAyB;IACxD,OAAO,UAAU,aAAa,MAAM,IAAI,OAAO;AACjD;AAEO,SAAS,cAAc,KAAa;IACzC,MAAM,aAAa;IACnB,OAAO,WAAW,IAAI,CAAC;AACzB;AAOO,MAAM,wBAAwB,CAAC;IACpC,IAAI,MAAM,IAAI,OAAO,IACnB,8CAA8C;IAC9C,OAAO;IAET,yCAAyC;IACzC,OAAO,cAAc;AACvB;AAEO,SAAS,6BAA6B,QAAgB;IAC3D,MAAM,eAAe,QAAQ,IAAI,CAAC;IAClC,MAAM,eAAe,QAAQ,IAAI,CAAC;IAClC,MAAM,WAAW,KAAK,IAAI,CAAC;IAC3B,MAAM,iBAAiB,yBAAyB,IAAI,CAAC;IACrD,MAAM,iBAAiB,SAAS,MAAM,IAAI;IAC1C,OACE,gBAAgB,gBAAgB,YAAY,kBAAkB;AAElE;AAEO,SAAS,iBAAiB,OAAgB;IAC/C,OAAO;AACT;AAEO,SAAS,uBACd,gBAAwB,EACxB,eAAuB;IAEvB,OAAO,qBAAqB;AAC9B;AAEO,SAAS,oBAAoB,KAAyB;IAC3D,OAAO,UAAU,aAAa,UAAU;AAC1C;AAEO,SAAS,oBAAoB,KAAa;IAC/C,MAAM,aAAa;IACnB,OAAO,WAAW,IAAI,CAAC;AACzB;;;ACvDA,IAAI,IAAE,QAAQ,qBAAe,IAAE,QAAQ;AAAQ,IAAI,GAAE,GAAE,GAAE,GAAE,IAAE,CAAC;AAAE,IAAE,GAAE,IAAE,YAAW,IAAE,IAAI,GAAE,OAAO,cAAc,CAAC,GAAE,GAAE;IAAC,KAAI;IAAE,KAAI;IAAE,YAAW,CAAC;IAAE,cAAa,CAAC;AAAC;AAAG,MAAM,IAAE,OAAO,MAAM;AAAC,MAAM,UAAU,EAAE,WAAW;IAAC,gBAAc,CAAC,EAAE;IAAA,UAAQ,EAAE,CAAC;IAAA,wBAAsB,CAAC,EAAE;IAAA,SAAO,EAAE;IAAA,aAAW,IAAI,IAAI;IAAA,YAAY,CAAC,CAAC;QAAC,KAAK,CAAC,IAAG,IAAI,CAAC,IAAI;IAAE;IAAC,OAAM;QAAC,IAAI,CAAC,qBAAqB,GAAC,WAAS,IAAI,CAAC,YAAY,CAAC,uBAAsB,IAAI,CAAC,aAAa,GAAC,EAAE,IAAI,CAAC,UAAU,IAAI,IAAI,EAAE,CAAC,WAAW,EAAC,IAAI,CAAC,OAAO,GAAC,MAAM,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,GAAG,CAAE,CAAA,IAAG,IAAM,EAAE,WAAW,CAAE,KAAK,IAAI,CAAC,KAAK,GAAC,IAAM,EAAE,WAAW,CAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,GAAE,IAAI,CAAC,IAAI,GAAC,IAAM,EAAE,WAAW,CAAE,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,EAAE,GAAE,IAAI,CAAC,KAAK,GAAC,IAAM,EAAE,WAAW,CAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,GAAE,IAAI,CAAC,MAAM,GAAC,IAAM,EAAE,WAAW,CAAE,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE,GAAE,SAAS,CAAC,EAAC,CAAC;YAAE,IAAG,CAAC,SAAS,WAAW,EAAC;YAAO,IAAG,KAAG,SAAS,oBAAoB,CAAC,QAAQ,MAAM,EAAC;YAAO,IAAI,GAAE;YAAE,IAAG,SAAS,WAAW,CAAC,MAAM,GAAC,GAAE;gBAAA,IAAI,IAAI,IAAE,GAAE,IAAE,SAAS,WAAW,CAAC,MAAM,EAAC,IAAE,GAAE,IAAI,IAAG,CAAC,SAAS,WAAW,CAAC,EAAE,CAAC,QAAQ,EAAC;oBAAC,IAAI,IAAE,SAAS,WAAW,CAAC,EAAE,CAAC,KAAK;oBAAC,IAAG,IAAE,OAAO,GAAE,aAAW,IAAE,OAAK,KAAG,OAAK,EAAE,OAAO,CAAC,aAAY,CAAA,IAAE,SAAS,WAAW,CAAC,EAAE,AAAD,IAAG,YAAU,KAAI,CAAA,OAAK,EAAE,SAAS,IAAE,OAAK,EAAE,SAAS,CAAC,OAAO,CAAC,aAAY,CAAA,IAAE,SAAS,WAAW,CAAC,EAAE,AAAD,CAAC,GAAG,KAAK,MAAI,GAAE;gBAAK;YAAA;YAAC,IAAG,KAAK,MAAI,GAAE;gBAAC,IAAI,IAAE,SAAS,aAAa,CAAC;gBAAS,IAAI,EAAE,IAAI,GAAC,YAAW,SAAS,oBAAoB,CAAC,OAAO,CAAC,EAAE,CAAC,WAAW,CAAC,IAAG,IAAE,GAAE,IAAE,SAAS,WAAW,CAAC,MAAM,EAAC,IAAI,SAAS,WAAW,CAAC,EAAE,CAAC,QAAQ,IAAG,CAAA,IAAE,SAAS,WAAW,CAAC,EAAE,AAAD;gBAAG,IAAE,OAAO,EAAE,KAAK;YAAA;YAAC,IAAG,aAAW,GAAE;gBAAC,IAAI,IAAE,GAAE,IAAE,EAAE,KAAK,CAAC,MAAM,EAAC,IAAE,GAAE,IAAI,IAAG,EAAE,KAAK,CAAC,EAAE,CAAC,YAAY,IAAE,EAAE,KAAK,CAAC,EAAE,CAAC,YAAY,CAAC,WAAW,MAAI,EAAE,WAAW,IAAG,OAAO,KAAK,CAAA,EAAE,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,OAAO,GAAC,CAAA;gBAAG,EAAE,OAAO,CAAC,GAAE;YAAE,OAAM,IAAG,aAAW,GAAE;gBAAC,IAAI,IAAE,EAAE,QAAQ,GAAC,EAAE,QAAQ,CAAC,MAAM,GAAC;gBAAE,IAAI,IAAE,GAAE,IAAE,GAAE,IAAI,IAAG,EAAE,QAAQ,CAAC,EAAE,CAAC,YAAY,IAAE,EAAE,QAAQ,CAAC,EAAE,CAAC,YAAY,CAAC,WAAW,MAAI,EAAE,WAAW,IAAG,OAAO,KAAK,CAAA,EAAE,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,OAAO,GAAC,CAAA;gBAAG,EAAE,UAAU,CAAC,IAAE,MAAI,IAAE,KAAI;YAAE;QAAC,EAAE,sBAAqB;QAA4B,MAAM,IAAE,IAAI;QAAC,OAAO,cAAc,CAAC,EAAE,aAAa,EAAC,SAAQ;YAAC,KAAI,SAAS,CAAC;gBAAE,EAAE,MAAM,GAAC,GAAE,EAAE,gBAAgB;YAAE;YAAE,KAAI;gBAAW,OAAO,EAAE,MAAM;YAAA;QAAC,IAAG,IAAI,CAAC,cAAc;IAAE;IAAC,iBAAgB;QAAC,OAAO,OAAO,CAAC,OAAO,CAAC,UAAU,OAAO,IAAG,OAAO,OAAO,CAAC,OAAO,CAAC,UAAU,MAAM,IAAG,OAAO,OAAO,CAAC,OAAO,CAAC,UAAU,KAAK;IAAE;IAAC,iBAAgB;QAAC,IAAI,CAAC,KAAK,CAAC,oBAAoB,CAAC,YAAY,OAAO,CAAE,CAAA,IAAG,EAAE,MAAM,KAAK,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,OAAO,CAAE,CAAA;YAAI,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,OAAO,CAAC,EAAE,UAAU;QAAG,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,IAAG,IAAI,CAAC,cAAc;IAAE;IAAC,iBAAgB;QAAC,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC;IAAA;IAAC,eAAc;QAAC,OAAM;eAAI,IAAI,CAAC,OAAO;SAAC;IAAA;IAAC,gBAAgB,CAAC,EAAC;QAAC,OAAO,IAAI,CAAC,OAAO,CAAC,EAAE;IAAA;IAAC,sBAAqB;QAAC,OAAO,IAAI,CAAC,MAAM;IAAA;IAAC,wBAAuB;QAAC,OAAO,IAAI,CAAC,aAAa,CAAC,QAAQ;IAAA;IAAC,SAAQ;QAAC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,KAAK;IAAE;IAAC,aAAY;QAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK;IAAE;IAAC,UAAU,CAAC,EAAC;QAAC,KAAG,KAAG,IAAE,IAAI,CAAC,OAAO,CAAC,MAAM,IAAG,CAAA,QAAQ,GAAG,CAAC,IAAG,EAAE,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,EAAE,EAAE,KAAK,EAAC;IAAE;IAAC,SAAS,CAAC,EAAC,IAAE,CAAC,CAAC,EAAC;QAAC,MAAM,IAAE,EAAE,KAAK,EAAC,IAAE,EAAE,QAAQ,EAAC,IAAE,AAAC,CAAA,GAAE,EAAE,eAAe,AAAD,EAAG;QAAO,EAAE,WAAW,CAAC,YAAW,KAAG,EAAE,WAAW,CAAC,IAAG,EAAE,WAAW,CAAC;QAAG,MAAM,IAAE,YAAU,OAAO,IAAE,KAAG,GAAE,IAAE,IAAI,CAAC,OAAO;QAAC,KAAG,KAAG,KAAG,EAAE,MAAM,GAAC,EAAE,MAAM,CAAC,GAAE,GAAE,KAAG,EAAE,IAAI,CAAC,IAAG,IAAI,CAAC,OAAO,GAAC;eAAI;SAAE,EAAC,IAAI,CAAC,cAAc;IAAE;IAAC,YAAY,CAAC,EAAC;QAAC,MAAM,IAAE;eAAI,IAAI,CAAC,OAAO;SAAC;QAAC,KAAG,KAAG,IAAE,EAAE,MAAM,IAAE,EAAE,MAAM,CAAC,GAAE,IAAG,IAAI,CAAC,OAAO,GAAC;eAAI;SAAE,EAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,OAAO,GAAE,IAAI,CAAC,cAAc;IAAE;IAAC,cAAa;QAAC,OAAO,IAAI,CAAC,IAAI;IAAA;IAAC,wBAAwB,CAAC,EAAC;QAAC,IAAG,CAAA,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,sBAAqB,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,sBAAqB,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,sBAAqB,IAAI,CAAC,YAAY,CAAC,sBAAqB,IAAI,CAAC,qBAAqB,GAAC,SAAO,QAAO,IAAI,CAAA,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,sBAAqB,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,sBAAqB,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,sBAAqB,IAAI,CAAC,YAAY,CAAC,sBAAqB,OAAM,GAAG,IAAI,CAAC,cAAc;IAAE;IAAC,cAAc,CAAC,EAAC;QAAC,MAAM,IAAE,AAAC,CAAA,GAAE,EAAE,EAAE,AAAD;QAAK,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,GAAE,IAAG;YAAK,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;QAAE;IAAC;IAAC,mBAAkB;QAAC,MAAM,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,IAAI,OAAO,CAAE,CAAA;YAAI,EAAE,IAAI,CAAC,MAAM,EAAC,IAAI,CAAC,aAAa,CAAC,QAAQ;QAAC;IAAG;IAAC,YAAW;QAAC,OAAO,IAAI,CAAC,aAAa;IAAA;AAAC;AAAC,IAAI,GAAE;AAAE,IAAE,OAAO,OAAO,EAAC,IAAE,GAAE,OAAO,IAAI,CAAC,GAAG,OAAO,CAAE,SAAS,CAAC;IAAE,cAAY,KAAG,iBAAe,KAAG,EAAE,cAAc,CAAC,MAAI,OAAO,cAAc,CAAC,GAAE,GAAE;QAAC,YAAW,CAAC;QAAE,KAAI;YAAW,OAAO,CAAC,CAAC,EAAE;QAAA;IAAC;AAAE;;;ACA7rI,uBAAuB;;;iEAMV;mDAoCA;qDAOA;yDAOA;2DAOA;AA7Db;AACA;AAGO,MAAM,8BAA8B;IACzC,MAAM,QAAQ;QACZ;YAAE,IAAI;YAAkB,OAAO;QAAE;QACjC;YAAE,IAAI;YAAkB,OAAO;QAAE;QACjC;YAAE,IAAI;YAAoB,OAAO;QAAE;QACnC;YAAE,IAAI;YAAmB,OAAO;QAAE;QAClC;YAAE,IAAI;YAAmB,OAAO;QAAE;KACnC;IAED,uCAAuC;IACvC,MAAM,gBAAgB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IACtC,MAAM,OAAO,CAAA,GAAA,oBAAQ,AAAD,EAAE,OAAO;IAE7B,IAAI,QAAQ,KAAK,OAAO,IAAI,KAAK,OAAO,CAAC,UAAU,EACjD,cAAc,OAAO,CAAC,KAAK,OAAO,CAAC,UAAU;SAE7C,cAAc,OAAO,CAAC;IAGxB,MAAM,OAAO,CAAC,CAAC;QACb,MAAM,gBAAgB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;QACnD,IAAI,cAAc,OAAO,4BAA4B;QAErD,cAAc,EAAE,CAAC,SAAS;YACxB,IAAI,aACF,cAAc;iBAGd,cAAc;QAGlB;IACF;AACF;AAGO,MAAM,gBAAgB,CAAC;IAC5B,MAAM,SAAS,UAAU;IACzB,MAAM,gBAAgB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE,CAAC,CAAC,EAAE,OAAO,CAAC;IAClD,cAAc,WAAW,CAAC;AAC5B;AAGO,MAAM,kBAAkB,CAAC;IAC9B,MAAM,SAAS,UAAU;IACzB,MAAM,gBAAgB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE,CAAC,CAAC,EAAE,OAAO,CAAC;IAClD,cAAc,cAAc,CAAC;AAC/B;AAGO,MAAM,sBAAsB,CAAC;IAClC,MAAM,SAAS,UAAU;IACzB,MAAM,OAAO,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE,CAAC,CAAC,EAAE,OAAO,CAAC;IACzC,KAAK,UAAU,GAAG,KAAK,IAAI,+DAA+D;AAC5F;AAGO,MAAM,wBAAwB,CAAC;IACpC,MAAM,SAAS,UAAU;IACzB,MAAM,OAAO,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE,CAAC,CAAC,EAAE,OAAO,CAAC;IACzC,KAAK,UAAU,GAAG,KAAK,IAAI,iEAAiE;AAC9F;AAEA,kDAAkD;AAClD,MAAM,YAAY,CAAC;IACjB,MAAM,UAAkC;QACtC,GAAG;QACH,GAAG;QACH,GAAG;QACH,GAAG;QACH,GAAG;IACL;IACA,OAAO,OAAO,CAAC,WAAW,IAAI,CAAC,WAAW,EAAE,WAAW,CAAC;AAC1D;;;;;iEC5Ea;sDAsCA;AAzCb;AACA;AAEO,MAAM,8BAA8B;IACzC,MAAM,uBAAuB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAC7C,MAAM,8BAA8B,IAAI,CAAA,GAAA,iBAAW,AAAD,EAChD;IAEF,MAAM,kBAAkB,SAAS,aAAa,CAAC;IAE/C,kBAAkB;IACjB,qBAAqB,UAAU,GAAyB,SAAS;IAElE,mCAAmC;IACnC,4BAA4B,UAAU,GAAG,KAAK;IAE9C,kDAAkD;IAClD,IAAI,iBACF,gBAAgB,YAAY,CAAC,cAAc;IAG7C,6BAA6B;IAC7B,qBAAqB,UAAU,GAAG,gBAAgB,CAAC,UAAU,CAAC;QAC5D,MAAM,cAAc;IACtB;IAEA,qBAAqB,UAAU,GAAG,gBAAgB,CAAC,SAAS,CAAC;QAC3D,MAAM,cAAc;IACtB;IAEA,iDAAiD;IACjD,MAAM,qBAAqB,CAAC;QAC1B,IAAI,MAAM,GAAG,KAAK,UAChB,MAAM,cAAc;IAExB;IAEA,SAAS,gBAAgB,CAAC,WAAW;AACvC;AAGO,MAAM,mBAAmB;IAC9B,IAAI;QACF,MAAM,EAAE,QAAQ,EAAE,UAAU,EAAE,GAAG,MAAM,CAAA,GAAA,8BAAoB,AAAD;QAE1D,IAAI,YACF;IAGF,iCAAiC;IACjC,4CAA4C;IAC9C,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,6CAA6C;IAC7D;AACF;;;ACtDA,sCAAsC;;;kEAgCzB;AA7Bb;AAIA;AACA;AACA;AAEA;AAKA,oCAA2C,qBAAqB;AAChE,oDAAoD,mBAAmB;AAEvE,kDAAkD;AAClD;AAEA,mCAAmC;AACnC,MAAM,eAAe;IACnB,MAAM,SAAS,IAAI,gBAAgB,OAAO,QAAQ,CAAC,MAAM;IACzD,MAAM,YAAY,OAAO,GAAG,CAAC;IAC7B,MAAM,aAAa,OAAO,GAAG,CAAC;IAC9B,MAAM,WAAW,OAAO,GAAG,CAAC,WAAW,6BAA6B;IACpE,OAAO;QAAE;QAAW;QAAY;IAAS;AAC3C;AAGO,MAAM,+BAA+B,OAAO;IACjD,MAAM,EAAE,SAAS,EAAE,UAAU,EAAE,QAAQ,EAAE,GAAG;IAC5C,CAAA,GAAA,8CAA2B,AAAD,KAAK,gCAAgC;IAE/D,MAAM,cAAc,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IACpC,MAAM,oBAAoB,KAAK,4DAA4D;IAE3F,mDAAmD;IACnD,IAAI,aAAa,cAAc,UAAU;QACvC,wBAAwB;QACxB,YAAY,QAAQ,CAAC;YAAE,SAAS;QAAO;QAEvC,IAAI;YACF,uDAAuD;YACvD,IAAI,UAAU;gBACZ,8CAA8C;gBAC9C,MAAM,qBAAqB,CAAA,GAAA,oBAAS,AAAD,EAAE,MAAM,CACzC,CAAC,eAAe,EAAE,SAAS,CAAC;gBAG9B,0CAA0C;gBAC1C,MAAM,IAAI,QAAc,CAAC,SAAS;oBAChC,mBAAmB,MAAM,CAAC;wBACxB,QAAQ,GAAG,CAAC,CAAC,aAAa,EAAE,SAAS,sBAAsB,CAAC;wBAE5D,qFAAqF;wBACrF,MAAM,SAAS,IAAI,gBAAgB,OAAO,QAAQ,CAAC,MAAM;wBACzD,OAAO,MAAM,CAAC;wBACd,MAAM,SAAS,CAAC,EAAE,OAAO,QAAQ,CAAC,QAAQ,CAAC,EACzC,OAAO,QAAQ,KAAK,CAAC,CAAC,EAAE,OAAO,QAAQ,GAAG,CAAC,GAAG,GAC/C,CAAC;wBACF,OAAO,OAAO,CAAC,YAAY,CAAC,CAAC,GAAG,SAAS,KAAK,EAAE;wBAEhD,WAAW,6CAA6C;oBAC1D;oBAEA,mBAAmB,OAAO,CAAC,CAAC;wBAC1B,QAAQ,KAAK,CAAC,CAAC,8BAA8B,EAAE,SAAS,CAAC,CAAC,EAAE;wBAC5D,sDAAsD;wBACtD,OAAO,QAAQ,8BAA8B;oBAC/C;oBAEA,8BAA8B;oBAC9B,mBAAmB,KAAK;gBAC1B;YACF;YAEA,8BAA8B;YAC9B,MAAM,CAAA,GAAA,kCAAqB,AAAD;YAE1B,IAAI,WAAW;gBACb,gDAAgD;gBAChD,MAAM,mBAAmB,SAAS,aAAa,CAC7C,CAAC,aAAa,EAAE,UAAU,EAAE,CAAC;gBAE/B,IAAI,kBAAkB;oBACnB,iBAAsC,OAAO,GAAG;oBACjD,iBAAiB,aAAa,CAAC,IAAI,MAAM;oBACzC,CAAA,GAAA,sCAAmB,AAAD,EAAE;oBACpB,CAAA,GAAA,gCAAa,AAAD,EAAE;oBAEd,wDAAwD;oBACxD,MAAM,CAAA,GAAA,oCAAsB,AAAD,EAAE;oBAE7B,IAAI,cAAc,eAAe,QAAQ;wBACvC,sEAAsE;wBACtE,CAAA,GAAA,uCAAqB,AAAD;wBACpB,CAAA,GAAA,sCAAmB,AAAD,EAAE;wBACpB,CAAA,GAAA,gCAAa,AAAD,EAAE;wBACd,MAAM,CAAA,GAAA,mCAAqB,AAAD,EAAE,MAAM;wBAClC,OAAO,SAAS,CAAC,IAAI,0CAA0C;oBACjE,OAAO,IAAI,YAAY;wBACrB,iDAAiD;wBACjD,MAAM,oBAAoB,SAAS,aAAa,CAC9C,CAAC,aAAa,EAAE,WAAW,EAAE,CAAC;wBAEhC,IAAI,mBAAmB;4BACpB,kBAAuC,OAAO,GAAG;4BAClD,kBAAkB,aAAa,CAAC,IAAI,MAAM;4BAC1C,CAAA,GAAA,sCAAmB,AAAD,EAAE;4BACpB,CAAA,GAAA,gCAAa,AAAD,EAAE;4BAEd,wDAAwD;4BACxD,MAAM,CAAA,GAAA,mCAAqB,AAAD,EAAE,YAAY;4BACxC,OAAO,SAAS,CAAC,IAAI,0CAA0C;wBACjE,OAAO;4BACL,QAAQ,KAAK,CAAC,CAAC,iBAAiB,EAAE,WAAW,UAAU,CAAC;4BACxD,OAAO,SAAS,CAAC,IAAI,2CAA2C;wBAClE;oBACF,OAAO;wBACL,CAAA,GAAA,uCAAqB,AAAD;wBACpB,OAAO,SAAS,CAAC,IAAI,2CAA2C;oBAClE;gBACF,OAAO;oBACL,QAAQ,KAAK,CAAC,CAAC,gBAAgB,EAAE,UAAU,UAAU,CAAC;oBACtD,OAAO,SAAS,CAAC,IAAI,0CAA0C;gBACjE;YACF,OACE,OAAO,SAAS,CAAC,IAAI,qDAAqD;QAE9E,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iDAAiD;YAC/D,OAAO,SAAS,CAAC,IAAI,mDAAmD;QAC1E,SAAU;YACR,6DAA6D;YAC7D,YAAY,WAAW,CAAC;YACxB,WACE,IAAM,YAAY,QAAQ,CAAC;oBAAE,SAAS;gBAAO,IAC7C;YAGF,kDAAkD;YAClD,CAAA,GAAA,sCAAuB,AAAD;QACxB;IACF;AACF","sources":["src/modules/registration/programRegistration.ts","src/modules/registration/programList.ts","src/api/programs.ts","src/modules/registration/state/selectedProgram.ts","src/modules/registration/workshopList.ts","src/api/workshops.ts","src/modules/registration/state/selectedWorkshop.ts","src/modules/registration/sessionsList.ts","src/api/sessions.ts","src/modules/registration/utils/updateUi.ts","src/api/students.ts","src/modules/registration/state/registrationState.ts","src/modules/registration/state/selectedSessions.ts","src/modules/registration/checkoutPreview.ts","src/modules/registration/components/alertBox.ts","src/modules/registration/components/primaryPaymentRadios.ts","src/modules/registration/components/lineItems.ts","src/modules/registration/components/updateTotalAmount.ts","src/modules/registration/utils/formatting.ts","src/modules/registration/components/updateSecondaryTotalAmount.ts","src/modules/registration/components/alertBoxEarly.ts","src/modules/registration/components/financialAid.ts","src/utils/formUtils.ts","node_modules/.pnpm/@xatom+image@1.0.0_@xatom+core@1.0.12/node_modules/@xatom/image/dist/index.js","src/utils/validationUtils.ts","node_modules/.pnpm/@xatom+slider@1.0.0_@xatom+core@1.0.12/node_modules/@xatom/slider/dist/index.js","src/modules/registration/components/sidebarIndicators.ts","src/modules/registration/components/dialogHandler.ts","src/modules/registration/components/urlParamNavigator.ts"],"sourcesContent":["// programRegistration.ts\nimport { initializeProgramList } from \"./programList\";\nimport { initializeWorkshopList } from \"./workshopList\";\nimport {\n  initializeSessionList,\n  validateAndSubmitSessions,\n} from \"./sessionsList\";\nimport { initializeCheckoutPreview } from \"./checkoutPreview\";\nimport { loadSelectedProgram } from \"./state/selectedProgram\";\nimport { loadSelectedWorkshop } from \"./state/selectedWorkshop\";\nimport { WFComponent } from \"@xatom/core\";\nimport { WFSlider } from \"@xatom/slider\";\nimport {\n  initializeSidebarIndicators,\n  setActiveStep,\n  markStepAsCompleted,\n  unmarkStepAsCompleted,\n  unsetActiveStep,\n} from \"./components/sidebarIndicators\";\nimport { resetSelectedWorkshop } from \"./state/selectedWorkshop\";\nimport { checkForStudents } from \"./components/dialogHandler\";\nimport { initializeStateFromUrlParams } from \"./components/urlParamNavigator\";\nimport { loadState } from \"./state/registrationState\"; // Import the registration state\nimport { apiClient } from \"../../api/apiConfig\"; // Import API client for submission\n\ninterface BeginCheckout {\n  checkout_url: string;\n  setup_url: string;\n}\n\nexport const programRegistration = async () => {\n  // Clear local storage\n  window.onload = function () {\n    // Clear the value of registrationState from local storage\n    localStorage.removeItem(\"registrationState\");\n  };\n  // Initialize the first step of the registration form (Program Selection)\n  initializeSidebarIndicators();\n  setActiveStep(1);\n  await initializeProgramList();\n  await checkForStudents();\n\n  // Initialize the slider component\n  const slider = new WFSlider(\".multi-step_form_slider\");\n  setupNavigationHandlers(slider);\n  await initializeStateFromUrlParams(slider);\n};\n\n// Setup event listeners for navigation buttons using the slider\nconst setupNavigationHandlers = (slider: WFSlider) => {\n  const submitStepOne = new WFComponent(\"#submitStepOne\");\n  const submitStepOneError = new WFComponent(\"#submitStepOneError\");\n  const stepOneRequestingAnimation = new WFComponent(\n    \"#stepOneRequestingAnimation\"\n  );\n\n  submitStepOne.on(\"click\", async (event) => {\n    event.preventDefault(); // Prevent default form submission behavior\n\n    // Validate the selected program\n    const selectedProgram = loadSelectedProgram();\n    if (!selectedProgram.id) {\n      submitStepOneError.setText(\"Please select a program before proceeding.\");\n      submitStepOneError.setStyle({ display: \"block\" });\n      return;\n    }\n\n    // Hide the error message if any\n    submitStepOneError.setStyle({ display: \"none\" });\n\n    // Show the loading animation\n    stepOneRequestingAnimation.setStyle({ display: \"block\" });\n\n    try {\n      // Proceed to the next step: Workshop Selection\n      await initializeWorkshopList(selectedProgram.id);\n\n      // Move to the next slide\n      slider.goNext();\n      markStepAsCompleted(1);\n      setActiveStep(2);\n      resetSelectedWorkshop();\n    } catch (error) {\n      console.error(\"Error loading workshops:\", error);\n    } finally {\n      // Hide the loading animation\n      stepOneRequestingAnimation.setStyle({ display: \"none\" });\n    }\n  });\n\n  const backStepTwo = new WFComponent(\"#backStepTwo\");\n  backStepTwo.on(\"click\", () => {\n    // Move back to the first step\n    slider.goPrevious();\n    unmarkStepAsCompleted(1);\n    unsetActiveStep(2);\n    resetSelectedWorkshop();\n  });\n\n  const submitStepTwo = new WFComponent(\"#submitStepTwo\");\n  const stepTwoRequestingAnimation = new WFComponent(\n    \"#stepTwoRequestingAnimation\"\n  );\n  const submitStepTwoError = new WFComponent(\"#submitStepTwoError\");\n\n  submitStepTwo.on(\"click\", async (event) => {\n    event.preventDefault();\n\n    // Get the selected workshop and program from the state\n    const selectedWorkshop = loadSelectedWorkshop();\n    const selectedProgram = loadSelectedProgram();\n\n    // Check if the workshop list is empty or not\n    const workshopListContainer = document.querySelector(\"#selectWorkshopList\");\n    const workshopItems =\n      workshopListContainer?.querySelectorAll(\"#cardSelectWorkshop\") || [];\n    const isWorkshopListEmpty = workshopItems.length === 0;\n\n    if (!isWorkshopListEmpty && !selectedWorkshop.id) {\n      submitStepTwoError.setText(\"Please select a workshop before proceeding.\");\n      submitStepTwoError.setStyle({ display: \"block\" });\n      return;\n    }\n\n    // Hide the error message if any\n    submitStepTwoError.setStyle({ display: \"none\" });\n\n    // Show the loading animation\n    stepTwoRequestingAnimation.setStyle({ display: \"block\" });\n\n    try {\n      // Initialize the session list\n      await initializeSessionList(selectedWorkshop.id, selectedProgram.id);\n\n      // Move to the next slide\n      slider.goNext();\n      markStepAsCompleted(2);\n      setActiveStep(3);\n    } catch (error) {\n      console.error(\"Error loading sessions:\", error);\n    } finally {\n      // Hide the loading animation\n      stepTwoRequestingAnimation.setStyle({ display: \"none\" });\n    }\n  });\n\n  const backStepThree = new WFComponent(\"#backStepThree\");\n  backStepThree.on(\"click\", () => {\n    // Move back to the workshop selection step\n    slider.goPrevious();\n    unmarkStepAsCompleted(2);\n    unsetActiveStep(3);\n  });\n\n  const submitStepThree = new WFComponent(\"#submitStepThree\");\n  const stepThreeRequestingAnimation = new WFComponent(\n    \"#stepThreeRequestingAnimation\"\n  );\n  const submitStepThreeError = new WFComponent(\"#submitStepThreeError\");\n\n  submitStepThree.on(\"click\", async (event) => {\n    event.preventDefault();\n\n    // Show the loading animation\n    stepThreeRequestingAnimation.setStyle({ display: \"block\" });\n\n    try {\n      // Validate and submit sessions\n      const success = await validateAndSubmitSessions();\n      if (success) {\n        // Initialize checkout preview and move to the next slide\n        await initializeCheckoutPreview();\n        slider.goNext();\n        markStepAsCompleted(3);\n        setActiveStep(4);\n      } else {\n        submitStepThreeError.setText(\n          \"Please select sessions and students before proceeding.\"\n        );\n        submitStepThreeError.setStyle({ display: \"block\" });\n      }\n    } catch (error) {\n      console.error(\"Error during session submission:\", error);\n      submitStepThreeError.setText(\"An error occurred. Please try again.\");\n      submitStepThreeError.setStyle({ display: \"block\" });\n    } finally {\n      // Hide the loading animation\n      stepThreeRequestingAnimation.setStyle({ display: \"none\" });\n    }\n  });\n\n  const backStepFour = new WFComponent(\"#backStepFour\");\n  backStepFour.on(\"click\", () => {\n    // Move back to the session selection step\n    slider.goPrevious();\n    unmarkStepAsCompleted(3);\n    unsetActiveStep(4);\n  });\n\n  const submitStepFour = new WFComponent(\"#submitStepFour\");\n  const stepFourRequestingAnimation = new WFComponent(\n    \"#stepFourRequestingAnimation\"\n  );\n  const submitStepFourError = new WFComponent(\"#submitStepFourError\");\n\n  submitStepFour.on(\"click\", async (event) => {\n    event.preventDefault();\n\n    // Show the loading animation\n    stepFourRequestingAnimation.setStyle({ display: \"block\" });\n\n    try {\n      // Load the current registration state\n      const registrationState = loadState();\n\n      // Submit the registration state to the /session_registrations/begin_checkout endpoint\n      const response = await apiClient\n        .post<BeginCheckout>(\"/session_registrations/begin_checkout\", {\n          data: registrationState,\n        })\n        .fetch();\n\n      // Handle the response (e.g., redirect to the payment page or show a success message)\n      console.log(\"Registration checkout response:\", response);\n\n      // Mark Step 4 as completed\n      markStepAsCompleted(4);\n\n      // Redirect based on the response: prioritize `setup_url` if it exists, otherwise use `checkout_url`\n      if (response.setup_url) {\n        window.location.href = response.setup_url;\n      } else {\n        window.location.href = response.checkout_url;\n      }\n    } catch (error) {\n      console.error(\"Error during registration checkout:\", error);\n      submitStepFourError.setText(\n        \"An error occurred during registration checkout. Please try again.\"\n      );\n      submitStepFourError.setStyle({ display: \"block\" });\n    } finally {\n      // Hide the loading animation\n      stepFourRequestingAnimation.setStyle({ display: \"none\" });\n    }\n  });\n};\n","// Assuming the code is from a file like src/registration/initializeProgramList.ts\n\nimport { fetchPrograms, Program } from \"../../api/programs\";\nimport { saveSelectedProgram } from \"./state/selectedProgram\";\nimport { WFDynamicList, WFComponent } from \"@xatom/core\";\n\nlet initialTemplateState: HTMLElement | null = null;\n\nexport const initializeProgramList = async () => {\n  const containerSelector = \"#selectProgramList\";\n  const container = document.querySelector(containerSelector);\n  if (!container) {\n    console.error(\"Program list container not found\");\n    return;\n  }\n\n  // Save the initial state of the container template\n  if (!initialTemplateState) {\n    initialTemplateState = container.cloneNode(true) as HTMLElement;\n  } else {\n    // Reset container to the initial state\n    container.innerHTML = \"\";\n    container.appendChild(initialTemplateState.cloneNode(true));\n  }\n\n  const list = new WFDynamicList<Program>(containerSelector, {\n    rowSelector: \"#cardSelectProgram\",\n    loaderSelector: \"#programListLoading\",\n    emptySelector: \"#programListEmpty\",\n  });\n\n  list.loaderRenderer((loaderElement) => {\n    loaderElement.setStyle({ display: \"flex\" });\n    return loaderElement;\n  });\n\n  list.emptyRenderer((emptyElement) => {\n    emptyElement.setStyle({ display: \"flex\" });\n    return emptyElement;\n  });\n\n  try {\n    const programs = await fetchPrograms();\n    list.rowRenderer(({ rowData, rowElement, index }) => {\n      const programCard = new WFComponent(rowElement);\n      const programTitle = programCard.getChildAsComponent(\"#cardProgramTitle\");\n      const programDescription = programCard.getChildAsComponent(\n        \"#cardProgramDescription\"\n      );\n      const programAges = programCard.getChildAsComponent(\"#cardProgramAges\");\n      const programImage =\n        programCard.getChildAsComponent<HTMLImageElement>(\"#cardProgramImage\");\n      const programInput =\n        programCard.getChildAsComponent<HTMLInputElement>(\".input_card_input\");\n\n      // Generate a unique ID for each radio button\n      const inputId = `programInput-${index}`;\n      programInput.setAttribute(\"id\", inputId);\n      programInput.setAttribute(\"name\", \"program\"); // Group radio buttons\n      programInput.setAttribute(\"value\", rowData.id);\n\n      // Associate the label with the radio button\n      const programLabel = programCard.getChildAsComponent(\"label\");\n      programLabel.setAttribute(\"for\", inputId);\n\n      // Updated property access to match the response object\n      programTitle.setText(rowData.fieldData[\"name\"]);\n      programDescription.setText(rowData.fieldData[\"short-description\"]);\n      programAges.setText(rowData.fieldData[\"age-range\"]);\n      programImage.setAttribute(\"src\", rowData.fieldData[\"main-image\"].url);\n\n      // Get the #registrationTrue element inside the row\n      const registrationTrueElement =\n        programCard.getChildAsComponent(\"#registrationTrue\");\n\n      // Set display and input disabled state based on the 'registered' property\n      if (rowData.registered === true) {\n        registrationTrueElement.setStyle({ display: \"flex\" });\n        programInput.setAttribute(\"disabled\", \"true\");\n      } else {\n        registrationTrueElement.setStyle({ display: \"none\" });\n        programInput.removeAttribute(\"disabled\");\n      }\n\n      programInput.on(\"change\", () => {\n        saveSelectedProgram({\n          id: rowData.id,\n          name: rowData.fieldData[\"name\"],\n          imageUrl: rowData.fieldData[\"main-image\"].url,\n          ageRange: rowData.fieldData[\"age-range\"],\n        });\n      });\n\n      rowElement.setStyle({ display: \"flex\" });\n      return rowElement;\n    });\n\n    list.setData(programs);\n  } catch (error) {\n    console.error(\"Error loading programs:\", error);\n    list.setData([]);\n  }\n};\n","// api/programs.ts\nimport { apiClient } from \"./apiConfig\";\n\nexport interface Program {\n  id: string;\n  fieldData: {\n    name: string;\n    shortDescription: string;\n    ageRange: string;\n    mainImage: {\n      url: string;\n      alt: string | null;\n    };\n  };\n  registered?: boolean;\n}\n\ninterface ProgramApiResponse {\n  programs: Program[];\n}\n\n// Function to fetch programs from the server\nexport const fetchPrograms = async (): Promise<Program[]> => {\n  try {\n    const response = await apiClient\n      .get<ProgramApiResponse>(\"/registration/programs\")\n      .fetch();\n    return response.programs;\n  } catch (error) {\n    console.error(\"Error fetching programs:\", error);\n    throw error;\n  }\n};\n\n// Function to fetch program details by ID\nexport const fetchProgramById = async (\n  programId: string\n): Promise<Program | null> => {\n  try {\n    const programs = await fetchPrograms();\n    return programs.find((program) => program.id === programId) || null;\n  } catch (error) {\n    console.error(`Error fetching program with ID ${programId}:`, error);\n    return null;\n  }\n};\n","// state/selectedProgram.ts\n\nexport const loadSelectedProgram = () => {\n  const state = JSON.parse(localStorage.getItem(\"registrationState\") || \"{}\");\n  return {\n    id: state.selectedProgramId || null,\n    name: state.selectedProgramName || null,\n    imageUrl: state.selectedProgramImageUrl || null,\n    ageRange: state.selectedProgramAgeRange || null,\n  };\n};\n\nexport const saveSelectedProgram = (program: {\n  id: string;\n  name: string;\n  imageUrl: string;\n  ageRange: string;\n}) => {\n  const state = JSON.parse(localStorage.getItem(\"registrationState\") || \"{}\");\n  state.selectedProgramId = program.id;\n  state.selectedProgramName = program.name;\n  state.selectedProgramImageUrl = program.imageUrl;\n  state.selectedProgramAgeRange = program.ageRange;\n\n  console.log(\"Saving selected program to state:\", state); // Debug log\n\n  localStorage.setItem(\"registrationState\", JSON.stringify(state));\n};\n","// Assuming the code is from a file like src/registration/initializeWorkshopList.ts\n\nimport { fetchWorkshops, Workshop } from \"../../api/workshops\";\nimport { saveSelectedWorkshop } from \"./state/selectedWorkshop\";\nimport { WFDynamicList, WFComponent } from \"@xatom/core\";\n\nlet initialTemplateState: HTMLElement | null = null;\n\nexport const initializeWorkshopList = async (programId: string) => {\n  const containerSelector = \"#selectWorkshopList\";\n  const container = document.querySelector(containerSelector);\n  if (!container) {\n    console.error(\"Workshop list container not found\");\n    return;\n  }\n\n  if (!initialTemplateState) {\n    initialTemplateState = container.cloneNode(true) as HTMLElement;\n  } else {\n    container.innerHTML = \"\";\n    container.appendChild(initialTemplateState.cloneNode(true));\n  }\n\n  const list = new WFDynamicList<Workshop>(containerSelector, {\n    rowSelector: \"#cardSelectWorkshop\",\n    loaderSelector: \"#workshopListLoading\",\n    emptySelector: \"#workshopListEmpty\",\n  });\n\n  list.loaderRenderer((loaderElement) => {\n    loaderElement.setStyle({\n      display: \"flex\",\n    });\n    return loaderElement;\n  });\n\n  list.emptyRenderer((emptyElement) => {\n    emptyElement.setStyle({\n      display: \"flex\",\n    });\n    return emptyElement;\n  });\n\n  try {\n    const workshops = await fetchWorkshops(programId);\n\n    // Ensure workshops is always an array and sort it alphabetically by name\n    const workshopArray = (Array.isArray(workshops) ? workshops : []).sort(\n      (a, b) => a.fieldData.name.localeCompare(b.fieldData.name)\n    );\n\n    list.rowRenderer(({ rowData, rowElement, index }) => {\n      const workshopCard = new WFComponent(rowElement);\n      const workshopTitle =\n        workshopCard.getChildAsComponent(\"#cardWorkshopTitle\");\n      const workshopDescription = workshopCard.getChildAsComponent(\n        \"#cardWorkshopDescription\"\n      );\n      const workshopAges =\n        workshopCard.getChildAsComponent(\"#cardWorkshopAges\");\n      const workshopImage =\n        workshopCard.getChildAsComponent<HTMLImageElement>(\n          \"#cardWorkshopImage\"\n        );\n      const workshopInput =\n        workshopCard.getChildAsComponent<HTMLInputElement>(\".input_card_input\");\n\n      const inputId = `workshopInput-${index}`;\n      workshopInput.setAttribute(\"id\", inputId);\n      workshopInput.setAttribute(\"name\", \"workshop\");\n      workshopInput.setAttribute(\"value\", rowData.id);\n\n      const workshopLabel = workshopCard.getChildAsComponent(\"label\");\n      workshopLabel.setAttribute(\"for\", inputId);\n\n      // Updated property access to match the response object\n      workshopTitle.setText(rowData.fieldData[\"name\"]);\n      workshopDescription.setText(rowData.fieldData[\"short-description\"]);\n      workshopAges.setText(rowData.fieldData[\"age-range\"]);\n      workshopImage.setAttribute(\"src\", rowData.fieldData[\"main-image\"].url);\n\n      // Get the #registrationTrue element inside the row\n      const registrationTrueElement =\n        workshopCard.getChildAsComponent(\"#registrationTrue\");\n\n      // Set display and input disabled state based on the 'registered' property\n      if (rowData.registered === true) {\n        registrationTrueElement.setStyle({ display: \"flex\" });\n        workshopInput.setAttribute(\"disabled\", \"true\");\n      } else {\n        registrationTrueElement.setStyle({ display: \"none\" });\n        workshopInput.removeAttribute(\"disabled\");\n      }\n\n      workshopInput.on(\"change\", () => {\n        saveSelectedWorkshop({\n          id: rowData.id,\n          name: rowData.fieldData[\"name\"],\n          imageUrl: rowData.fieldData[\"main-image\"].url,\n          ageRange: rowData.fieldData[\"age-range\"],\n        });\n      });\n\n      rowElement.setStyle({ display: \"flex\" });\n      return rowElement;\n    });\n\n    list.setData(workshopArray);\n  } catch (error) {\n    console.error(\"Error loading workshops:\", error);\n    list.setData([]); // Handle case where no workshops are available or an error occurred\n  }\n};\n","// api/workshops.ts\nimport { apiClient } from \"./apiConfig\";\n\nexport interface Workshop {\n  id: string;\n  fieldData: {\n    name: string;\n    shortDescription: string;\n    ageRange: string;\n    mainImage: {\n      url: string;\n      alt: string | null;\n    };\n  };\n  registered?: boolean;\n}\n\ninterface WorkshopApiResponse {\n  workshops: Workshop[];\n}\n\n// Function to fetch workshops for a given program from the server\nexport const fetchWorkshops = async (\n  programId: string\n): Promise<Workshop[]> => {\n  try {\n    const response = await apiClient\n      .get<WorkshopApiResponse>(\n        `/registration/workshops?program_id=${programId}`\n      )\n      .fetch();\n    return response.workshops;\n  } catch (error) {\n    console.error(\"Error fetching workshops:\", error);\n    throw error;\n  }\n};\n\n// Function to fetch workshop details by ID\nexport const fetchWorkshopById = async (\n  workshopId: string\n): Promise<Workshop | null> => {\n  try {\n    // Assuming there's a similar endpoint to fetch a single workshop by ID\n    const response = await apiClient\n      .get<{ workshop: Workshop }>(`/registration/workshops/${workshopId}`)\n      .fetch();\n    return response.workshop || null;\n  } catch (error) {\n    console.error(`Error fetching workshop with ID ${workshopId}:`, error);\n    return null;\n  }\n};\n","// state/selectedWorkshop.ts\n\nexport const loadSelectedWorkshop = () => {\n  const state = JSON.parse(localStorage.getItem(\"registrationState\") || \"{}\");\n  return {\n    id: state.selectedWorkshopId || null,\n    name: state.selectedWorkshopName || null,\n    imageUrl: state.selectedWorkshopImageUrl || null,\n    ageRange: state.selectedWorkshopAgeRange || null,\n  };\n};\n\nexport const saveSelectedWorkshop = (workshop: {\n  id: string;\n  name: string;\n  imageUrl: string;\n  ageRange: string;\n}) => {\n  const state = JSON.parse(localStorage.getItem(\"registrationState\") || \"{}\");\n  state.selectedWorkshopId = workshop.id;\n  state.selectedWorkshopName = workshop.name;\n  state.selectedWorkshopImageUrl = workshop.imageUrl;\n  state.selectedWorkshopAgeRange = workshop.ageRange;\n\n  console.log(\"Saving selected workshop to state:\", state); // Debug log\n\n  localStorage.setItem(\"registrationState\", JSON.stringify(state));\n};\n\nexport const resetSelectedWorkshop = () => {\n  const state = JSON.parse(localStorage.getItem(\"registrationState\") || \"{}\");\n  delete state.selectedWorkshopId;\n  delete state.selectedWorkshopName;\n  delete state.selectedWorkshopImageUrl;\n  delete state.selectedWorkshopAgeRange;\n\n  console.log(\"Resetting selected workshop in state:\", state); // Debug log\n\n  localStorage.setItem(\"registrationState\", JSON.stringify(state));\n};\n","// components/sessionsList.ts\n\nimport { fetchSessions, Session } from \"../../api/sessions\";\nimport { updateSelectedItemUI } from \"./utils/updateUi\";\nimport { fetchStudentProfiles, StudentProfile } from \"../../api/students\";\nimport {\n  saveSelectedSession,\n  resetSelectedSessions,\n  updateSelectedSessions,\n} from \"./state/selectedSessions\";\nimport {\n  logPricingOption,\n  loadState,\n  saveState,\n} from \"./state/registrationState\";\nimport { loadSelectedProgram } from \"./state/selectedProgram\";\nimport { loadSelectedWorkshop } from \"./state/selectedWorkshop\";\nimport { WFDynamicList, WFComponent } from \"@xatom/core\";\n\nlet initialTemplateState: HTMLElement | null = null;\nlet sessionData: Session[] = [];\n\nexport const initializeSessionList = async (\n  workshopId: string,\n  programId: string\n) => {\n  const containerSelector = \"#selectSessionList\";\n  const container = document.querySelector(containerSelector);\n  if (!container) {\n    console.error(\"Session list container not found\");\n    return;\n  }\n\n  resetSelectedSessions();\n\n  if (!initialTemplateState) {\n    initialTemplateState = container.cloneNode(true) as HTMLElement;\n  } else {\n    container.innerHTML = \"\";\n    container.appendChild(initialTemplateState.cloneNode(true));\n  }\n\n  const list = new WFDynamicList<Session>(containerSelector, {\n    rowSelector: \"#sessionSelectWrap\",\n    loaderSelector: \"#sessionListLoading\",\n    emptySelector: \"#sessionListEmpty\",\n  });\n\n  list.loaderRenderer((loaderElement) => {\n    loaderElement.setStyle({ display: \"flex\" });\n    return loaderElement;\n  });\n\n  list.emptyRenderer((emptyElement) => {\n    emptyElement.setStyle({ display: \"flex\" });\n    return emptyElement;\n  });\n\n  // Correct usage with destructuring to get 'students'\n  let studentProfiles: StudentProfile[] = [];\n  try {\n    const { students } = await fetchStudentProfiles(); // Destructure to get 'students'\n    studentProfiles = students; // Assign the students array to studentProfiles\n  } catch (error) {\n    console.error(\"Error fetching student profiles:\", error);\n  }\n\n  list.rowRenderer(({ rowData, rowElement, index }) => {\n    const sessionCard = new WFComponent(rowElement);\n    const sessionWeekday = sessionCard.getChildAsComponent(\n      \"#cardSessionWeekday\"\n    );\n    const sessionTime = sessionCard.getChildAsComponent(\"#cardSessionTime\");\n    const sessionLocation = sessionCard.getChildAsComponent(\n      \"#cardSessionLocation\"\n    );\n    const sessionPrice = sessionCard.getChildAsComponent(\"#cardSessionPrice\");\n    const sessionInput =\n      sessionCard.getChildAsComponent<HTMLInputElement>(\"#cardSessionInput\");\n    const studentsList = sessionCard.getChildAsComponent(\"#selectStudentsList\");\n    const hiddenFieldWrap = sessionCard.getChildAsComponent(\n      \".hidden_form_field-wrap\"\n    );\n\n    const inputId = `sessionInput-${index}`;\n    sessionInput.setAttribute(\"id\", inputId);\n    sessionInput.setAttribute(\"value\", rowData.id);\n\n    const label = sessionCard.getChildAsComponent(\"label\");\n    label.setAttribute(\"for\", inputId);\n\n    sessionWeekday.setText(rowData.fieldData.weekday);\n    sessionTime.setText(rowData.fieldData[\"time-block\"]);\n    sessionLocation.setText(rowData.fieldData.location);\n\n    const initialPrice = updateSessionPrice(sessionPrice, rowData);\n\n    studentsList.removeAllChildren();\n    studentProfiles.forEach((student) => {\n      const studentId = student.id;\n      const uniqueStudentId = `${inputId}-student-${studentId}`;\n      const studentPill = new WFComponent(document.createElement(\"label\"));\n      studentPill.addCssClass(\"pill-item\");\n      studentPill.setAttribute(\"for\", uniqueStudentId);\n\n      const studentCheckbox = new WFComponent(document.createElement(\"input\"));\n      studentCheckbox.setAttribute(\"type\", \"checkbox\");\n      studentCheckbox.addCssClass(\"pill-checkbox\");\n      studentCheckbox.setAttribute(\"id\", uniqueStudentId);\n      studentCheckbox.setAttribute(\"name\", \"selectedStudents\");\n      studentCheckbox.setAttribute(\"value\", studentId.toString());\n\n      const studentName = new WFComponent(document.createElement(\"span\"));\n      studentName.addCssClass(\"pill-label\");\n      studentName.addCssClass(\"has-icon\");\n      studentName.setText(`${student.first_name} ${student.last_name}`);\n\n      const pillIcon = new WFComponent(document.createElement(\"div\"));\n      pillIcon.addCssClass(\"pill-icon\");\n      pillIcon.addCssClass(\"w-embed\");\n      pillIcon.setHTML(\n        `<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"></path><path d=\"M9 16.2l-3.5-3.5c-.39-.39-1.01-.39-1.4 0-.39.39-.39 1.01 0 1.4l4.19 4.19c.39.39 1.02.39 1.41 0L20.3 7.7c.39-.39.39-1.01 0-1.4-.39-.39-1.01-.39-1.4 0L9 16.2z\"></path></svg>`\n      );\n\n      studentPill.appendChild(studentCheckbox);\n      studentPill.appendChild(studentName);\n      studentPill.appendChild(pillIcon);\n      studentsList.appendChild(studentPill);\n\n      studentCheckbox.on(\"change\", () => {\n        const studentCheckboxElement =\n          studentCheckbox.getElement() as HTMLInputElement;\n        const studentIdInt = parseInt(studentCheckboxElement.value);\n\n        const sessionChangedEvent = new CustomEvent(\"sessionChanged\", {\n          detail: {\n            sessionId: rowData.id,\n            studentId: studentIdInt,\n            checked: studentCheckboxElement.checked,\n            initialPriceSelection: initialPrice,\n          },\n        });\n        document.dispatchEvent(sessionChangedEvent);\n\n        updateSelectedSessions(\n          rowData.id,\n          studentIdInt,\n          studentCheckboxElement.checked\n        );\n      });\n    });\n\n    sessionInput.on(\"change\", () => {\n      const inputElement = sessionInput.getElement() as HTMLInputElement;\n      if (inputElement.checked) {\n        hiddenFieldWrap.setStyle({ display: \"flex\" });\n      } else {\n        hiddenFieldWrap.setStyle({ display: \"none\" });\n        const studentCheckboxes =\n          studentsList.getChildAsComponents<HTMLInputElement>(\".pill-checkbox\");\n        studentCheckboxes.forEach((checkbox) => {\n          const studentCheckboxElement =\n            checkbox.getElement() as HTMLInputElement;\n          studentCheckboxElement.checked = false;\n          const studentIdInt = parseInt(studentCheckboxElement.value);\n\n          const sessionChangedEvent = new CustomEvent(\"sessionChanged\", {\n            detail: {\n              sessionId: rowData.id,\n              studentId: studentIdInt,\n              checked: false,\n              initialPriceSelection: initialPrice,\n            },\n          });\n          document.dispatchEvent(sessionChangedEvent);\n\n          updateSelectedSessions(rowData.id, studentIdInt, false);\n        });\n      }\n    });\n\n    rowElement.setStyle({ display: \"flex\" });\n    return rowElement;\n  });\n\n  try {\n    list.changeLoadingStatus(true);\n    const sessions = await fetchSessions(workshopId, programId);\n\n    if (Array.isArray(sessions) && sessions.length > 0) {\n      sessionData = sessions;\n      list.setData(sessions);\n\n      // Set default pricing option to 'Annual' if not already set\n      let registrationState = loadState();\n      if (!registrationState.selectedPricingOption) {\n        registrationState.selectedPricingOption = \"Annual\";\n        saveState(registrationState);\n      }\n      updateAllSessionPrices();\n    } else {\n      list.setData([]);\n    }\n\n    list.changeLoadingStatus(false);\n  } catch (error) {\n    console.error(\"Error loading sessions:\", error);\n    list.setData([]);\n    list.changeLoadingStatus(false);\n  }\n\n  document\n    .querySelector(\"#updatePriceAnnual\")\n    ?.addEventListener(\"change\", () => {\n      logPricingOption(\"Annual\");\n      updateAllSessionPrices();\n    });\n\n  document\n    .querySelector(\"#updatePriceMonthly\")\n    ?.addEventListener(\"change\", () => {\n      logPricingOption(\"Monthly\");\n      updateAllSessionPrices();\n    });\n\n  document\n    .querySelector(\"#updatePriceSemester\")\n    ?.addEventListener(\"change\", () => {\n      logPricingOption(\"Pay-Per-Semester\");\n      updateAllSessionPrices();\n    });\n\n  document\n    .querySelector(\"#updatePriceDeposit\")\n    ?.addEventListener(\"change\", () => {\n      logPricingOption(\"Deposit\");\n      updateAllSessionPrices();\n    });\n\n  initializeFilterSelect();\n  updateSelectedItemUI(); // Ensure selected item UI is updated initially\n};\n\n// Update the selected item UI\n/*const updateSelectedItemUI = () => {\n  const selectedProgram = loadSelectedProgram();\n  const selectedWorkshop = loadSelectedWorkshop();\n\n  const selectedProgramTitle = new WFComponent(\"#selectedProgramTitle\");\n  const selectedWorkshopTitle = new WFComponent(\"#selectedWorkshopTitle\");\n  const selectedAgeRange = new WFComponent(\"#selectedAgeRange\");\n  const selectedImage = new WFComponent(\"#selectedImage\");\n\n  if (selectedProgram.id) {\n    selectedProgramTitle.setText(selectedProgram.name);\n\n    if (selectedWorkshop.id) {\n      selectedWorkshopTitle.setText(selectedWorkshop.name);\n      selectedWorkshopTitle.setStyle({ display: \"block\" });\n      selectedAgeRange.setText(selectedWorkshop.ageRange); // Use workshop age range\n\n      // Use the workshop image if available, otherwise use the program image\n      const imageUrl = selectedWorkshop.imageUrl || selectedProgram.imageUrl;\n      selectedImage.setAttribute(\"src\", imageUrl);\n    } else {\n      selectedWorkshopTitle.setStyle({ display: \"none\" });\n      selectedAgeRange.setText(selectedProgram.ageRange); // Use program age range if no workshop selected\n      selectedImage.setAttribute(\"src\", selectedProgram.imageUrl);\n    }\n  }\n};*/\n\nupdateSelectedItemUI();\n\nconst updateSessionPrice = (sessionPrice: WFComponent, rowData: Session) => {\n  const registrationState = JSON.parse(\n    localStorage.getItem(\"registrationState\") || \"{}\"\n  );\n  const selectedPricingOption =\n    registrationState.selectedPricingOption || \"Annual\";\n  let price: string;\n\n  switch (selectedPricingOption) {\n    case \"Annual\":\n      price = rowData.fieldData[\"displayed-annual-price\"];\n      break;\n    case \"Monthly\":\n      price = rowData.fieldData[\"displayed-monthly-price\"];\n      break;\n    case \"Pay-Per-Semester\":\n      price = rowData.fieldData[\"displayed-one-off-price\"];\n      break;\n    case \"Deposit\":\n      price = rowData.fieldData[\"displayed-deposit-price\"];\n      break;\n    default:\n      price = \"\"; // Or any default value you choose\n  }\n\n  sessionPrice.setText(price);\n  return price;\n};\n\nconst updateAllSessionPrices = () => {\n  const sessionCards = document.querySelectorAll(\"#sessionSelectWrap\");\n  sessionCards.forEach((sessionCard) => {\n    const sessionPriceElement = sessionCard.querySelector(\n      \"#cardSessionPrice\"\n    ) as HTMLElement;\n    const sessionPrice = new WFComponent(sessionPriceElement);\n    const sessionInputElement = sessionCard.querySelector(\n      \".session-input\"\n    ) as HTMLInputElement;\n    const sessionId = sessionInputElement.value;\n    const rowData = sessionData.find((session) => session.id === sessionId);\n    if (sessionPrice && rowData) {\n      updateSessionPrice(sessionPrice, rowData);\n    }\n  });\n};\n\nconst initializeFilterSelect = () => {\n  const selectElement = document.getElementById(\"singleSelectInput\");\n\n  if (selectElement) {\n    selectElement.addEventListener(\"change\", (event) => {\n      const selectedValue = (event.target as HTMLSelectElement).value;\n      filterSessionsByLocation(selectedValue);\n    });\n  }\n};\n\nconst filterSessionsByLocation = (location: string) => {\n  const sessionCards = document.querySelectorAll(\"#sessionSelectWrap\");\n\n  sessionCards.forEach((sessionCard) => {\n    const sessionLocationElement = sessionCard.querySelector(\n      \"#cardSessionLocation\"\n    ) as HTMLElement;\n    const sessionLocation = sessionLocationElement?.textContent || \"\";\n\n    if (location === \"N/A\" || sessionLocation === location) {\n      (sessionCard as HTMLElement).style.display = \"flex\";\n    } else {\n      (sessionCard as HTMLElement).style.display = \"none\";\n    }\n  });\n};\n\n// Function to validate and submit session selections\nexport const validateAndSubmitSessions = (): boolean => {\n  const registrationState = JSON.parse(\n    localStorage.getItem(\"registrationState\") || \"{}\"\n  );\n  const submitStepThreeError = new WFComponent(\"#submitStepThreeError\");\n\n  // Ensure that at least one session is selected\n  if (\n    !registrationState.selectedSessions ||\n    registrationState.selectedSessions.length === 0\n  ) {\n    submitStepThreeError.setText(\"Please select at least one session.\");\n    submitStepThreeError.setStyle({ display: \"block\" });\n    return false;\n  }\n\n  // Ensure each selected session has associated students\n  for (const session of registrationState.selectedSessions) {\n    if (!session.studentIds || session.studentIds.length === 0) {\n      submitStepThreeError.setText(\n        \"Please select at least one student for each session.\"\n      );\n      submitStepThreeError.setStyle({ display: \"block\" });\n      return false;\n    }\n  }\n\n  // Hide the error message if validation passes\n  submitStepThreeError.setStyle({ display: \"none\" });\n\n  // If validation passes, save state or submit data to the server\n  saveState(registrationState);\n\n  return true;\n};\n","// api/sessions.ts\nimport { apiClient } from \"./apiConfig\";\n\nexport interface Session {\n  id: string;\n  fieldData: {\n    weekday: string;\n    \"time-block\": string;\n    location: string;\n    \"displayed-annual-price\": string;\n    \"displayed-monthly-price\": string;\n    \"displayed-one-off-price\": string;\n    \"displayed-deposit-price\": string;\n  };\n}\n\ninterface SessionApiResponse {\n  sessions: Session[];\n}\n\n// Function to fetch sessions from the server\nexport const fetchSessions = async (\n  workshopId: string,\n  programId: string\n): Promise<Session[]> => {\n  try {\n    const response = await apiClient\n      .get<SessionApiResponse>(\n        `/registration/sessions?workshop_id=${workshopId}&program_id=${programId}`\n      )\n      .fetch();\n    return response.sessions || [];\n  } catch (error) {\n    console.error(\"Error fetching sessions:\", error);\n    throw error;\n  }\n};\n","// updateUI.js\nimport { loadSelectedProgram } from \"../state/selectedProgram\";\nimport { loadSelectedWorkshop } from \"../state/selectedWorkshop\";\nimport { WFComponent } from \"@xatom/core\";\n\nexport const updateSelectedItemUI = () => {\n  const selectedProgram = loadSelectedProgram();\n  const selectedWorkshop = loadSelectedWorkshop();\n\n  // Original UI elements\n  const selectedProgramTitle = new WFComponent(\"#selectedProgramTitle\");\n  const selectedWorkshopTitle = new WFComponent(\"#selectedWorkshopTitle\");\n  const selectedAgeRange = new WFComponent(\"#selectedAgeRange\");\n  const selectedImage = new WFComponent(\"#selectedImage\");\n\n  // Final UI elements\n  const selectedProgramTitleFinal = new WFComponent(\n    \"#selectedProgramTitleFinal\"\n  );\n  const selectedWorkshopTitleFinal = new WFComponent(\n    \"#selectedWorkshopTitleFinal\"\n  );\n  const selectedAgeRangeFinal = new WFComponent(\"#selectedAgeRangeFinal\");\n  const selectedImageFinal = new WFComponent(\"#selectedImageFinal\");\n\n  // Function to set UI elements based on the selected data\n  const setUIElements = (programTitle, workshopTitle, ageRange, image) => {\n    programTitle.setText(selectedProgram.name);\n\n    if (selectedWorkshop.id) {\n      workshopTitle.setText(selectedWorkshop.name);\n      workshopTitle.setStyle({ display: \"block\" });\n      ageRange.setText(selectedWorkshop.ageRange);\n      const imageUrl = selectedWorkshop.imageUrl || selectedProgram.imageUrl;\n      image.setAttribute(\"src\", imageUrl);\n    } else {\n      workshopTitle.setStyle({ display: \"none\" });\n      ageRange.setText(selectedProgram.ageRange);\n      image.setAttribute(\"src\", selectedProgram.imageUrl);\n    }\n  };\n\n  // Update original UI elements\n  if (selectedProgram.id) {\n    setUIElements(\n      selectedProgramTitle,\n      selectedWorkshopTitle,\n      selectedAgeRange,\n      selectedImage\n    );\n  }\n\n  // Update final UI elements\n  if (selectedProgram.id) {\n    setUIElements(\n      selectedProgramTitleFinal,\n      selectedWorkshopTitleFinal,\n      selectedAgeRangeFinal,\n      selectedImageFinal\n    );\n  }\n};\n","import { apiClient } from \"./apiConfig\";\nimport { saveState } from \"../modules/registration/state/registrationState\";\n\nexport interface StudentProfile {\n  id: number;\n  first_name: string;\n  last_name: string;\n  Status: string;\n}\n\ninterface StudentProfileApiResponse {\n  students: StudentProfile[];\n}\n\ninterface FetchStudentProfilesResult {\n  students: StudentProfile[];\n  showDialog: boolean;\n}\n\n// Function to fetch student profiles from the server\nexport const fetchStudentProfiles =\n  async (): Promise<FetchStudentProfilesResult> => {\n    try {\n      const response = await apiClient\n        .get<StudentProfileApiResponse>(\"/profiles/student_profiles\")\n        .fetch();\n      if (response.students) {\n        // Filter students with status \"Pending\"\n        const pendingStudents = response.students.filter(\n          (student) => student.Status === \"Pending\"\n        );\n        const pendingStudentNames = pendingStudents.map(\n          (student) => `${student.first_name} ${student.last_name}`\n        );\n\n        // Log names of pending students (for debugging purposes)\n        console.log(\"Pending Students:\", pendingStudentNames);\n\n        // Update registrationState with pending students\n        saveState({ pendingStudents: pendingStudentNames });\n\n        // Check if there are no students and indicate that the dialog should be shown\n        return {\n          students: response.students,\n          showDialog: response.students.length === 0,\n        };\n      } else {\n        console.error(\"No students property in response\");\n        return { students: [], showDialog: true };\n      }\n    } catch (error) {\n      console.error(\"Error fetching student profiles:\", error);\n      return { students: [], showDialog: true };\n    }\n  };\n","// state/registrationState.ts\nimport { CheckoutPreviewResponse } from \"../checkoutPreview\"; // Ensure this import exists\n\nexport interface RegistrationState {\n  selectedProgramId?: string;\n  selectedProgramName?: string;\n  selectedProgramImageUrl?: string;\n  selectedProgramAgeRange?: string;\n  selectedWorkshopId?: string;\n  selectedWorkshopName?: string;\n  selectedWorkshopAgeRange?: string;\n  selectedWorkshopImageUrl?: string;\n  selectedPricingOption?: string;\n  // Removed secondaryPricingOption\n  selectedSessions?: { sessionId: string; studentIds: number[] }[];\n  pendingStudents?: string[];\n  fin_aid_requested?: boolean;\n  selected_discount?: string;\n  checkoutPreview?: CheckoutPreviewResponse;\n  financialAidData?: {\n    relationship: string;\n    annualIncome: string;\n    monthlyExpense: string;\n    previousParticipant: string;\n  };\n  early_registration?: boolean; // Added early_registration flag\n  start_date?: string; // Added start_date\n}\n\nexport const loadState = (): RegistrationState => {\n  const savedState = localStorage.getItem(\"registrationState\");\n  if (savedState) {\n    return JSON.parse(savedState);\n  }\n  return {};\n};\n\nexport const saveState = (state: Partial<RegistrationState>) => {\n  const currentState = loadState();\n  const newState = { ...currentState, ...state };\n  localStorage.setItem(\"registrationState\", JSON.stringify(newState));\n};\n\nexport const logPricingOption = (pricingOption: string) => {\n  saveState({ selectedPricingOption: pricingOption });\n};\n\n// Utility function to get pending students\nexport const getPendingStudents = (): string[] => {\n  const state = loadState();\n  return state.pendingStudents || [];\n};\n","// state/selectedSessions.ts\n\nexport const loadSelectedSession = () => {\n  const state = JSON.parse(localStorage.getItem(\"registrationState\") || \"{}\");\n  return state.selectedSession || null;\n};\n\nexport const saveSelectedSession = (session: {\n  id: string;\n  details: string;\n}) => {\n  const state = JSON.parse(localStorage.getItem(\"registrationState\") || \"{}\");\n  state.selectedSession = session;\n  localStorage.setItem(\"registrationState\", JSON.stringify(state));\n};\n\nexport const resetSelectedSessions = () => {\n  const registrationState = JSON.parse(\n    localStorage.getItem(\"registrationState\") || \"{}\"\n  );\n  registrationState.selectedSessions = [];\n  localStorage.setItem(\"registrationState\", JSON.stringify(registrationState));\n};\n\nexport const updateSelectedSessions = (\n  sessionId: string,\n  studentId: number,\n  checked: boolean\n) => {\n  const registrationState = JSON.parse(\n    localStorage.getItem(\"registrationState\") || \"{}\"\n  );\n\n  if (!registrationState.selectedSessions) {\n    registrationState.selectedSessions = [];\n  }\n\n  let session = registrationState.selectedSessions.find(\n    (s: any) => s.sessionId === sessionId\n  );\n\n  if (checked) {\n    if (!session) {\n      session = { sessionId: sessionId, studentIds: [studentId] };\n      registrationState.selectedSessions.push(session);\n    } else {\n      if (!session.studentIds.includes(studentId)) {\n        session.studentIds.push(studentId);\n      }\n    }\n  } else {\n    if (session) {\n      session.studentIds = session.studentIds.filter(\n        (id: number) => id !== studentId\n      );\n      if (session.studentIds.length === 0) {\n        registrationState.selectedSessions =\n          registrationState.selectedSessions.filter(\n            (s: any) => s.sessionId !== sessionId\n          );\n      }\n    }\n  }\n\n  localStorage.setItem(\"registrationState\", JSON.stringify(registrationState));\n};\n","// components/registration/checkoutPreview.ts\nimport { WFComponent } from \"@xatom/core\";\nimport { updateSelectedItemUI } from \"./utils/updateUi\";\nimport { apiClient } from \"../../api/apiConfig\";\nimport { loadState, saveState } from \"./state/registrationState\";\nimport { initializeAlertBox } from \"./components/alertBox\";\nimport { initializePrimaryPaymentRadios } from \"./components/primaryPaymentRadios\";\nimport {\n  renderLineItems,\n  getLineItemsForSelectedOption,\n} from \"./components/lineItems\";\nimport { updateTotalAmount } from \"./components/updateTotalAmount\";\nimport { initializeFinancialAid } from \"./components/financialAid\"; // Import financial aid initialization\nimport { initializeAlertBoxEarly } from \"./components/alertBoxEarly\"; // Import the new alertBoxEarly\n\nexport interface CheckoutPreviewResponse {\n  selectedPricingOption: string;\n  annual_line_items: LineItem[];\n  monthly_line_items: LineItem[];\n  semester_line_items: LineItem[];\n  deposit_line_items: LineItem[];\n  annual_amount_due: number;\n  monthly_amount_due: number;\n  semester_amount_due: number;\n  deposit_amount_due: number;\n  early_registration: boolean; // Added early_registration flag\n  start_date: string; // Added start_date field\n}\n\nexport interface LineItem {\n  price: string;\n  quantity: number;\n  unit_amount: number;\n  product_name: string;\n  total_amount: number;\n}\n\nexport const initializeCheckoutPreview = async () => {\n  try {\n    const registrationState = loadState();\n\n    const response = await apiClient\n      .post<CheckoutPreviewResponse>(\"/registration/checkout-preview\", {\n        data: registrationState,\n      })\n      .fetch();\n\n    console.log(\"Checkout Preview Data:\", response);\n\n    updateSelectedItemUI();\n    initializeAlertBox();\n\n    const { selectedPricingOption, early_registration, start_date } = response;\n\n    // Extract line items data only\n    const lineItemsOnly = {\n      annual_line_items: response.annual_line_items,\n      monthly_line_items: response.monthly_line_items,\n      semester_line_items: response.semester_line_items,\n      deposit_line_items: response.deposit_line_items,\n    };\n\n    // **Always** save 'early_registration' and 'start_date' to state\n    saveState({ \n      checkoutPreview: response, \n      selectedPricingOption, \n      early_registration,\n      start_date: response.start_date, // Ensure start_date is saved\n    });\n\n    initializePrimaryPaymentRadios(selectedPricingOption);\n    initializeFinancialAid(); // Initialize financial aid components\n\n    // Determine if deposit should be displayed\n    const hasPendingStudents = registrationState.pendingStudents?.length > 0;\n    const shouldShowDeposit =\n      (early_registration && selectedPricingOption === \"Monthly\") ||\n      hasPendingStudents;\n\n    console.log(`shouldShowDeposit: ${shouldShowDeposit}`);\n\n    if (shouldShowDeposit) {\n      // Display deposit line items\n      const depositLineItems = response.deposit_line_items;\n      console.log(\"Initial deposit line items:\", depositLineItems);\n      renderLineItems(depositLineItems, true); // Pass a flag to indicate deposit items\n      // Update total amounts accordingly\n      updateTotalAmount(true, selectedPricingOption);\n      console.log(\"Initial deposit line items rendered.\");\n    } else {\n      // Render primary line items\n      const primaryLineItems = getLineItemsForSelectedOption(\n        selectedPricingOption,\n        lineItemsOnly\n      );\n      renderLineItems(primaryLineItems);\n      updateTotalAmount(false, selectedPricingOption);\n      console.log(\"Initial primary line items rendered.\");\n    }\n\n    // **Initialize the new early registration alert box**\n    initializeAlertBoxEarly();\n  } catch (error) {\n    console.error(\"Error fetching checkout preview data:\", error);\n  }\n};\n","// components/registration/initializeAlertBox.ts\n\nimport { getPendingStudents } from \"../state/registrationState\";\n\n/**\n * Initializes the alert box, showing it if there are pending students.\n */\nexport const initializeAlertBox = () => {\n  const alertBox = document.querySelector(\"#alertBox\") as HTMLElement;\n  const alertPendingStudentList = document.querySelector(\n    \"#alertPendingStudentList\"\n  ) as HTMLElement;\n\n  if (!alertBox || !alertPendingStudentList) {\n    console.error(\"Alert box elements not found\");\n    return;\n  }\n\n  const pendingStudents = getPendingStudents();\n\n  if (pendingStudents.length > 0) {\n    alertBox.style.display = \"flex\";\n    alertPendingStudentList.innerHTML = pendingStudents\n      .map((student) => `<li>${student}</li>`)\n      .join(\"\");\n  } else {\n    alertBox.style.display = \"none\";\n  }\n};\n","// components/registration/components/primaryPaymentRadios.ts\n\nimport { WFComponent } from \"@xatom/core\";\nimport { loadState, saveState } from \"../state/registrationState\";\nimport { getLineItemsForSelectedOption, renderLineItems } from \"./lineItems\";\nimport { updateTotalAmount } from \"./updateTotalAmount\";\nimport { LineItem } from \"../checkoutPreview\";\nimport { initializeAlertBoxEarly } from \"./alertBoxEarly\"; // Import the new alertBoxEarly\n\nexport const initializePrimaryPaymentRadios = (\n  selectedPricingOption: string\n) => {\n  const paymentPlans = [\n    { key: \"Annual\", id: \"annualPlan\", wrapId: \"annualRadioWrap\" },\n    { key: \"Monthly\", id: \"monthlyPlan\", wrapId: \"monthlyRadioWrap\" },\n    {\n      key: \"Pay-Per-Semester\",\n      id: \"semesterPlan\",\n      wrapId: \"semesterRadioWrap\",\n    },\n    // Removed \"Deposit\" option\n  ];\n\n  // Initialize the radio buttons based on the selected option\n  paymentPlans.forEach((plan) => {\n    const planElement = new WFComponent(\n      `#${plan.id}`\n    ).getElement() as HTMLInputElement;\n    const planWrapElement = new WFComponent(\n      `#${plan.wrapId}`\n    ).getElement() as HTMLElement;\n\n    if (plan.key === selectedPricingOption) {\n      planElement.checked = true;\n      planWrapElement.classList.remove(\"is-disabled\");\n      planElement.disabled = false;\n    } else {\n      planWrapElement.classList.remove(\"is-disabled\");\n      planElement.disabled = false;\n    }\n  });\n\n  // Attach event listeners to each payment option\n  paymentPlans.forEach((plan) => {\n    const input = new WFComponent(\n      `#${plan.id}`\n    ).getElement() as HTMLInputElement;\n    input.addEventListener(\"change\", (event) => {\n      const target = event.target as HTMLInputElement;\n      if (target.checked) {\n        // Save the selected pricing option to state\n        saveState({ selectedPricingOption: target.value });\n\n        // Load the current registration state\n        const registrationState = loadState();\n        \n        // Debugging: Log the current state\n        console.log(\"Current Registration State:\", registrationState);\n\n        // Extract the necessary line items from the state\n        const lineItemsOnly = {\n          annual_line_items:\n            registrationState.checkoutPreview?.annual_line_items ?? [],\n          monthly_line_items:\n            registrationState.checkoutPreview?.monthly_line_items ?? [],\n          semester_line_items:\n            registrationState.checkoutPreview?.semester_line_items ?? [],\n          // Removed deposit_line_items\n        };\n\n        // Determine if deposit conditions are met\n        const shouldShowDeposit =\n          (registrationState.early_registration && target.value === \"Monthly\") ||\n          (registrationState.pendingStudents?.length > 0);\n\n        // Debugging: Log the value of shouldShowDeposit\n        console.log(`shouldShowDeposit: ${shouldShowDeposit}`);\n\n        if (shouldShowDeposit) {\n          // **Only** render deposit line items\n          const depositLineItems = registrationState.checkoutPreview?.deposit_line_items ?? [];\n          \n          // **Ensure** that deposit line items are available\n          if (depositLineItems.length > 0) {\n            console.log(\"Rendering Deposit Line Items:\", depositLineItems);\n            renderLineItems(depositLineItems, true); // Pass a flag to indicate deposit items\n            // Update total amounts accordingly\n            updateTotalAmount(true, target.value);\n            console.log(`Deposit line items rendered for ${target.value}`);\n          } else {\n            console.warn(\"Deposit line items are empty or undefined.\");\n            // Fallback: Render primary line items if deposit line items are unavailable\n            const primaryLineItems = getLineItemsForSelectedOption(\n              target.value,\n              lineItemsOnly\n            );\n            renderLineItems(primaryLineItems);\n            updateTotalAmount(false, target.value);\n            console.log(`Primary line items rendered for ${target.value} due to missing deposit items.`);\n          }\n        } else {\n          // **Only** render primary line items\n          const primaryLineItems = getLineItemsForSelectedOption(\n            target.value,\n            lineItemsOnly\n          );\n          renderLineItems(primaryLineItems);\n          updateTotalAmount(false, target.value);\n          console.log(`Primary line items rendered for ${target.value}`);\n        }\n\n        console.log(`Primary pricing option selected: ${target.value}`);\n\n        // **Initialize alertBoxEarly after changing pricing option**\n        initializeAlertBoxEarly();\n      }\n    });\n  });\n};\n","// lineItems.ts\nimport { WFComponent } from \"@xatom/core\";\nimport { LineItem } from \"../checkoutPreview\";\n\nexport const renderLineItems = (lineItems: LineItem[], isDeposit: boolean = false) => {\n  const lineItemList = new WFComponent(\"#lineItemList\");\n  lineItemList.removeAllChildren(); // Clear previous line items\n\n  console.log(`Rendering ${isDeposit ? \"Deposit\" : \"Primary\"} Line Items:`, lineItems);\n\n  lineItems.forEach((item) => {\n    const lineItemRow = document.createElement(\"tr\");\n    lineItemRow.className = \"table_row\" + (isDeposit ? \" deposit_row\" : \"\");\n\n    const productNameCell = document.createElement(\"td\");\n    productNameCell.className = \"table_cell\";\n    productNameCell.textContent = item.product_name;\n    lineItemRow.appendChild(productNameCell);\n\n    const unitAmountCell = document.createElement(\"td\");\n    unitAmountCell.className = \"table_cell\";\n    unitAmountCell.textContent = `$${item.unit_amount}`;\n    lineItemRow.appendChild(unitAmountCell);\n\n    const quantityCell = document.createElement(\"td\");\n    quantityCell.className = \"table_cell\";\n    quantityCell.textContent = `${item.quantity}`;\n    lineItemRow.appendChild(quantityCell);\n\n    const totalAmountCell = document.createElement(\"td\");\n    totalAmountCell.className = \"table_cell\";\n    totalAmountCell.textContent = `$${item.total_amount}`;\n    lineItemRow.appendChild(totalAmountCell);\n\n    lineItemList.getElement().appendChild(lineItemRow);\n  });\n\n  // If deposit line items are rendered, apply specific styles or classes if needed\n  if (isDeposit) {\n    // Example: Highlight deposit line items\n    lineItemList.getElement().classList.add(\"has-deposit\");\n    console.log(\"Deposit line items have been added.\");\n  } else {\n    lineItemList.getElement().classList.remove(\"has-deposit\");\n    console.log(\"Primary line items have been added.\");\n  }\n};\n\nexport const getLineItemsForSelectedOption = (\n  selectedPricingOption: string,\n  lineItemsData: Record<string, LineItem[]>\n): LineItem[] => {\n  switch (selectedPricingOption) {\n    case \"Annual\":\n      return lineItemsData.annual_line_items;\n    case \"Monthly\":\n      return lineItemsData.monthly_line_items;\n    case \"Pay-Per-Semester\":\n      return lineItemsData.semester_line_items;\n    // Removed \"Deposit\" case\n    default:\n      console.warn(\"Unknown pricing option:\", selectedPricingOption);\n      return [];\n  }\n};\n","// updateTotalAmount.ts\nimport { WFComponent } from \"@xatom/core\";\nimport { loadState } from \"../state/registrationState\";\nimport { formatCurrency } from \"../utils/formatting\";\nimport { updateSecondaryTotalAmount } from \"./updateSecondaryTotalAmount\";\n\nexport const updateTotalAmount = (\n  includeDeposit: boolean = false,\n  selectedPricingOption?: string\n) => {\n  const state = loadState();\n  const totalAmountElement = new WFComponent(\"#primaryTotalAmount\");\n  const primaryOriginalAmountElement = new WFComponent(\"#primaryOriginalAmount\");\n  const primaryDiscountPill = new WFComponent(\"#primaryDiscountPill\");\n  const primaryDiscountNumber = new WFComponent(\"#primaryDiscountNumber\");\n  \n  // Elements for secondary total\n  const secondaryAmountWrap = new WFComponent(\"#secondaryAmountWrap\");\n  const secondaryTotalAmountElement = new WFComponent(\"#secondaryTotalAmount\");\n  const secondaryOriginalAmountElement = new WFComponent(\"#secondaryOriginalAmount\");\n  const secondaryDiscountPill = new WFComponent(\"#secondaryDiscountPill\");\n  const secondaryDiscountNumber = new WFComponent(\"#secondaryDiscountNumber\");\n\n  console.log(`updateTotalAmount called with includeDeposit=${includeDeposit} and selectedPricingOption=${selectedPricingOption}`);\n\n  let primaryTotal: number | undefined;\n  let primaryOriginal: number | undefined;\n  let primaryAmountType: string = \"\"; // e.g., \"Per Year\"\n\n  const pricingOption = selectedPricingOption || state.selectedPricingOption;\n\n  switch (pricingOption) {\n    case \"Annual\":\n      primaryOriginal = state.checkoutPreview?.annual_amount_due;\n      primaryAmountType = \"Per Year\";\n      break;\n    case \"Monthly\":\n      primaryOriginal = state.checkoutPreview?.monthly_amount_due;\n      primaryAmountType = \"Per Month\";\n      break;\n    case \"Pay-Per-Semester\":\n      primaryOriginal = state.checkoutPreview?.semester_amount_due;\n      primaryAmountType = \"Per Semester\";\n      break;\n    default:\n      console.warn(\"Unknown pricing option:\", pricingOption);\n  }\n\n  if (!includeDeposit) {\n    // No deposit; apply discounts to primary total if applicable\n    if (state.selected_discount) {\n      const discountValue = parseFloat(state.selected_discount);\n      primaryTotal = primaryOriginal\n        ? primaryOriginal * (1 - discountValue / 100)\n        : 0;\n      primaryDiscountPill.setStyle({ display: \"block\" });\n      primaryDiscountNumber.setText(`${discountValue}%`);\n      primaryOriginalAmountElement.setText(\n        `was ${formatCurrency(primaryOriginal!)} ${primaryAmountType}`\n      );\n      primaryOriginalAmountElement.setStyle({ display: \"block\" });\n      console.log(\"Applied discount to primary total.\");\n    } else {\n      primaryTotal = primaryOriginal;\n      primaryDiscountPill.setStyle({ display: \"none\" });\n      primaryOriginalAmountElement.setStyle({ display: \"none\" });\n      primaryDiscountNumber.setText(\"\");\n      console.log(\"No discount applied to primary total.\");\n    }\n\n    if (primaryTotal !== undefined) {\n      totalAmountElement.setText(`${formatCurrency(primaryTotal)} ${primaryAmountType}`);\n    } else {\n      totalAmountElement.setText(`$0.00 ${primaryAmountType}`);\n    }\n\n    // Hide secondary total elements if previously shown\n    secondaryAmountWrap.setStyle({ display: \"none\" });\n    console.log(\"SecondaryAmountWrap hidden.\");\n    // Clear secondary totals\n    secondaryTotalAmountElement.setText(`$0.00 ${primaryAmountType}`);\n    secondaryOriginalAmountElement.setStyle({ display: \"none\" });\n    secondaryDiscountPill.setStyle({ display: \"none\" });\n    secondaryDiscountNumber.setText(\"\");\n  } else {\n    // Deposit is included; primary total reflects deposit total, secondary total reflects main payment option\n    const depositAmount = state.checkoutPreview?.deposit_amount_due;\n    if (depositAmount !== undefined) {\n      totalAmountElement.setText(`${formatCurrency(depositAmount)} Total`);\n    } else {\n      totalAmountElement.setText(`$0.00 Total`);\n    }\n\n    // Calculate and display secondary total with discount if applicable\n    updateSecondaryTotalAmount();\n\n    // Show secondary total elements\n    secondaryAmountWrap.setStyle({ display: \"flex\", flexDirection: \"column\" });\n    console.log(\"SecondaryAmountWrap displayed as flex.\");\n\n    // Hide primary discount pill since discounts are applied to secondary total\n    primaryDiscountPill.setStyle({ display: \"none\" });\n    primaryDiscountNumber.setText(\"\");\n    primaryOriginalAmountElement.setStyle({ display: \"none\" });\n    console.log(\"Primary discount pill hidden.\");\n  }\n};\n","// utils/formatting.ts\n\nexport const formatCurrency = (amount: number | string): string => {\n  // Convert to a number if the amount is a string\n  const numericAmount =\n    typeof amount === \"string\" ? parseFloat(amount) : amount;\n\n  // Ensure the conversion worked and format the number\n  if (!isNaN(numericAmount)) {\n    return numericAmount.toLocaleString(\"en-US\", {\n      style: \"currency\",\n      currency: \"USD\",\n    });\n  }\n\n  return \"$0.00\"; // Default value in case of error\n};\n","// updateSecondaryTotalAmount.ts\nimport { WFComponent } from \"@xatom/core\";\nimport { loadState } from \"../state/registrationState\";\nimport { formatCurrency } from \"../utils/formatting\";\n\nexport const updateSecondaryTotalAmount = () => {\n  const state = loadState();\n  const secondaryTotalAmountElement = new WFComponent(\"#secondaryTotalAmount\");\n  const secondaryOriginalAmountElement = new WFComponent(\"#secondaryOriginalAmount\");\n  const secondaryDiscountPill = new WFComponent(\"#secondaryDiscountPill\");\n  const secondaryDiscountNumber = new WFComponent(\"#secondaryDiscountNumber\");\n\n  const selectedPricingOption = state.selectedPricingOption;\n  let secondaryOriginalAmount: number | undefined;\n  let secondaryAmountType: string = \"\";\n\n  switch (selectedPricingOption) {\n    case \"Annual\":\n      secondaryOriginalAmount = state.checkoutPreview?.annual_amount_due;\n      secondaryAmountType = \"Per Year\";\n      break;\n    case \"Monthly\":\n      secondaryOriginalAmount = state.checkoutPreview?.monthly_amount_due;\n      secondaryAmountType = \"Per Month\";\n      break;\n    case \"Pay-Per-Semester\":\n      secondaryOriginalAmount = state.checkoutPreview?.semester_amount_due;\n      secondaryAmountType = \"Per Semester\";\n      break;\n    default:\n      console.warn(\"Unknown pricing option:\", selectedPricingOption);\n  }\n\n  if (state.selected_discount && secondaryOriginalAmount !== undefined) {\n    const discountValue = parseFloat(state.selected_discount);\n    const discountedTotal = secondaryOriginalAmount * (1 - discountValue / 100);\n    secondaryDiscountPill.setStyle({ display: \"block\" });\n    secondaryDiscountNumber.setText(`${discountValue}%`);\n    secondaryOriginalAmountElement.setText(\n      `was ${formatCurrency(secondaryOriginalAmount)} ${secondaryAmountType}`\n    );\n    secondaryOriginalAmountElement.setStyle({ display: \"block\" });\n    secondaryTotalAmountElement.setText(`${formatCurrency(discountedTotal)} ${secondaryAmountType}`);\n    console.log(\"Applied discount to secondary total.\");\n  } else {\n    // No discount applied\n    if (secondaryOriginalAmount !== undefined) {\n      secondaryTotalAmountElement.setText(`${formatCurrency(secondaryOriginalAmount)} ${secondaryAmountType}`);\n    } else {\n      secondaryTotalAmountElement.setText(`$0.00 ${secondaryAmountType}`);\n    }\n    secondaryDiscountPill.setStyle({ display: \"none\" });\n    secondaryOriginalAmountElement.setStyle({ display: \"none\" });\n    secondaryDiscountNumber.setText(\"\");\n    console.log(\"No discount applied to secondary total.\");\n  }\n};\n","// components/registration/alertBoxEarly.ts\n\nimport { loadState } from \"../state/registrationState\";\n\n/**\n * Initializes the early registration alert box.\n * Displays the alert if the selected pricing option is \"Monthly\" and early_registration is true.\n * Populates the startDate span with the formatted start_date from the checkout preview.\n */\nexport const initializeAlertBoxEarly = () => {\n  const alertBoxEarly = document.querySelector(\"#alertBoxEarly\") as HTMLElement;\n  const startDateSpan = document.querySelector(\"#startDate\") as HTMLElement;\n\n  if (!alertBoxEarly || !startDateSpan) {\n    console.error(\"Early Alert Box elements not found\");\n    return;\n  }\n\n  const state = loadState();\n  const { selectedPricingOption, early_registration, checkoutPreview } = state;\n\n  // Check if selectedPricingOption is \"Monthly\" and early_registration is true\n  if (\n    selectedPricingOption === \"Monthly\" &&\n    early_registration &&\n    checkoutPreview &&\n    checkoutPreview.start_date\n  ) {\n    // Parse the start_date as UTC\n    const startDate = new Date(checkoutPreview.start_date);\n\n    // Format the date in UTC to avoid timezone shifts\n    const formatter = new Intl.DateTimeFormat(undefined, {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n      timeZone: \"UTC\", // Ensure formatting is done in UTC\n    });\n\n    const formattedDate = formatter.format(startDate);\n\n    // Update the startDate span\n    startDateSpan.textContent = formattedDate;\n\n    // Display the alert box\n    alertBoxEarly.style.display = \"flex\";\n    console.log(\"Early registration alert box displayed with start date:\", formattedDate);\n  } else {\n    // Hide the alert box if conditions are not met\n    alertBoxEarly.style.display = \"none\";\n    console.log(\"Early registration alert box hidden\");\n  }\n};\n","// financialAid.ts\nimport { WFComponent } from \"@xatom/core\";\nimport { loadState, saveState } from \"../state/registrationState\";\nimport { updateTotalAmount } from \"./updateTotalAmount\";\nimport { toggleError, setupValidation } from \"../../../utils/formUtils\";\nimport {\n  validateNotEmpty,\n  validateSelectField,\n} from \"../../../utils/validationUtils\";\n\n// Function to initialize the financial aid checkbox and dialog\nexport const initializeFinancialAid = () => {\n  const financialAidCheckbox = new WFComponent(\"#requestFinAid\");\n  const financialAidDialog = new WFComponent(\"#finaidForm\");\n\n  // Show dialog when checkbox is checked\n  financialAidCheckbox.on(\"change\", () => {\n    const checkboxElement =\n      financialAidCheckbox.getElement() as HTMLInputElement;\n    const state = loadState(); // Load the state here\n    if (checkboxElement.checked) {\n      (financialAidDialog.getElement() as HTMLDialogElement).showModal();\n    } else {\n      // Reset financial aid-related state\n      saveState({ fin_aid_requested: false, selected_discount: undefined });\n\n      // Determine if deposit is included\n      const includeDeposit =\n        state.pendingStudents?.length > 0 ||\n        (state.early_registration && state.selectedPricingOption === \"Monthly\");\n      // Update totals accordingly\n      updateTotalAmount(includeDeposit, state.selectedPricingOption);\n    }\n  });\n\n  // Close dialog event to uncheck checkbox if no discount is applied\n  financialAidDialog.getElement()?.addEventListener(\"close\", () => {\n    const state = loadState();\n    if (!state.selected_discount) {\n      (financialAidCheckbox.getElement() as HTMLInputElement).checked = false;\n    }\n  });\n\n  // Form validation\n  setupFinancialAidFormValidation();\n\n  // Handle form submission\n  const submitButton = new WFComponent(\"#submitfinancialAid\");\n  submitButton.on(\"click\", () => {\n    if (validateFinancialAidForm()) {\n      saveFinancialAidData();\n      showSuccessState();\n    }\n  });\n\n  // Attach close dialog function to close button and outside click\n  attachCloseDialogHandler(financialAidDialog);\n\n  // Format currency in real-time as the user types\n  const annualIncomeInput = new WFComponent(\"#annualIncome\");\n  const monthlyExpenseInput = new WFComponent(\"#monthlyExpense\");\n\n  const formatAndSetInputValue = (component: WFComponent) => {\n    const inputElement = component.getElement() as HTMLInputElement;\n    let value = inputElement.value.replace(/[^\\d.-]/g, \"\"); // Remove non-numeric characters except for digits, dots, and dashes\n\n    // Save the cursor position before formatting\n    let cursorPosition = inputElement.selectionStart || 0;\n\n    // Calculate the number of commas before formatting\n    const commaCountBefore = (\n      inputElement.value.slice(0, cursorPosition).match(/,/g) || []\n    ).length;\n\n    // Handle the case where the user might enter multiple decimal points\n    if (value.includes(\".\")) {\n      const [integerPart, decimalPart] = value.split(\".\");\n      value = `${integerPart}.${decimalPart.slice(0, 2)}`;\n    }\n\n    // Format the number\n    const formattedValue = formatNumber(value);\n    inputElement.value = formattedValue;\n\n    // Calculate the number of commas after formatting\n    const commaCountAfter = (\n      inputElement.value.slice(0, cursorPosition).match(/,/g) || []\n    ).length;\n\n    // Adjust cursor position based on the difference in comma count\n    cursorPosition += commaCountAfter - commaCountBefore;\n\n    // Ensure cursor position does not exceed the input length\n    if (cursorPosition > formattedValue.length) {\n      cursorPosition = formattedValue.length;\n    }\n\n    // Set the cursor position back to the calculated position\n    inputElement.setSelectionRange(cursorPosition, cursorPosition);\n  };\n\n  const formatNumber = (value: string): string => {\n    const number = parseFloat(value.replace(/,/g, \"\"));\n    if (isNaN(number)) return value;\n    return number.toLocaleString(\"en-US\", {\n      minimumFractionDigits: 0, // No decimals during typing\n      maximumFractionDigits: 0, // No decimals during typing\n    });\n  };\n\n  annualIncomeInput.on(\"input\", () =>\n    formatAndSetInputValue(annualIncomeInput)\n  );\n  monthlyExpenseInput.on(\"input\", () =>\n    formatAndSetInputValue(monthlyExpenseInput)\n  );\n};\n\n// Function to close the financial aid dialog\nconst closeFinancialAidDialog = (dialog: WFComponent) => {\n  (dialog.getElement() as HTMLDialogElement).close();\n};\n\n// Function to attach close dialog handler\nconst attachCloseDialogHandler = (dialog: WFComponent) => {\n  const closeButton = new WFComponent(\"#close-dialog-btn\");\n\n  closeButton.on(\"click\", () => closeFinancialAidDialog(dialog));\n\n  dialog.getElement()?.addEventListener(\"click\", (event) => {\n    const rect = (\n      dialog.getElement() as HTMLDialogElement\n    ).getBoundingClientRect();\n    if (\n      event.clientX < rect.left ||\n      event.clientX > rect.right ||\n      event.clientY < rect.top ||\n      event.clientY > rect.bottom\n    ) {\n      closeFinancialAidDialog(dialog);\n    }\n  });\n};\n\n// Function to validate the financial aid form\nconst setupFinancialAidFormValidation = () => {\n  const relationshipInput = new WFComponent(\"#finaidRelationship\");\n  const relationshipError = new WFComponent(\"#finaidRelationshipError\");\n\n  const previousParticipantInputs = document.getElementsByName(\n    \"previous_participant\"\n  );\n  const previousParticipantError = new WFComponent(\"#previousParticipantError\");\n\n  const annualIncomeInput = new WFComponent(\"#annualIncome\");\n  const annualIncomeError = new WFComponent(\"#annualIncomeError\");\n\n  const monthlyExpenseInput = new WFComponent(\"#monthlyExpense\");\n  const monthlyExpenseError = new WFComponent(\"#monthlyExpenseError\");\n\n  setupValidation(relationshipInput, relationshipError, () =>\n    validateSelectField(getComponentValue(relationshipInput))\n      ? \"\"\n      : \"Please select a relationship.\"\n  );\n\n  setupValidation(annualIncomeInput, annualIncomeError, () =>\n    validateNotEmpty(getComponentValue(annualIncomeInput))\n      ? \"\"\n      : \"Please enter your annual household income.\"\n  );\n\n  setupValidation(monthlyExpenseInput, monthlyExpenseError, () =>\n    validateNotEmpty(getComponentValue(monthlyExpenseInput))\n      ? \"\"\n      : \"Please enter your monthly expenditure.\"\n  );\n\n  Array.from(previousParticipantInputs).forEach((input) => {\n    setupValidation(\n      new WFComponent(input as HTMLElement),\n      previousParticipantError,\n      () => {\n        const selected = Array.from(previousParticipantInputs).some(\n          (radio) => (radio as HTMLInputElement).checked\n        );\n        return selected ? \"\" : \"Please select an option.\";\n      }\n    );\n  });\n};\n\n// Function to validate the financial aid form on submit\nconst validateFinancialAidForm = () => {\n  const relationshipInput = new WFComponent(\"#finaidRelationship\");\n  const annualIncomeInput = new WFComponent(\"#annualIncome\");\n  const monthlyExpenseInput = new WFComponent(\"#monthlyExpense\");\n  const previousParticipantInputs = document.getElementsByName(\n    \"previous_participant\"\n  );\n\n  const isRelationshipValid = validateSelectField(\n    getComponentValue(relationshipInput)\n  );\n  toggleError(\n    new WFComponent(\"#finaidRelationshipError\"),\n    \"Please select a relationship.\",\n    !isRelationshipValid\n  );\n\n  const isAnnualIncomeValid = validateNotEmpty(\n    getComponentValue(annualIncomeInput)\n  );\n  toggleError(\n    new WFComponent(\"#annualIncomeError\"),\n    \"Please enter your annual household income.\",\n    !isAnnualIncomeValid\n  );\n\n  const isMonthlyExpenseValid = validateNotEmpty(\n    getComponentValue(monthlyExpenseInput)\n  );\n  toggleError(\n    new WFComponent(\"#monthlyExpenseError\"),\n    \"Please enter your monthly expenditure.\",\n    !isMonthlyExpenseValid\n  );\n\n  const isPreviousParticipantValid = Array.from(previousParticipantInputs).some(\n    (radio) => (radio as HTMLInputElement).checked\n  );\n  toggleError(\n    new WFComponent(\"#previousParticipantError\"),\n    \"Please select an option.\",\n    !isPreviousParticipantValid\n  );\n\n  return (\n    isRelationshipValid &&\n    isAnnualIncomeValid &&\n    isMonthlyExpenseValid &&\n    isPreviousParticipantValid\n  );\n};\n\n// Function to save financial aid data to state\nconst saveFinancialAidData = () => {\n  const relationshipComponent = new WFComponent(\"#finaidRelationship\");\n  const relationshipElement =\n    relationshipComponent.getElement() as HTMLSelectElement;\n  const relationship = relationshipElement.value;\n\n  const annualIncomeComponent = new WFComponent(\"#annualIncome\");\n  const annualIncomeElement =\n    annualIncomeComponent.getElement() as HTMLInputElement;\n  const annualIncome = annualIncomeElement.value;\n\n  const monthlyExpenseComponent = new WFComponent(\"#monthlyExpense\");\n  const monthlyExpenseElement =\n    monthlyExpenseComponent.getElement() as HTMLInputElement;\n  const monthlyExpense = monthlyExpenseElement.value;\n\n  const previousParticipantInput = document.querySelector(\n    \"input[name='previous_participant']:checked\"\n  ) as HTMLInputElement | null;\n  const previousParticipant = previousParticipantInput\n    ? previousParticipantInput.value\n    : \"\";\n\n  saveState({\n    fin_aid_requested: true,\n    selected_discount: \"\", // Placeholder; will be set when discount is applied\n    financialAidData: {\n      relationship,\n      annualIncome,\n      monthlyExpense,\n      previousParticipant,\n    },\n  });\n\n  console.log(\"Financial aid data saved:\", {\n    relationship,\n    annualIncome,\n    monthlyExpense,\n    previousParticipant,\n  });\n};\n\n// Function to display success state and discount selection\nconst showSuccessState = () => {\n  const successMessage = new WFComponent(\".success-message\");\n  const form = new WFComponent(\"#wf-form-Finaid-Form\");\n  form.setStyle({ display: \"none\" });\n  successMessage.setStyle({ display: \"block\" });\n\n  const applyDiscountButton = new WFComponent(\"#applyDiscount\");\n  const backFinAidButton = new WFComponent(\"#backFinAid\");\n  const financialAidDialog = new WFComponent(\"#finaidForm\");\n\n  applyDiscountButton.on(\"click\", () => {\n    const selectedDiscount = document.querySelector(\n      \"input[name='discountValue']:checked\"\n    ) as HTMLInputElement | null;\n\n    if (selectedDiscount) {\n      const discountValue = selectedDiscount.value;\n      const state = loadState();\n\n      saveState({ selected_discount: discountValue });\n      saveState({ fin_aid_requested: true });\n\n      // Determine if deposit is included\n      const includeDeposit =\n        state.pendingStudents?.length > 0 ||\n        (state.early_registration && state.selectedPricingOption === \"Monthly\");\n\n      updateTotalAmount(includeDeposit, state.selectedPricingOption);\n\n      console.log(`Discount applied: ${discountValue}%`);\n\n      // Close the dialog\n      closeFinancialAidDialog(financialAidDialog);\n    } else {\n      console.warn(\"No discount selected.\");\n      // Optionally provide feedback to the user about selecting a discount\n    }\n  });\n\n  backFinAidButton.on(\"click\", () => {\n    successMessage.setStyle({ display: \"none\" });\n    form.setStyle({ display: \"flex\" });\n  });\n};\n\n// Helper function to get the value of a component\nconst getComponentValue = (component: WFComponent): string => {\n  const element = component.getElement() as\n    | HTMLInputElement\n    | HTMLSelectElement;\n  return element.value;\n};\n","import { WFComponent } from \"@xatom/core\";\nimport { WFImage } from \"@xatom/image\";\nimport { apiClient } from \"../api/apiConfig\";\nimport { userAuth } from \"../auth/authConfig\";\n\nexport function toggleError(\n  errorMessageComponent: WFComponent<any>,\n  message: string,\n  show: boolean\n): void {\n  errorMessageComponent.updateTextViaAttrVar({ text: show ? message : \"\" });\n  errorMessageComponent.setStyle({ display: show ? \"flex\" : \"none\" });\n}\n\nexport function setupValidation(\n  inputComponent: WFComponent,\n  errorComponent: WFComponent,\n  validate: () => string,\n  requestErrorComponent?: WFComponent // Optional component to clear on input change\n) {\n  const validateAndUpdate = () => {\n    const errorMessage = validate();\n    toggleError(errorComponent, errorMessage, !!errorMessage);\n    if (requestErrorComponent && errorMessage === \"\") {\n      // Clear request error message when the user is correcting the input\n      toggleError(requestErrorComponent, \"\", false);\n    }\n  };\n\n  // Attach event listeners for real-time validation\n  inputComponent.on(\"input\", validateAndUpdate);\n  inputComponent.on(\"blur\", validateAndUpdate);\n  inputComponent.on(\"change\", validateAndUpdate);\n}\n\nexport function createValidationFunction(\n  inputComponent: WFComponent,\n  validationFn: (input: string) => boolean,\n  errorMessage: string\n): () => string {\n  return () => {\n    const inputElement = inputComponent.getElement() as HTMLInputElement;\n    const isValid = validationFn(inputElement.value);\n    return isValid ? \"\" : errorMessage;\n  };\n}\n\nexport function createCheckboxValidationFunction(\n  checkboxComponent: WFComponent,\n  errorMessage: string\n): () => string {\n  return () => {\n    const checkbox = checkboxComponent.getElement() as HTMLInputElement;\n    return checkbox.checked ? \"\" : errorMessage;\n  };\n}\n\nexport function setupCheckboxValidation(\n  checkboxComponent: WFComponent,\n  checkboxErrorComponent: WFComponent,\n  errorMessage: string\n) {\n  const validate = createCheckboxValidationFunction(\n    checkboxComponent,\n    errorMessage\n  );\n  setupValidation(checkboxComponent, checkboxErrorComponent, validate);\n}\n\nexport function validateSelectedSessions(\n  selectedSessions: { sessionId: string; studentIds: string[] }[],\n  errorMessageComponent: WFComponent<any>,\n  errorMessage: string\n): boolean {\n  const isValid =\n    selectedSessions.length > 0 &&\n    selectedSessions.some((session) => session.studentIds.length > 0);\n\n  if (!isValid) {\n    toggleError(errorMessageComponent, errorMessage, true);\n  } else {\n    toggleError(errorMessageComponent, \"\", false);\n  }\n\n  return isValid;\n}\n\ntype fileUploadResponse = {\n  status: string;\n  url: {\n    profile_pic: {\n      url: string;\n    };\n  };\n};\n\n/**\n * Updates the user's profile picture URL in the authentication system.\n * @param {string} imageUrl - The URL of the uploaded image.\n */\nexport function setProfilePicUrl(imageUrl: string): void {\n  const user = userAuth.getUser();\n  if (user && user.profile) {\n    // Ensure the profile_picture object exists\n    user.profile.profile_pic = user.profile.profile_pic || { url: \"\" };\n\n    // Set the profile picture URL\n    user.profile.profile_pic.url = imageUrl;\n    userAuth.setUser(user);\n    localStorage.setItem(\"auth_user\", JSON.stringify(user));\n  }\n}\n\n/**\n * Handles file upload and displays the uploaded image.\n * @param {WFComponent} fileInput - The WFComponent instance for the file input field.\n * @param {WFComponent} fileInputError - The WFComponent instance for displaying error messages.\n * @param {WFComponent} fileInputSuccess - The WFComponent instance for displaying success messages.\n * @param {string} uploadEndpoint - The endpoint to which the file is sent.\n * @returns {Promise<string>} A promise that resolves with the URL of the uploaded image.\n */\n/**\n * Handles file upload and displays the uploaded image.\n * Only JPEG files less than 2 MB can be uploaded.\n * @param {WFComponent} fileInput - The WFComponent instance for the file input field.\n * @param {WFComponent} fileInputError - The WFComponent instance for displaying error messages.\n * @param {WFComponent} fileInputSuccess - The WFComponent instance for displaying success messages.\n * @param {string} uploadEndpoint - The endpoint to which the file is sent.\n * @returns {Promise<string>} A promise that resolves with the URL of the uploaded image.\n */\nexport function setupFileUpload(\n  fileInput: WFComponent,\n  fileInputError: WFComponent,\n  fileInputSuccess: WFComponent,\n  uploadEndpoint: string\n): Promise<string> {\n  const profilePictureImage = new WFImage(\"#profilePictureImage\");\n  const uploadAnimation = new WFComponent(\"#uploadAnimation\");\n\n  const overlay = new WFComponent(\".drop-zone\");\n  let dragCounter = 0;\n\n  return new Promise<string>((resolve) => {\n    const handleFile = (file: File) => {\n      // Validate file type and size\n      const validTypes = [\"image/jpeg\", \"image/jpg\"];\n      const maxSizeInBytes = 2 * 1024 * 1024; // 2 MB\n\n      if (\n        !validTypes.includes(file.type) &&\n        !/\\.(jpg|jpeg)$/i.test(file.name)\n      ) {\n        const errorMessage = \"Only JPEG images are allowed.\";\n        toggleError(fileInputError, errorMessage, true);\n        // Reset file input value\n        (fileInput.getElement() as HTMLInputElement).value = \"\";\n        return;\n      }\n\n      if (file.size > maxSizeInBytes) {\n        const errorMessage = \"File size must be less than 2 MB.\";\n        toggleError(fileInputError, errorMessage, true);\n        // Reset file input value\n        (fileInput.getElement() as HTMLInputElement).value = \"\";\n        return;\n      }\n\n      // Show upload animation immediately\n      uploadAnimation.setStyle({ display: \"flex\" });\n\n      // Hide error and success messages\n      fileInputError.setStyle({ display: \"none\" });\n      fileInputSuccess.setStyle({ display: \"none\" });\n\n      const reader = new FileReader();\n\n      // Display preview image as soon as the file is loaded into memory\n      reader.onload = (event) => {\n        // Set the preview image for the profile picture\n        const result = event.target?.result as string;\n        profilePictureImage.setImage(result);\n\n        // Hide overlay once the image is set\n        overlay.setStyle({ display: \"none\" });\n      };\n\n      reader.readAsDataURL(file);\n\n      const formData = new FormData();\n      formData.append(\"profile_picture\", file);\n\n      const existingStudent = localStorage.getItem(\"current_student\");\n      if (existingStudent) {\n        const student = JSON.parse(existingStudent);\n        formData.append(\"student_profile_id\", student.id.toString());\n      }\n\n      // Send the file to the server\n      const postRequest = apiClient.post<fileUploadResponse>(uploadEndpoint, {\n        data: formData,\n      });\n\n      postRequest.onData((response) => {\n        if (response.status === \"success\") {\n          const imageUrl = response.url.profile_pic.url;\n\n          // Update the profile picture URL in the user session and local storage\n          setProfilePicUrl(imageUrl);\n\n          // Update the image for other parts of the UI as well\n          profilePictureImage.setImage(imageUrl);\n\n          // Store the URL in local storage\n          localStorage.setItem(\"image_upload\", imageUrl);\n\n          // Show success message and hide upload animation\n          fileInputSuccess.setStyle({ display: \"flex\" });\n          uploadAnimation.setStyle({ display: \"none\" });\n\n          // Resolve with the uploaded image URL\n          resolve(imageUrl);\n        } else {\n          const errorMessage = \"Failed to upload profile picture.\";\n          toggleError(fileInputError, errorMessage, true);\n          uploadAnimation.setStyle({ display: \"none\" });\n          overlay.setStyle({ display: \"none\" });\n          dragCounter = 0;\n          // Reset file input value\n          (fileInput.getElement() as HTMLInputElement).value = \"\";\n        }\n      });\n\n      postRequest.onError((error) => {\n        let errorMessage = \"An error occurred during image upload.\";\n        if (error.response && error.response.data) {\n          errorMessage = error.response.data.message || errorMessage;\n        } else if (error.message) {\n          errorMessage = error.message;\n        }\n\n        // Show error message and hide upload animation\n        toggleError(fileInputError, errorMessage, true);\n        uploadAnimation.setStyle({ display: \"none\" });\n        overlay.setStyle({ display: \"none\" });\n        dragCounter = 0;\n        // Reset file input value\n        (fileInput.getElement() as HTMLInputElement).value = \"\";\n      });\n\n      // Make the API call\n      postRequest.fetch();\n    };\n\n    // Event listener for file input changes\n    fileInput.on(\"change\", () => {\n      const file = (fileInput.getElement() as HTMLInputElement).files?.[0];\n      if (file) {\n        handleFile(file);\n      }\n    });\n\n    // Event listeners for drag-and-drop\n    const dragZoneElement = document.body;\n    dragZoneElement.addEventListener(\"dragenter\", (event) => {\n      event.preventDefault();\n      dragCounter++;\n      if (dragCounter === 1) {\n        overlay.setStyle({ display: \"flex\" });\n      }\n    });\n\n    dragZoneElement.addEventListener(\"dragleave\", () => {\n      dragCounter--;\n      if (dragCounter <= 0) {\n        overlay.setStyle({ display: \"none\" });\n        dragCounter = 0;\n      }\n    });\n\n    dragZoneElement.addEventListener(\"dragover\", (event) => {\n      event.preventDefault();\n    });\n\n    dragZoneElement.addEventListener(\"drop\", (event) => {\n      event.preventDefault();\n\n      const files = event.dataTransfer?.files;\n      if (files?.length) {\n        handleFile(files[0]);\n      }\n\n      overlay.setStyle({ display: \"none\" });\n      dragCounter = 0;\n    });\n  });\n}\n\n// src/utils/formUtils.ts\n\n/**\n * Formats a phone number string to the format (xxx) xxx-xxxx.\n * If the input contains more than 10 digits, it truncates the extra digits.\n * If it contains fewer, it formats as much as possible.\n *\n * @param value - The raw phone number string.\n * @returns The formatted phone number string.\n */\nexport const formatPhoneNumber = (value: string): string => {\n  const cleaned = value.replace(/\\D/g, \"\"); // Remove all non-digit characters\n\n  if (cleaned.length <= 3) {\n    return cleaned;\n  } else if (cleaned.length <= 6) {\n    return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3)}`;\n  } else if (cleaned.length <= 10) {\n    return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3, 6)}-${cleaned.slice(\n      6\n    )}`;\n  } else {\n    // If more than 10 digits, truncate the extra digits\n    return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3, 6)}-${cleaned.slice(\n      6,\n      10\n    )}`;\n  }\n};\n","var t=require(\"@xatom/core\");var e,r,s,i,o,n,u={};e=u,r=\"WFImage\",s=()=>c,Object.defineProperty(e,r,{get:s,set:i,enumerable:!0,configurable:!0});class c extends t.WFComponent{constructor(t){super(t)}getImageConfig(){return this._config}getSrc(){return this.getAttribute(\"src\")}getSizes(){return this.getAttribute(\"sizes\")}getSrcSet(){return this.getAttribute(\"srcset\")}getLoading(){return this.getAttribute(\"loading\")}onLoad(t){return this.on(\"load\",t),()=>{this.off(\"load\",t)}}onLoadError(t){return this.on(\"error\",t),()=>{this.off(\"error\",t)}}setImage(t){if(\"string\"==typeof t)this.setAttribute(\"src\",t),this.removeAttribute(\"srcset\"),this.removeAttribute(\"sizes\");else{if(this.setAttribute(\"src\",t.src),\"object\"==typeof t&&t.srcSet&&t.srcSet.length&&t.sizes&&t.sizes.length){const e=t.srcSet.map((t=>`${t.url} ${t.size}`)).join(\", \");this.setAttribute(\"srcset\",e)}else this.removeAttribute(\"srcset\"),this.removeAttribute(\"sizes\");t.loading&&this.setAttribute(\"loading\",t.loading)}}}o=module.exports,n=u,Object.keys(n).forEach((function(t){\"default\"===t||\"__esModule\"===t||o.hasOwnProperty(t)||Object.defineProperty(o,t,{enumerable:!0,get:function(){return n[t]}})}));","import { WFComponent } from \"@xatom/core\";\nimport { toggleError } from \"./formUtils\";\n\nexport function validateNotEmpty(input: string | undefined): boolean {\n  return input !== undefined && input.trim() !== \"\";\n}\n\nexport function validateEmail(input: string): boolean {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailRegex.test(input);\n}\n\n/**\n * Validates that the email is either empty or correctly formatted.\n * @param value The email input value.\n * @returns True if valid, false otherwise.\n */\nexport const validateEmailOptional = (value: string): boolean => {\n  if (value.trim() === \"\") {\n    // Email is optional, so empty string is valid\n    return true;\n  }\n  // Validate the email format if not empty\n  return validateEmail(value);\n};\n\nexport function validatePasswordRequirements(password: string): boolean {\n  const hasLowercase = /[a-z]/.test(password);\n  const hasUppercase = /[A-Z]/.test(password);\n  const hasDigit = /\\d/.test(password);\n  const hasSpecialChar = /[!@#$%^&*(),.?\":{}|<>]/.test(password);\n  const hasValidLength = password.length >= 8;\n  return (\n    hasLowercase && hasUppercase && hasDigit && hasSpecialChar && hasValidLength\n  );\n}\n\nexport function validateCheckbox(checked: boolean): boolean {\n  return checked;\n}\n\nexport function validatePasswordsMatch(\n  originalPassword: string,\n  confirmPassword: string\n): boolean {\n  return originalPassword === confirmPassword;\n}\n\nexport function validateSelectField(input: string | undefined): boolean {\n  return input !== undefined && input !== \"N/A\";\n}\n\nexport function validatePhoneNumber(input: string): boolean {\n  const phoneRegex = /^\\(\\d{3}\\)\\s\\d{3}-\\d{4}$/;\n  return phoneRegex.test(input);\n}\n","var e=require(\"@xatom/core\"),s=require(\"uuid\");var t,i,r,l,d={};t=d,i=\"WFSlider\",r=()=>o,Object.defineProperty(t,i,{get:r,set:l,enumerable:!0,configurable:!0});const n=window.jQuery;class o extends e.WFComponent{_sliderConfig={};_slides=[];_defaultSwipeDisabled=!1;_index=0;_listeners=new Map;constructor(e){super(e),this.init()}init(){this._defaultSwipeDisabled=\"true\"===this.getAttribute(\"data-disable-swipe\"),this._sliderConfig=n(this.getElement()).data()[\".wSlider\"],this._slides=Array.from(this._sliderConfig.slides).map((s=>new(0,e.WFComponent)(s))),this._mask=new(0,e.WFComponent)(this._sliderConfig.mask[0]),this._nav=new(0,e.WFComponent)(this._sliderConfig.nav[0]),this._left=new(0,e.WFComponent)(this._sliderConfig.left[0]),this._right=new(0,e.WFComponent)(this._sliderConfig.right[0]),function(e,s){if(!document.styleSheets)return;if(0==document.getElementsByTagName(\"head\").length)return;let t,i;if(document.styleSheets.length>0)for(var r=0,l=document.styleSheets.length;r<l;r++)if(!document.styleSheets[r].disabled){var d=document.styleSheets[r].media;if(i=typeof d,\"string\"===i?\"\"!==d&&-1===d.indexOf(\"screen\")||(t=document.styleSheets[r]):\"object\"==i&&(\"\"!==d.mediaText&&-1===d.mediaText.indexOf(\"screen\")||(t=document.styleSheets[r])),void 0!==t)break}if(void 0===t){var n=document.createElement(\"style\");for(n.type=\"text/css\",document.getElementsByTagName(\"head\")[0].appendChild(n),r=0;r<document.styleSheets.length;r++)document.styleSheets[r].disabled||(t=document.styleSheets[r]);i=typeof t.media}if(\"string\"===i){for(r=0,l=t.rules.length;r<l;r++)if(t.rules[r].selectorText&&t.rules[r].selectorText.toLowerCase()==e.toLowerCase())return void(t.rules[r].style.cssText=s);t.addRule(e,s)}else if(\"object\"===i){var o=t.cssRules?t.cssRules.length:0;for(r=0;r<o;r++)if(t.cssRules[r].selectorText&&t.cssRules[r].selectorText.toLowerCase()==e.toLowerCase())return void(t.cssRules[r].style.cssText=s);t.insertRule(e+\"{\"+s+\"}\",o)}}(\".xa-slider-disable\",\"display:none !important;\");const s=this;Object.defineProperty(s._sliderConfig,\"index\",{set:function(e){s._index=e,s._triggerOnChange()},get:function(){return s._index}}),this.refereshSlides()}reloadWFSlider(){window.Webflow.require(\"slider\").destroy(),window.Webflow.require(\"slider\").redraw(),window.Webflow.require(\"slider\").ready()}refereshSlides(){this._mask.getChildAsComponents(\".w-slide\").forEach((e=>e.remove())),this._slides.reverse().forEach((e=>{this._mask.getElement().prepend(e.getElement())})),this._slides.reverse(),this.reloadWFSlider()}getActiveSlide(){return this._slides[this._index]}getAllSlides(){return[...this._slides]}getSlideByIndex(e){return this._slides[e]}getActiveSlideIndex(){return this._index}getPreviousSlideIndex(){return this._sliderConfig.previous}goNext(){this._sliderConfig.right.click()}goPrevious(){this._sliderConfig.left.click()}goToIndex(e){e>=0&&e<this._slides.length&&(console.log(e),n(this._sliderConfig.nav.children()[e]).click())}addSlide(s,t={}){const i=t.index,r=t.cssClass,l=(0,e.createComponent)(\"div\");l.addCssClass(\"w-slide\"),r&&l.addCssClass(r),l.appendChild(s);const d=\"number\"!=typeof i?-1:i,n=this._slides;d>=0&&d<=n.length?n.splice(i,0,l):n.push(l),this._slides=[...n],this.refereshSlides()}removeSlide(e){const s=[...this._slides];e>=0&&e<s.length&&s.splice(e,1),this._slides=[...s],console.log(this._slides),this.refereshSlides()}getSlideNav(){return this._nav}setSlideNavigationState(e){e?(this._left.removeCssClass(\"xa-slider-disable\"),this._right.removeCssClass(\"xa-slider-disable\"),this._nav.removeCssClass(\"xa-slider-disable\"),this.setAttribute(\"data-disable-swipe\",this._defaultSwipeDisabled?\"true\":\"false\")):(this._left.addCssClass(\"xa-slider-disable\"),this._right.addCssClass(\"xa-slider-disable\"),this._nav.addCssClass(\"xa-slider-disable\"),this.setAttribute(\"data-disable-swipe\",\"true\")),this.reloadWFSlider()}onSlideChange(e){const t=(0,s.v4)();return this._listeners.set(t,e),()=>{this._listeners.delete(t)}}_triggerOnChange(){Array.from(this._listeners.values()).forEach((e=>{e(this._index,this._sliderConfig.previous)}))}getConfig(){return this._sliderConfig}}var a,h;a=module.exports,h=d,Object.keys(h).forEach((function(e){\"default\"===e||\"__esModule\"===e||a.hasOwnProperty(e)||Object.defineProperty(a,e,{enumerable:!0,get:function(){return h[e]}})}));","// sidebarIndicators.ts\n\nimport { WFComponent } from \"@xatom/core\";\nimport { userAuth } from \"../../../auth/authConfig\";\n\n// Initialize the sidebar indicators\nexport const initializeSidebarIndicators = () => {\n  const steps = [\n    { id: \"sidebarStepOne\", index: 1 },\n    { id: \"sidebarStepTwo\", index: 2 },\n    { id: \"sidebarStepThree\", index: 3 },\n    { id: \"sidebarStepFour\", index: 4 },\n    { id: \"sidebarStepFive\", index: 5 },\n  ];\n\n  // Set sidebar first name from userAuth\n  const firstNameText = new WFComponent(\"#firstNameText\");\n  const user = userAuth.getUser();\n\n  if (user && user.profile && user.profile.first_name) {\n    firstNameText.setText(user.profile.first_name);\n  } else {\n    firstNameText.setText(\"Friend\");\n  }\n\n  steps.forEach((step) => {\n    const stepComponent = new WFComponent(`#${step.id}`);\n    let isCompleted = false; // Track the completed state\n\n    stepComponent.on(\"click\", () => {\n      if (isCompleted) {\n        isCompleted = false;\n        // Trigger reverse animation here if needed\n      } else {\n        isCompleted = true;\n        // Trigger completed animation here\n      }\n    });\n  });\n};\n\n// Set the active step\nexport const setActiveStep = (stepNumber: number) => {\n  const stepId = getStepId(stepNumber);\n  const stepComponent = new WFComponent(`#${stepId}`);\n  stepComponent.addCssClass(\"is-active\");\n};\n\n// Unset the active step\nexport const unsetActiveStep = (stepNumber: number) => {\n  const stepId = getStepId(stepNumber);\n  const stepComponent = new WFComponent(`#${stepId}`);\n  stepComponent.removeCssClass(\"is-active\");\n};\n\n// Mark step as completed\nexport const markStepAsCompleted = (stepNumber: number) => {\n  const stepId = getStepId(stepNumber);\n  const step = new WFComponent(`#${stepId}`);\n  step.getElement().click(); // Programmatically trigger the click event to mark as complete\n};\n\n// Unmark step as completed (reverse the completed animation)\nexport const unmarkStepAsCompleted = (stepNumber: number) => {\n  const stepId = getStepId(stepNumber);\n  const step = new WFComponent(`#${stepId}`);\n  step.getElement().click(); // Programmatically trigger the click event to unmark as complete\n};\n\n// Helper function to get the ID string for a step\nconst getStepId = (stepNumber: number): string => {\n  const stepMap: Record<number, string> = {\n    1: \"sidebarStepOne\",\n    2: \"sidebarStepTwo\",\n    3: \"sidebarStepThree\",\n    4: \"sidebarStepFour\",\n    5: \"sidebarStepFive\",\n  };\n  return stepMap[stepNumber] || `sidebarStep${stepNumber}`;\n};\n","import { WFComponent } from \"@xatom/core\";\nimport { fetchStudentProfiles } from \"../../../api/students\";\n// Function to display the action required dialog and prevent closing\nexport const displayActionRequiredDialog = () => {\n  const actionRequiredDialog = new WFComponent(\"#actionRequiredDialog\");\n  const alertDialogAnimationTrigger = new WFComponent(\n    \"#alertDialogAnimationTrigger\"\n  );\n  const pageMainElement = document.querySelector(\".page_main\");\n\n  // Show the dialog\n  (actionRequiredDialog.getElement() as HTMLDialogElement).showModal();\n\n  // Trigger any necessary animations\n  alertDialogAnimationTrigger.getElement().click();\n\n  // Set the data-brand attribute of .page_main to 5\n  if (pageMainElement) {\n    pageMainElement.setAttribute(\"data-brand\", \"5\");\n  }\n\n  // Prevent closing the dialog\n  actionRequiredDialog.getElement().addEventListener(\"cancel\", (event) => {\n    event.preventDefault();\n  });\n\n  actionRequiredDialog.getElement().addEventListener(\"close\", (event) => {\n    event.preventDefault();\n  });\n\n  // Prevent closing the dialog with the escape key\n  const preventEscapeClose = (event: KeyboardEvent) => {\n    if (event.key === \"Escape\") {\n      event.preventDefault();\n    }\n  };\n\n  document.addEventListener(\"keydown\", preventEscapeClose);\n};\n\n// Initialize the registration and check for student profiles\nexport const checkForStudents = async () => {\n  try {\n    const { students, showDialog } = await fetchStudentProfiles();\n\n    if (showDialog) {\n      displayActionRequiredDialog();\n    }\n\n    // Handle students data as needed\n    // For example, save to state, display, etc.\n  } catch (error) {\n    console.error(\"Error during registration initialization:\", error);\n  }\n};\n","// src/navigation/urlParamNavigator.ts\n\nimport { saveSelectedProgram } from \"../state/selectedProgram\";\nimport {\n  saveSelectedWorkshop,\n  resetSelectedWorkshop,\n} from \"../state/selectedWorkshop\";\nimport { initializeProgramList } from \"../../registration/programList\";\nimport { initializeWorkshopList } from \"../../registration/workshopList\";\nimport { initializeSessionList } from \"../../registration/sessionsList\";\nimport { WFSlider } from \"@xatom/slider\";\nimport {\n  initializeSidebarIndicators,\n  setActiveStep,\n  markStepAsCompleted,\n} from \"../../registration/components/sidebarIndicators\";\nimport { WFComponent } from \"@xatom/core\"; // Import WFComponent\nimport { apiClient } from \"../../../api/apiConfig\"; // Import apiClient\n\n// **Import the initializeAlertBoxEarly function**\nimport { initializeAlertBoxEarly } from \"../../registration/components/alertBoxEarly\";\n\n// Function to parse URL parameters\nconst getUrlParams = () => {\n  const params = new URLSearchParams(window.location.search);\n  const programId = params.get(\"program\");\n  const workshopId = params.get(\"workshop\");\n  const cancelId = params.get(\"cancel\"); // Extract 'cancel' parameter\n  return { programId, workshopId, cancelId };\n};\n\n// Function to initialize states based on URL parameters\nexport const initializeStateFromUrlParams = async (slider: WFSlider) => {\n  const { programId, workshopId, cancelId } = getUrlParams();\n  initializeSidebarIndicators(); // Initialize sidebar indicators\n\n  const loadingWall = new WFComponent(\".loading_wall\");\n  const animationDuration = 500; // Duration in milliseconds matching the CSS transition time\n\n  // Check if any relevant URL parameters are present\n  if (programId || workshopId || cancelId) {\n    // Show the loading wall\n    loadingWall.setStyle({ display: \"flex\" });\n\n    try {\n      // Handle cancellation if 'cancel' parameter is present\n      if (cancelId) {\n        // Create the DELETE request using AxiosClient\n        const deleteSubscription = apiClient.delete(\n          `/subscriptions/${cancelId}`\n        );\n\n        // Set up listeners for the DELETE request\n        await new Promise<void>((resolve, reject) => {\n          deleteSubscription.onData(() => {\n            console.log(`Subscription ${cancelId} canceled successfully`);\n\n            // Optional: Remove 'cancel' parameter from the URL to prevent repeated cancellations\n            const params = new URLSearchParams(window.location.search);\n            params.delete(\"cancel\");\n            const newUrl = `${window.location.pathname}${\n              params.toString() ? `?${params.toString()}` : \"\"\n            }`;\n            window.history.replaceState({}, document.title, newUrl);\n\n            resolve(); // Resolve the promise on successful deletion\n          });\n\n          deleteSubscription.onError((error) => {\n            console.error(`Failed to cancel subscription ${cancelId}:`, error);\n            // Optional: Display an error message to the user here\n            reject(error); // Reject the promise on error\n          });\n\n          // Initiate the DELETE request\n          deleteSubscription.fetch();\n        });\n      }\n\n      // Initialize the program list\n      await initializeProgramList();\n\n      if (programId) {\n        // Select the program based on the URL parameter\n        const programComponent = document.querySelector(\n          `input[value=\"${programId}\"]`\n        );\n        if (programComponent) {\n          (programComponent as HTMLInputElement).checked = true;\n          programComponent.dispatchEvent(new Event(\"change\"));\n          markStepAsCompleted(1);\n          setActiveStep(2);\n\n          // Initialize the workshop list for the selected program\n          await initializeWorkshopList(programId);\n\n          if (workshopId && workshopId === \"none\") {\n            // Skip workshop selection and navigate to session list initialization\n            resetSelectedWorkshop();\n            markStepAsCompleted(2);\n            setActiveStep(3);\n            await initializeSessionList(null, programId);\n            slider.goToIndex(2); // Navigate to the session selection slide\n          } else if (workshopId) {\n            // Select the workshop based on the URL parameter\n            const workshopComponent = document.querySelector(\n              `input[value=\"${workshopId}\"]`\n            );\n            if (workshopComponent) {\n              (workshopComponent as HTMLInputElement).checked = true;\n              workshopComponent.dispatchEvent(new Event(\"change\"));\n              markStepAsCompleted(2);\n              setActiveStep(3);\n\n              // Initialize the session list for the selected workshop\n              await initializeSessionList(workshopId, programId);\n              slider.goToIndex(2); // Navigate to the session selection slide\n            } else {\n              console.error(`Workshop with ID ${workshopId} not found`);\n              slider.goToIndex(1); // Navigate to the workshop selection slide\n            }\n          } else {\n            resetSelectedWorkshop();\n            slider.goToIndex(1); // Navigate to the workshop selection slide\n          }\n        } else {\n          console.error(`Program with ID ${programId} not found`);\n          slider.goToIndex(0); // Navigate to the program selection slide\n        }\n      } else {\n        slider.goToIndex(0); // Navigate to the first slide if no program selected\n      }\n    } catch (error) {\n      console.error(\"Error initializing state from URL parameters:\", error);\n      slider.goToIndex(0); // Navigate to the program selection slide on error\n    } finally {\n      // Hide the loading wall after completing all initializations\n      loadingWall.addCssClass(\"hidden\");\n      setTimeout(\n        () => loadingWall.setStyle({ display: \"none\" }),\n        animationDuration\n      );\n\n      // **Initialize the early registration alert box**\n      initializeAlertBoxEarly();\n    }\n  }\n};\n"],"names":[],"version":3,"file":"programRegistration.8f6100d7.js.map","sourceRoot":"../"}