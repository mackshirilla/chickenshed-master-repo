!function(e,t,s,r,n){var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i="function"==typeof o[r]&&o[r],a=i.cache||{},l="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function d(t,s){if(!a[t]){if(!e[t]){var n="function"==typeof o[r]&&o[r];if(!s&&n)return n(t,!0);if(i)return i(t,!0);if(l&&"string"==typeof t)return l(t);var c=Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}m.resolve=function(s){var r=e[t][1][s];return null!=r?r:s},m.cache={};var p=a[t]=new d.Module(t);e[t][0].call(p.exports,m,p,p.exports,this)}return a[t].exports;function m(e){var t=m.resolve(e);return!1===t?{}:d(t)}}d.isParcelRequire=!0,d.Module=function(e){this.id=e,this.bundle=d,this.exports={}},d.modules=e,d.cache=a,d.parent=i,d.register=function(t,s){e[t]=[function(e,t){t.exports=s},{}]},Object.defineProperty(d,"root",{get:function(){return o[r]}}),o[r]=d;for(var c=0;c<t.length;c++)d(t[c])}({QiELz:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"programRegistration",()=>S);var n=e("./programList"),o=e("./workshopList"),i=e("./sessionsList"),a=e("./checkoutPreview"),l=e("./state/selectedProgram"),d=e("./state/selectedWorkshop"),c=e("@xatom/core"),p=e("@xatom/slider"),m=e("./components/sidebarIndicators"),u=e("./components/dialogHandler"),g=e("./components/urlParamNavigator"),h=e("./state/registrationState"),f=e("../../api/apiConfig");let S=async()=>{window.onload=function(){localStorage.removeItem("registrationState")},(0,m.initializeSidebarIndicators)(),(0,m.setActiveStep)(1),await (0,n.initializeProgramList)(),await (0,u.checkForStudents)();let e=new p.WFSlider(".multi-step_form_slider");y(e),await (0,g.initializeStateFromUrlParams)(e)},y=e=>{let t=new c.WFComponent("#submitStepOne"),s=new c.WFComponent("#submitStepOneError"),r=new c.WFComponent("#stepOneRequestingAnimation");t.on("click",async t=>{t.preventDefault();let n=(0,l.loadSelectedProgram)();if(!n.id){s.setText("Please select a program before proceeding."),s.setStyle({display:"block"});return}s.setStyle({display:"none"}),r.setStyle({display:"block"});try{await (0,o.initializeWorkshopList)(n.id),e.goNext(),(0,m.markStepAsCompleted)(1),(0,m.setActiveStep)(2),(0,d.resetSelectedWorkshop)()}catch(e){console.error("Error loading workshops:",e)}finally{r.setStyle({display:"none"})}}),new c.WFComponent("#backStepTwo").on("click",()=>{e.goPrevious(),(0,m.unmarkStepAsCompleted)(1),(0,m.unsetActiveStep)(2),(0,d.resetSelectedWorkshop)()});let n=new c.WFComponent("#submitStepTwo"),p=new c.WFComponent("#stepTwoRequestingAnimation"),u=new c.WFComponent("#submitStepTwoError");n.on("click",async t=>{t.preventDefault();let s=(0,d.loadSelectedWorkshop)(),r=(0,l.loadSelectedProgram)(),n=document.querySelector("#selectWorkshopList");if(0!==(n?.querySelectorAll("#cardSelectWorkshop")||[]).length&&!s.id){u.setText("Please select a workshop before proceeding."),u.setStyle({display:"block"});return}u.setStyle({display:"none"}),p.setStyle({display:"block"});try{await (0,i.initializeSessionList)(s.id,r.id),e.goNext(),(0,m.markStepAsCompleted)(2),(0,m.setActiveStep)(3)}catch(e){console.error("Error loading sessions:",e)}finally{p.setStyle({display:"none"})}}),new c.WFComponent("#backStepThree").on("click",()=>{e.goPrevious(),(0,m.unmarkStepAsCompleted)(2),(0,m.unsetActiveStep)(3)});let g=new c.WFComponent("#submitStepThree"),S=new c.WFComponent("#stepThreeRequestingAnimation"),y=new c.WFComponent("#submitStepThreeError");g.on("click",async t=>{t.preventDefault(),S.setStyle({display:"block"});try{await (0,i.validateAndSubmitSessions)()?(await (0,a.initializeCheckoutPreview)(),e.goNext(),(0,m.markStepAsCompleted)(3),(0,m.setActiveStep)(4)):(y.setText("Please select sessions and students before proceeding."),y.setStyle({display:"block"}))}catch(e){console.error("Error during session submission:",e),y.setText("An error occurred. Please try again."),y.setStyle({display:"block"})}finally{S.setStyle({display:"none"})}}),new c.WFComponent("#backStepFour").on("click",()=>{e.goPrevious(),(0,m.unmarkStepAsCompleted)(3),(0,m.unsetActiveStep)(4)});let w=new c.WFComponent("#submitStepFour"),v=new c.WFComponent("#stepFourRequestingAnimation"),C=new c.WFComponent("#submitStepFourError");w.on("click",async e=>{e.preventDefault(),v.setStyle({display:"block"});try{let e=(0,h.loadState)(),t=await (0,f.apiClient).post("/session_registrations/begin_checkout",{data:e}).fetch();console.log("Registration checkout response:",t),(0,m.markStepAsCompleted)(4),t.setup_url?window.location.href=t.setup_url:window.location.href=t.checkout_url}catch(e){console.error("Error during registration checkout:",e),C.setText("An error occurred during registration checkout. Please try again."),C.setStyle({display:"block"})}finally{v.setStyle({display:"none"})}})}},{"./programList":"9PvQg","./workshopList":"caQhI","./sessionsList":"8yBQ3","./checkoutPreview":"1avQb","./state/selectedProgram":"9SM9a","./state/selectedWorkshop":"1ahaO","@xatom/core":"65YBq","@xatom/slider":"ejxGx","./components/sidebarIndicators":"9yhwg","./components/dialogHandler":"euoMA","./components/urlParamNavigator":"fW1lZ","./state/registrationState":"2Pbtv","../../api/apiConfig":"dUmIV","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],"9PvQg":[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"initializeProgramList",()=>l);var n=e("../../api/programs"),o=e("./state/selectedProgram"),i=e("@xatom/core");let a=null,l=async()=>{let e="#selectProgramList",t=document.querySelector(e);if(!t){console.error("Program list container not found");return}a?(t.innerHTML="",t.appendChild(a.cloneNode(!0))):a=t.cloneNode(!0);let s=new i.WFDynamicList(e,{rowSelector:"#cardSelectProgram",loaderSelector:"#programListLoading",emptySelector:"#programListEmpty"});s.loaderRenderer(e=>(e.setStyle({display:"flex"}),e)),s.emptyRenderer(e=>(e.setStyle({display:"flex"}),e));try{let e=await (0,n.fetchPrograms)();s.rowRenderer(({rowData:e,rowElement:t,index:s})=>{let r=new i.WFComponent(t),n=r.getChildAsComponent("#cardProgramTitle"),a=r.getChildAsComponent("#cardProgramDescription"),l=r.getChildAsComponent("#cardProgramAges"),d=r.getChildAsComponent("#cardProgramImage"),c=r.getChildAsComponent(".input_card_input"),p=`programInput-${s}`;c.setAttribute("id",p),c.setAttribute("name","program"),c.setAttribute("value",e.id),r.getChildAsComponent("label").setAttribute("for",p),n.setText(e.fieldData.name),a.setText(e.fieldData["short-description"]),l.setText(e.fieldData["age-range"]),d.setAttribute("src",e.fieldData["main-image"].url);let m=r.getChildAsComponent("#registrationTrue");return!0===e.registered?(m.setStyle({display:"flex"}),c.setAttribute("disabled","true")):(m.setStyle({display:"none"}),c.removeAttribute("disabled")),c.on("change",()=>{(0,o.saveSelectedProgram)({id:e.id,name:e.fieldData.name,imageUrl:e.fieldData["main-image"].url,ageRange:e.fieldData["age-range"]})}),t.setStyle({display:"flex"}),t}),s.setData(e)}catch(e){console.error("Error loading programs:",e),s.setData([])}}},{"../../api/programs":"emoCP","./state/selectedProgram":"9SM9a","@xatom/core":"65YBq","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],emoCP:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"fetchPrograms",()=>o),r.export(s,"fetchProgramById",()=>i);var n=e("./apiConfig");let o=async()=>{try{return(await (0,n.apiClient).get("/registration/programs").fetch()).programs}catch(e){throw console.error("Error fetching programs:",e),e}},i=async e=>{try{return(await o()).find(t=>t.id===e)||null}catch(t){return console.error(`Error fetching program with ID ${e}:`,t),null}}},{"./apiConfig":"dUmIV","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],"9SM9a":[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"loadSelectedProgram",()=>n),r.export(s,"saveSelectedProgram",()=>o);let n=()=>{let e=JSON.parse(localStorage.getItem("registrationState")||"{}");return{id:e.selectedProgramId||null,name:e.selectedProgramName||null,imageUrl:e.selectedProgramImageUrl||null,ageRange:e.selectedProgramAgeRange||null}},o=e=>{let t=JSON.parse(localStorage.getItem("registrationState")||"{}");t.selectedProgramId=e.id,t.selectedProgramName=e.name,t.selectedProgramImageUrl=e.imageUrl,t.selectedProgramAgeRange=e.ageRange,console.log("Saving selected program to state:",t),localStorage.setItem("registrationState",JSON.stringify(t))}},{"@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],caQhI:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"initializeWorkshopList",()=>l);var n=e("../../api/workshops"),o=e("./state/selectedWorkshop"),i=e("@xatom/core");let a=null,l=async e=>{let t="#selectWorkshopList",s=document.querySelector(t);if(!s){console.error("Workshop list container not found");return}a?(s.innerHTML="",s.appendChild(a.cloneNode(!0))):a=s.cloneNode(!0);let r=new i.WFDynamicList(t,{rowSelector:"#cardSelectWorkshop",loaderSelector:"#workshopListLoading",emptySelector:"#workshopListEmpty"});r.loaderRenderer(e=>(e.setStyle({display:"flex"}),e)),r.emptyRenderer(e=>(e.setStyle({display:"flex"}),e));try{let t=await (0,n.fetchWorkshops)(e),s=(Array.isArray(t)?t:[]).sort((e,t)=>e.fieldData.name.localeCompare(t.fieldData.name));r.rowRenderer(({rowData:e,rowElement:t,index:s})=>{let r=new i.WFComponent(t),n=r.getChildAsComponent("#cardWorkshopTitle"),a=r.getChildAsComponent("#cardWorkshopDescription"),l=r.getChildAsComponent("#cardWorkshopAges"),d=r.getChildAsComponent("#cardWorkshopImage"),c=r.getChildAsComponent(".input_card_input"),p=`workshopInput-${s}`;c.setAttribute("id",p),c.setAttribute("name","workshop"),c.setAttribute("value",e.id),r.getChildAsComponent("label").setAttribute("for",p),n.setText(e.fieldData.name),a.setText(e.fieldData["short-description"]),l.setText(e.fieldData["age-range"]),d.setAttribute("src",e.fieldData["main-image"].url);let m=r.getChildAsComponent("#registrationTrue");return!0===e.registered?(m.setStyle({display:"flex"}),c.setAttribute("disabled","true")):(m.setStyle({display:"none"}),c.removeAttribute("disabled")),c.on("change",()=>{(0,o.saveSelectedWorkshop)({id:e.id,name:e.fieldData.name,imageUrl:e.fieldData["main-image"].url,ageRange:e.fieldData["age-range"]})}),t.setStyle({display:"flex"}),t}),r.setData(s)}catch(e){console.error("Error loading workshops:",e),r.setData([])}}},{"../../api/workshops":"6oDbq","./state/selectedWorkshop":"1ahaO","@xatom/core":"65YBq","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],"6oDbq":[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"fetchWorkshops",()=>o),r.export(s,"fetchWorkshopById",()=>i);var n=e("./apiConfig");let o=async e=>{try{return(await (0,n.apiClient).get(`/registration/workshops?program_id=${e}`).fetch()).workshops}catch(e){throw console.error("Error fetching workshops:",e),e}},i=async e=>{try{return(await (0,n.apiClient).get(`/registration/workshops/${e}`).fetch()).workshop||null}catch(t){return console.error(`Error fetching workshop with ID ${e}:`,t),null}}},{"./apiConfig":"dUmIV","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],"1ahaO":[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"loadSelectedWorkshop",()=>n),r.export(s,"saveSelectedWorkshop",()=>o),r.export(s,"resetSelectedWorkshop",()=>i);let n=()=>{let e=JSON.parse(localStorage.getItem("registrationState")||"{}");return{id:e.selectedWorkshopId||null,name:e.selectedWorkshopName||null,imageUrl:e.selectedWorkshopImageUrl||null,ageRange:e.selectedWorkshopAgeRange||null}},o=e=>{let t=JSON.parse(localStorage.getItem("registrationState")||"{}");t.selectedWorkshopId=e.id,t.selectedWorkshopName=e.name,t.selectedWorkshopImageUrl=e.imageUrl,t.selectedWorkshopAgeRange=e.ageRange,console.log("Saving selected workshop to state:",t),localStorage.setItem("registrationState",JSON.stringify(t))},i=()=>{let e=JSON.parse(localStorage.getItem("registrationState")||"{}");delete e.selectedWorkshopId,delete e.selectedWorkshopName,delete e.selectedWorkshopImageUrl,delete e.selectedWorkshopAgeRange,console.log("Resetting selected workshop in state:",e),localStorage.setItem("registrationState",JSON.stringify(e))}},{"@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],"8yBQ3":[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"initializeSessionList",()=>m),r.export(s,"validateAndSubmitSessions",()=>S);var n=e("../../api/sessions"),o=e("./utils/updateUi"),i=e("../../api/students"),a=e("./state/selectedSessions"),l=e("./state/registrationState"),d=e("@xatom/core");let c=null,p=[],m=async(e,t)=>{let s="#selectSessionList",r=document.querySelector(s);if(!r){console.error("Session list container not found");return}(0,a.resetSelectedSessions)(),c?(r.innerHTML="",r.appendChild(c.cloneNode(!0))):c=r.cloneNode(!0);let m=new d.WFDynamicList(s,{rowSelector:"#sessionSelectWrap",loaderSelector:"#sessionListLoading",emptySelector:"#sessionListEmpty"});m.loaderRenderer(e=>(e.setStyle({display:"flex"}),e)),m.emptyRenderer(e=>(e.setStyle({display:"flex"}),e));let f=[];try{let{students:e}=await (0,i.fetchStudentProfiles)();f=e}catch(e){console.error("Error fetching student profiles:",e)}m.rowRenderer(({rowData:e,rowElement:t,index:s})=>{let r=new d.WFComponent(t),n=r.getChildAsComponent("#cardSessionWeekday"),o=r.getChildAsComponent("#cardSessionTime"),i=r.getChildAsComponent("#cardSessionLocation"),l=r.getChildAsComponent("#cardSessionPrice"),c=r.getChildAsComponent("#cardSessionInput"),p=r.getChildAsComponent("#selectStudentsList"),m=r.getChildAsComponent(".hidden_form_field-wrap"),g=`sessionInput-${s}`;c.setAttribute("id",g),c.setAttribute("value",e.id),r.getChildAsComponent("label").setAttribute("for",g),n.setText(e.fieldData.weekday),o.setText(e.fieldData["time-block"]),i.setText(e.fieldData.location);let h=u(l,e);return p.removeAllChildren(),f.forEach(t=>{let s=t.id,r=`${g}-student-${s}`,n=new d.WFComponent(document.createElement("label"));n.addCssClass("pill-item"),n.setAttribute("for",r);let o=new d.WFComponent(document.createElement("input"));o.setAttribute("type","checkbox"),o.addCssClass("pill-checkbox"),o.setAttribute("id",r),o.setAttribute("name","selectedStudents"),o.setAttribute("value",s.toString());let i=new d.WFComponent(document.createElement("span"));i.addCssClass("pill-label"),i.addCssClass("has-icon"),i.setText(`${t.first_name} ${t.last_name}`);let l=new d.WFComponent(document.createElement("div"));l.addCssClass("pill-icon"),l.addCssClass("w-embed"),l.setHTML('<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 16.2l-3.5-3.5c-.39-.39-1.01-.39-1.4 0-.39.39-.39 1.01 0 1.4l4.19 4.19c.39.39 1.02.39 1.41 0L20.3 7.7c.39-.39.39-1.01 0-1.4-.39-.39-1.01-.39-1.4 0L9 16.2z"></path></svg>'),n.appendChild(o),n.appendChild(i),n.appendChild(l),p.appendChild(n),o.on("change",()=>{let t=o.getElement(),s=parseInt(t.value),r=new CustomEvent("sessionChanged",{detail:{sessionId:e.id,studentId:s,checked:t.checked,initialPriceSelection:h}});document.dispatchEvent(r),(0,a.updateSelectedSessions)(e.id,s,t.checked)})}),c.on("change",()=>{c.getElement().checked?m.setStyle({display:"flex"}):(m.setStyle({display:"none"}),p.getChildAsComponents(".pill-checkbox").forEach(t=>{let s=t.getElement();s.checked=!1;let r=parseInt(s.value),n=new CustomEvent("sessionChanged",{detail:{sessionId:e.id,studentId:r,checked:!1,initialPriceSelection:h}});document.dispatchEvent(n),(0,a.updateSelectedSessions)(e.id,r,!1)}))}),t.setStyle({display:"flex"}),t});try{m.changeLoadingStatus(!0);let s=await (0,n.fetchSessions)(e,t);if(Array.isArray(s)&&s.length>0){p=s,m.setData(s);let e=(0,l.loadState)();e.selectedPricingOption||(e.selectedPricingOption="Annual",(0,l.saveState)(e)),g()}else m.setData([]);m.changeLoadingStatus(!1)}catch(e){console.error("Error loading sessions:",e),m.setData([]),m.changeLoadingStatus(!1)}document.querySelector("#updatePriceAnnual")?.addEventListener("change",()=>{l.logPricingOption("Annual"),g()}),document.querySelector("#updatePriceMonthly")?.addEventListener("change",()=>{l.logPricingOption("Monthly"),g()}),document.querySelector("#updatePriceSemester")?.addEventListener("change",()=>{l.logPricingOption("Pay-Per-Semester"),g()}),document.querySelector("#updatePriceDeposit")?.addEventListener("change",()=>{l.logPricingOption("Deposit"),g()}),h(),(0,o.updateSelectedItemUI)()};(0,o.updateSelectedItemUI)();let u=(e,t)=>{let s;switch(JSON.parse(localStorage.getItem("registrationState")||"{}").selectedPricingOption||"Annual"){case"Annual":s=t.fieldData["displayed-annual-price"];break;case"Monthly":s=t.fieldData["displayed-monthly-price"];break;case"Pay-Per-Semester":s=t.fieldData["displayed-one-off-price"];break;case"Deposit":s=t.fieldData["displayed-deposit-price"];break;default:s=""}return e.setText(s),s},g=()=>{document.querySelectorAll("#sessionSelectWrap").forEach(e=>{let t=e.querySelector("#cardSessionPrice"),s=new d.WFComponent(t),r=e.querySelector(".session-input").value,n=p.find(e=>e.id===r);s&&n&&u(s,n)})},h=()=>{let e=document.getElementById("singleSelectInput");e&&e.addEventListener("change",e=>{f(e.target.value)})},f=e=>{document.querySelectorAll("#sessionSelectWrap").forEach(t=>{let s=t.querySelector("#cardSessionLocation"),r=s?.textContent||"";"N/A"===e||r===e?t.style.display="flex":t.style.display="none"})},S=()=>{let e=JSON.parse(localStorage.getItem("registrationState")||"{}"),t=new d.WFComponent("#submitStepThreeError");if(!e.selectedSessions||0===e.selectedSessions.length)return t.setText("Please select at least one session."),t.setStyle({display:"block"}),!1;for(let s of e.selectedSessions)if(!s.studentIds||0===s.studentIds.length)return t.setText("Please select at least one student for each session."),t.setStyle({display:"block"}),!1;return t.setStyle({display:"none"}),(0,l.saveState)(e),!0}},{"../../api/sessions":"gSiEx","./utils/updateUi":"f5R2n","../../api/students":"9PiOd","./state/selectedSessions":"9QhCf","./state/registrationState":"2Pbtv","@xatom/core":"65YBq","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],gSiEx:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"fetchSessions",()=>o);var n=e("./apiConfig");let o=async(e,t)=>{try{return(await (0,n.apiClient).get(`/registration/sessions?workshop_id=${e}&program_id=${t}`).fetch()).sessions||[]}catch(e){throw console.error("Error fetching sessions:",e),e}}},{"./apiConfig":"dUmIV","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],f5R2n:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"updateSelectedItemUI",()=>a);var n=e("../state/selectedProgram"),o=e("../state/selectedWorkshop"),i=e("@xatom/core");let a=()=>{let e=(0,n.loadSelectedProgram)(),t=(0,o.loadSelectedWorkshop)(),s=new i.WFComponent("#selectedProgramTitle"),r=new i.WFComponent("#selectedWorkshopTitle"),a=new i.WFComponent("#selectedAgeRange"),l=new i.WFComponent("#selectedImage"),d=new i.WFComponent("#selectedProgramTitleFinal"),c=new i.WFComponent("#selectedWorkshopTitleFinal"),p=new i.WFComponent("#selectedAgeRangeFinal"),m=new i.WFComponent("#selectedImageFinal"),u=(s,r,n,o)=>{if(s.setText(e.name),t.id){r.setText(t.name),r.setStyle({display:"block"}),n.setText(t.ageRange);let s=t.imageUrl||e.imageUrl;o.setAttribute("src",s)}else r.setStyle({display:"none"}),n.setText(e.ageRange),o.setAttribute("src",e.imageUrl)};e.id&&u(s,r,a,l),e.id&&u(d,c,p,m)}},{"../state/selectedProgram":"9SM9a","../state/selectedWorkshop":"1ahaO","@xatom/core":"65YBq","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],"9PiOd":[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"fetchStudentProfiles",()=>i);var n=e("./apiConfig"),o=e("../modules/registration/state/registrationState");let i=async()=>{try{let e=await (0,n.apiClient).get("/profiles/student_profiles").fetch();if(!e.students)return console.error("No students property in response"),{students:[],showDialog:!0};{let t=e.students.filter(e=>"Pending"===e.Status).map(e=>`${e.first_name} ${e.last_name}`);return console.log("Pending Students:",t),(0,o.saveState)({pendingStudents:t}),{students:e.students,showDialog:0===e.students.length}}}catch(e){return console.error("Error fetching student profiles:",e),{students:[],showDialog:!0}}}},{"./apiConfig":"dUmIV","../modules/registration/state/registrationState":"2Pbtv","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],"2Pbtv":[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"loadState",()=>n),r.export(s,"saveState",()=>o),r.export(s,"logPricingOption",()=>i),r.export(s,"getPendingStudents",()=>a);let n=()=>{let e=localStorage.getItem("registrationState");return e?JSON.parse(e):{}},o=e=>{let t={...n(),...e};localStorage.setItem("registrationState",JSON.stringify(t))},i=e=>{o({selectedPricingOption:e})},a=()=>n().pendingStudents||[]},{"@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],"9QhCf":[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"loadSelectedSession",()=>n),r.export(s,"saveSelectedSession",()=>o),r.export(s,"resetSelectedSessions",()=>i),r.export(s,"updateSelectedSessions",()=>a);let n=()=>JSON.parse(localStorage.getItem("registrationState")||"{}").selectedSession||null,o=e=>{let t=JSON.parse(localStorage.getItem("registrationState")||"{}");t.selectedSession=e,localStorage.setItem("registrationState",JSON.stringify(t))},i=()=>{let e=JSON.parse(localStorage.getItem("registrationState")||"{}");e.selectedSessions=[],localStorage.setItem("registrationState",JSON.stringify(e))},a=(e,t,s)=>{let r=JSON.parse(localStorage.getItem("registrationState")||"{}");r.selectedSessions||(r.selectedSessions=[]);let n=r.selectedSessions.find(t=>t.sessionId===e);s?n?n.studentIds.includes(t)||n.studentIds.push(t):(n={sessionId:e,studentIds:[t]},r.selectedSessions.push(n)):n&&(n.studentIds=n.studentIds.filter(e=>e!==t),0===n.studentIds.length&&(r.selectedSessions=r.selectedSessions.filter(t=>t.sessionId!==e))),localStorage.setItem("registrationState",JSON.stringify(r))}},{"@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],"1avQb":[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"initializeCheckoutPreview",()=>u);var n=e("./utils/updateUi"),o=e("../../api/apiConfig"),i=e("./state/registrationState"),a=e("./components/alertBox"),l=e("./components/primaryPaymentRadios"),d=e("./components/secondaryPaymentRadios"),c=e("./components/lineItems"),p=e("./components/updateTotalAmount"),m=e("./components/financialAid");let u=async()=>{try{let e=(0,i.loadState)(),t=await (0,o.apiClient).post("/registration/checkout-preview",{data:e}).fetch();console.log("Checkout Preview Data:",t),(0,n.updateSelectedItemUI)(),(0,a.initializeAlertBox)();let{selectedPricingOption:s}=t,r={annual_line_items:t.annual_line_items,monthly_line_items:t.monthly_line_items,semester_line_items:t.semester_line_items,deposit_line_items:t.deposit_line_items};(0,i.saveState)({checkoutPreview:t,selectedPricingOption:s}),(0,l.initializePrimaryPaymentRadios)(s),(0,d.initializeSecondaryPaymentRadios)(s),(0,m.initializeFinancialAid)();let u=(0,c.getLineItemsForSelectedOption)(s,r);(0,c.renderLineItems)(u),(0,p.updateTotalAmount)()}catch(e){console.error("Error fetching checkout preview data:",e)}}},{"./utils/updateUi":"f5R2n","../../api/apiConfig":"dUmIV","./state/registrationState":"2Pbtv","./components/alertBox":"bIj2D","./components/primaryPaymentRadios":"c4bfd","./components/secondaryPaymentRadios":"cOYTV","./components/lineItems":"hN0Ua","./components/updateTotalAmount":"l9HwZ","./components/financialAid":"dDV9Y","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],bIj2D:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"initializeAlertBox",()=>o);var n=e("../state/registrationState");let o=()=>{let e=document.querySelector("#alertBox"),t=document.querySelector("#alertPendingStudentList");if(!e||!t){console.error("Alert box elements not found");return}let s=(0,n.getPendingStudents)();s.length>0?(e.style.display="flex",t.innerHTML=s.map(e=>`<li>${e}</li>`).join("")):e.style.display="none"}},{"../state/registrationState":"2Pbtv","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],c4bfd:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"initializePrimaryPaymentRadios",()=>l);var n=e("@xatom/core"),o=e("../state/registrationState"),i=e("./lineItems"),a=e("./updateTotalAmount");let l=e=>{let t=[{key:"Annual",id:"annualPlan",wrapId:"annualRadioWrap"},{key:"Monthly",id:"monthlyPlan",wrapId:"monthlyRadioWrap"},{key:"Pay-Per-Semester",id:"semesterPlan",wrapId:"semesterRadioWrap"},{key:"Deposit",id:"deposit",wrapId:"depositRadioWrap"}];t.forEach(t=>{let s=new(0,n.WFComponent)(`#${t.id}`).getElement(),r=new(0,n.WFComponent)(`#${t.wrapId}`).getElement();t.key===e?(s.checked=!0,r.classList.remove("is-disabled"),s.disabled=!1):"Deposit"===e?"Deposit"!==t.key?(r.classList.add("is-disabled"),s.disabled=!0):(r.classList.remove("is-disabled"),s.disabled=!1,s.checked=!0):"Deposit"===t.key?(r.classList.add("is-disabled"),s.disabled=!0):(r.classList.remove("is-disabled"),s.disabled=!1)}),t.forEach(e=>{new(0,n.WFComponent)(`#${e.id}`).getElement().addEventListener("change",e=>{let t=e.target;if(t.checked){(0,o.saveState)({selectedPricingOption:t.value});let e=(0,o.loadState)(),s={annual_line_items:e.checkoutPreview?.annual_line_items??[],monthly_line_items:e.checkoutPreview?.monthly_line_items??[],semester_line_items:e.checkoutPreview?.semester_line_items??[],deposit_line_items:e.checkoutPreview?.deposit_line_items??[]},r=(0,i.getLineItemsForSelectedOption)(t.value,s);(0,i.renderLineItems)(r),(0,a.updateTotalAmount)(),console.log(`Primary pricing option selected: ${t.value}`)}})})}},{"@xatom/core":"65YBq","../state/registrationState":"2Pbtv","./lineItems":"hN0Ua","./updateTotalAmount":"l9HwZ","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],hN0Ua:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"renderLineItems",()=>o),r.export(s,"getLineItemsForSelectedOption",()=>i);var n=e("@xatom/core");let o=e=>{let t=new n.WFComponent("#lineItemList");t.removeAllChildren(),e.forEach(e=>{let s=document.createElement("tr");s.className="table_row";let r=document.createElement("td");r.className="table_cell",r.textContent=e.product_name,s.appendChild(r);let n=document.createElement("td");n.className="table_cell",n.textContent=`$${e.unit_amount}`,s.appendChild(n);let o=document.createElement("td");o.className="table_cell",o.textContent=`${e.quantity}`,s.appendChild(o);let i=document.createElement("td");i.className="table_cell",i.textContent=`$${e.total_amount}`,s.appendChild(i),t.getElement().appendChild(s)})},i=(e,t)=>{switch(e){case"Annual":return t.annual_line_items;case"Monthly":return t.monthly_line_items;case"Pay-Per-Semester":return t.semester_line_items;case"Deposit":return t.deposit_line_items;default:return console.warn("Unknown pricing option:",e),[]}}},{"@xatom/core":"65YBq","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],l9HwZ:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"updateTotalAmount",()=>a);var n=e("@xatom/core"),o=e("../state/registrationState"),i=e("../utils/formatting");let a=()=>{let e,t;let s=(0,o.loadState)(),r=new n.WFComponent("#primaryTotalAmount"),a=new n.WFComponent("#primaryOriginalAmount"),l=new n.WFComponent("#primaryDiscountPill"),d=new n.WFComponent("#primaryDiscountNumber"),c="";switch(s.selectedPricingOption){case"Annual":t=s.checkoutPreview?.annual_amount_due,c="Per Year";break;case"Monthly":t=s.checkoutPreview?.monthly_amount_due,c="Per Month";break;case"Pay-Per-Semester":t=s.checkoutPreview?.semester_amount_due,c="Per Semester";break;case"Deposit":t=s.checkoutPreview?.deposit_amount_due,c="";break;default:console.warn("Unknown pricing option:",s.selectedPricingOption)}if(s.selected_discount&&"Deposit"!==s.selectedPricingOption){let r=parseFloat(s.selected_discount);e=t?t*(1-r/100):0,l.setStyle({display:"block"}),d.setText(`${r}%`),a.setText(`was ${(0,i.formatCurrency)(t)} ${c}`),a.setStyle({display:"block"})}else e=t,l.setStyle({display:"none"}),a.setStyle({display:"none"});void 0!==e?r.setText(`${(0,i.formatCurrency)(e)} ${c}`):r.setText(`$0.00 ${c}`)}},{"@xatom/core":"65YBq","../state/registrationState":"2Pbtv","../utils/formatting":"fevto","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],fevto:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"formatCurrency",()=>n);let n=e=>{let t="string"==typeof e?parseFloat(e):e;return isNaN(t)?"$0.00":t.toLocaleString("en-US",{style:"currency",currency:"USD"})}},{"@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],cOYTV:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"initializeSecondaryPaymentRadios",()=>a);var n=e("@xatom/core"),o=e("../state/registrationState"),i=e("./updateSecondaryTotalAmount");let a=e=>{let t=new n.WFComponent("#hiddenSecondaryPricing"),s=new n.WFComponent("#secondaryAmountWrap"),r=(0,o.loadState)();if(r.secondaryPricingOption||(0,o.saveState)({secondaryPricingOption:"Annual"}),"Deposit"===e){t.setStyle({display:"flex"}),s.setStyle({display:"flex"});let e=r.secondaryPricingOption||"Annual";new(0,n.WFComponent)(`input[name='secondaryPricing'][value='${e}']`).getElement().checked=!0,(0,i.updateSecondaryTotalAmount)(e)}else t.setStyle({display:"none"}),s.setStyle({display:"none"});document.querySelectorAll("input[name='secondaryPricing']").forEach(e=>{e.addEventListener("change",e=>{let t=e.target;if(t.checked){let e=t.value;(0,o.saveState)({secondaryPricingOption:e}),console.log(`Secondary pricing option selected: ${e}`),(0,i.updateSecondaryTotalAmount)(e)}})})}},{"@xatom/core":"65YBq","../state/registrationState":"2Pbtv","./updateSecondaryTotalAmount":"kQasf","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],kQasf:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"updateSecondaryTotalAmount",()=>a);var n=e("@xatom/core"),o=e("../state/registrationState"),i=e("../utils/formatting");let a=e=>{let t,s;let r=(0,o.loadState)(),a=new n.WFComponent("#secondaryTotalAmount"),l=new n.WFComponent("#secondaryOriginalAmount"),d=new n.WFComponent("#secondaryDiscountPill"),c=new n.WFComponent("#secondaryDiscountNumber"),p="";switch(e){case"Annual":s=r.checkoutPreview?.annual_amount_due,p="Per Year";break;case"Monthly":s=r.checkoutPreview?.monthly_amount_due,p="Per Month";break;case"Pay-Per-Semester":s=r.checkoutPreview?.semester_amount_due,p="Per Semester";break;default:console.warn("Unknown secondary pricing option:",e)}if(r.selected_discount&&"Deposit"===r.selectedPricingOption){let e=parseFloat(r.selected_discount);t=s?s*(1-e/100):0,d.setStyle({display:"block"}),c.setText(`${e}%`),l.setText(`was ${(0,i.formatCurrency)(s)} ${p}`),l.setStyle({display:"block"})}else t=s,d.setStyle({display:"none"}),l.setStyle({display:"none"});void 0!==t?a.setText(`${(0,i.formatCurrency)(t)} ${p}`):a.setText(`$0.00 ${p}`)}},{"@xatom/core":"65YBq","../state/registrationState":"2Pbtv","../utils/formatting":"fevto","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],dDV9Y:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"initializeFinancialAid",()=>c);var n=e("@xatom/core"),o=e("../state/registrationState"),i=e("./updateTotalAmount"),a=e("./updateSecondaryTotalAmount"),l=e("../../../utils/formUtils"),d=e("../../../utils/validationUtils");let c=()=>{let e=new n.WFComponent("#requestFinAid"),t=new n.WFComponent("#finaidForm");e.on("change",()=>{let s=e.getElement(),r=(0,o.loadState)();s.checked?t.getElement().showModal():((0,o.saveState)({fin_aid_requested:!1,selected_discount:void 0}),"Deposit"===r.selectedPricingOption?(0,a.updateSecondaryTotalAmount)(r.secondaryPricingOption):(0,i.updateTotalAmount)())}),t.getElement()?.addEventListener("close",()=>{o.loadState().selected_discount||(e.getElement().checked=!1)}),u(),new n.WFComponent("#submitfinancialAid").on("click",()=>{g()&&(h(),f())}),m(t);let s=new n.WFComponent("#annualIncome"),r=new n.WFComponent("#monthlyExpense"),l=e=>{let t=e.getElement(),s=t.value.replace(/[^\d.-]/g,""),r=t.selectionStart||0,n=(t.value.slice(0,r).match(/,/g)||[]).length;if(s.includes(".")){let[e,t]=s.split(".");s=`${e}.${t.slice(0,2)}`}let o=d(s);t.value=o;let i=(t.value.slice(0,r).match(/,/g)||[]).length;(r+=i-n)>o.length&&(r=o.length),t.setSelectionRange(r,r)},d=e=>{let t=parseFloat(e.replace(/,/g,""));return isNaN(t)?e:t.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})};s.on("input",()=>l(s)),r.on("input",()=>l(r))},p=e=>{e.getElement().close()},m=e=>{new n.WFComponent("#close-dialog-btn").on("click",()=>p(e)),e.getElement()?.addEventListener("click",t=>{let s=e.getElement().getBoundingClientRect();(t.clientX<s.left||t.clientX>s.right||t.clientY<s.top||t.clientY>s.bottom)&&p(e)})},u=()=>{let e=new n.WFComponent("#finaidRelationship"),t=new n.WFComponent("#finaidRelationshipError"),s=document.getElementsByName("previous_participant"),r=new n.WFComponent("#previousParticipantError"),o=new n.WFComponent("#annualIncome"),i=new n.WFComponent("#annualIncomeError"),a=new n.WFComponent("#monthlyExpense"),c=new n.WFComponent("#monthlyExpenseError");(0,l.setupValidation)(e,t,()=>(0,d.validateSelectField)(S(e))?"":"Please select a relationship."),(0,l.setupValidation)(o,i,()=>(0,d.validateNotEmpty)(S(o))?"":"Please enter your annual household income."),(0,l.setupValidation)(a,c,()=>(0,d.validateNotEmpty)(S(a))?"":"Please enter your monthly expenditure."),Array.from(s).forEach(e=>{(0,l.setupValidation)(new n.WFComponent(e),r,()=>Array.from(s).some(e=>e.checked)?"":"Please select an option.")})},g=()=>{let e=new n.WFComponent("#finaidRelationship"),t=new n.WFComponent("#annualIncome"),s=new n.WFComponent("#monthlyExpense"),r=document.getElementsByName("previous_participant"),o=(0,d.validateSelectField)(S(e));(0,l.toggleError)(new n.WFComponent("#finaidRelationshipError"),"Please select a relationship.",!o);let i=(0,d.validateNotEmpty)(S(t));(0,l.toggleError)(new n.WFComponent("#annualIncomeError"),"Please enter your annual household income.",!i);let a=(0,d.validateNotEmpty)(S(s));(0,l.toggleError)(new n.WFComponent("#monthlyExpenseError"),"Please enter your monthly expenditure.",!a);let c=Array.from(r).some(e=>e.checked);return(0,l.toggleError)(new n.WFComponent("#previousParticipantError"),"Please select an option.",!c),o&&i&&a&&c},h=()=>{let e=new n.WFComponent("#finaidRelationship").getElement().value,t=new n.WFComponent("#annualIncome").getElement().value,s=new n.WFComponent("#monthlyExpense").getElement().value,r=document.querySelector("input[name='previous_participant']:checked"),i=r?r.value:"";(0,o.saveState)({fin_aid_requested:!0,financialAidData:{relationship:e,annualIncome:t,monthlyExpense:s,previousParticipant:i}}),console.log("Financial aid data saved:",{relationship:e,annualIncome:t,monthlyExpense:s,previousParticipant:i})},f=()=>{let e=new n.WFComponent(".success-message"),t=new n.WFComponent("#wf-form-Finaid-Form");t.setStyle({display:"none"}),e.setStyle({display:"block"});let s=new n.WFComponent("#applyDiscount"),r=new n.WFComponent("#backFinAid"),l=new n.WFComponent("#finaidForm");s.on("click",()=>{let e=document.querySelector("input[name='discountValue']:checked");if(e){let t=e.value,s=(0,o.loadState)();(0,o.saveState)({selected_discount:t}),(0,o.saveState)({fin_aid_requested:!0}),"Deposit"===s.selectedPricingOption?(0,a.updateSecondaryTotalAmount)(s.secondaryPricingOption):(0,i.updateTotalAmount)(),console.log(`Discount applied: ${t}%`),p(l)}else console.warn("No discount selected.")}),r.on("click",()=>{e.setStyle({display:"none"}),t.setStyle({display:"flex"})})},S=e=>e.getElement().value},{"@xatom/core":"65YBq","../state/registrationState":"2Pbtv","./updateTotalAmount":"l9HwZ","./updateSecondaryTotalAmount":"kQasf","../../../utils/formUtils":"gepHz","../../../utils/validationUtils":"gu2z7","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],gepHz:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"toggleError",()=>l),r.export(s,"setupValidation",()=>d),r.export(s,"createValidationFunction",()=>c),r.export(s,"createCheckboxValidationFunction",()=>p),r.export(s,"setupCheckboxValidation",()=>m),r.export(s,"validateSelectedSessions",()=>u),r.export(s,"setProfilePicUrl",()=>g),r.export(s,"setupFileUpload",()=>h),r.export(s,"formatPhoneNumber",()=>f);var n=e("@xatom/core"),o=e("@xatom/image"),i=e("../api/apiConfig"),a=e("../auth/authConfig");function l(e,t,s){e.updateTextViaAttrVar({text:s?t:""}),e.setStyle({display:s?"flex":"none"})}function d(e,t,s,r){let n=()=>{let e=s();l(t,e,!!e),r&&""===e&&l(r,"",!1)};e.on("input",n),e.on("blur",n),e.on("change",n)}function c(e,t,s){return()=>t(e.getElement().value)?"":s}function p(e,t){return()=>e.getElement().checked?"":t}function m(e,t,s){let r=p(e,s);d(e,t,r)}function u(e,t,s){let r=e.length>0&&e.some(e=>e.studentIds.length>0);return r?l(t,"",!1):l(t,s,!0),r}function g(e){let t=(0,a.userAuth).getUser();t&&t.profile&&(t.profile.profile_pic=t.profile.profile_pic||{url:""},t.profile.profile_pic.url=e,(0,a.userAuth).setUser(t),localStorage.setItem("auth_user",JSON.stringify(t)))}function h(e,t,s,r){let a=new o.WFImage("#profilePictureImage"),d=new n.WFComponent("#uploadAnimation"),c=new n.WFComponent(".drop-zone"),p=0;return new Promise(n=>{let o=o=>{if(!["image/jpeg","image/jpg"].includes(o.type)&&!/\.(jpg|jpeg)$/i.test(o.name)){l(t,"Only JPEG images are allowed.",!0),e.getElement().value="";return}if(o.size>2097152){l(t,"File size must be less than 2 MB.",!0),e.getElement().value="";return}d.setStyle({display:"flex"}),t.setStyle({display:"none"}),s.setStyle({display:"none"});let m=new FileReader;m.onload=e=>{let t=e.target?.result;a.setImage(t),c.setStyle({display:"none"})},m.readAsDataURL(o);let u=new FormData;u.append("profile_picture",o);let h=localStorage.getItem("current_student");if(h){let e=JSON.parse(h);u.append("student_profile_id",e.id.toString())}let f=(0,i.apiClient).post(r,{data:u});f.onData(r=>{if("success"===r.status){let e=r.url.profile_pic.url;g(e),a.setImage(e),localStorage.setItem("image_upload",e),s.setStyle({display:"flex"}),d.setStyle({display:"none"}),n(e)}else l(t,"Failed to upload profile picture.",!0),d.setStyle({display:"none"}),c.setStyle({display:"none"}),p=0,e.getElement().value=""}),f.onError(s=>{let r="An error occurred during image upload.";s.response&&s.response.data?r=s.response.data.message||r:s.message&&(r=s.message),l(t,r,!0),d.setStyle({display:"none"}),c.setStyle({display:"none"}),p=0,e.getElement().value=""}),f.fetch()};e.on("change",()=>{let t=e.getElement().files?.[0];t&&o(t)});let m=document.body;m.addEventListener("dragenter",e=>{e.preventDefault(),1==++p&&c.setStyle({display:"flex"})}),m.addEventListener("dragleave",()=>{--p<=0&&(c.setStyle({display:"none"}),p=0)}),m.addEventListener("dragover",e=>{e.preventDefault()}),m.addEventListener("drop",e=>{e.preventDefault();let t=e.dataTransfer?.files;t?.length&&o(t[0]),c.setStyle({display:"none"}),p=0})})}let f=e=>{let t=e.replace(/\D/g,"");return t.length<=3?t:t.length<=6?`(${t.slice(0,3)}) ${t.slice(3)}`:t.length<=10?`(${t.slice(0,3)}) ${t.slice(3,6)}-${t.slice(6)}`:`(${t.slice(0,3)}) ${t.slice(3,6)}-${t.slice(6,10)}`}},{"@xatom/core":"65YBq","@xatom/image":"bavwf","../api/apiConfig":"dUmIV","../auth/authConfig":"dHwPR","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],bavwf:[function(e,t,s){var r,n=e("d023971cccd819e3"),o={};Object.defineProperty(o,"WFImage",{get:()=>i,set:void 0,enumerable:!0,configurable:!0});class i extends n.WFComponent{constructor(e){super(e)}getImageConfig(){return this._config}getSrc(){return this.getAttribute("src")}getSizes(){return this.getAttribute("sizes")}getSrcSet(){return this.getAttribute("srcset")}getLoading(){return this.getAttribute("loading")}onLoad(e){return this.on("load",e),()=>{this.off("load",e)}}onLoadError(e){return this.on("error",e),()=>{this.off("error",e)}}setImage(e){if("string"==typeof e)this.setAttribute("src",e),this.removeAttribute("srcset"),this.removeAttribute("sizes");else{if(this.setAttribute("src",e.src),"object"==typeof e&&e.srcSet&&e.srcSet.length&&e.sizes&&e.sizes.length){let t=e.srcSet.map(e=>`${e.url} ${e.size}`).join(", ");this.setAttribute("srcset",t)}else this.removeAttribute("srcset"),this.removeAttribute("sizes");e.loading&&this.setAttribute("loading",e.loading)}}}r=t.exports,Object.keys(o).forEach(function(e){"default"===e||"__esModule"===e||r.hasOwnProperty(e)||Object.defineProperty(r,e,{enumerable:!0,get:function(){return o[e]}})})},{d023971cccd819e3:"65YBq"}],gu2z7:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");function n(e){return void 0!==e&&""!==e.trim()}function o(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}r.defineInteropFlag(s),r.export(s,"validateNotEmpty",()=>n),r.export(s,"validateEmail",()=>o),r.export(s,"validateEmailOptional",()=>i),r.export(s,"validatePasswordRequirements",()=>a),r.export(s,"validateCheckbox",()=>l),r.export(s,"validatePasswordsMatch",()=>d),r.export(s,"validateSelectField",()=>c),r.export(s,"validatePhoneNumber",()=>p);let i=e=>""===e.trim()||o(e);function a(e){let t=/[a-z]/.test(e),s=/[A-Z]/.test(e),r=/\d/.test(e),n=/[!@#$%^&*(),.?":{}|<>]/.test(e),o=e.length>=8;return t&&s&&r&&n&&o}function l(e){return e}function d(e,t){return e===t}function c(e){return void 0!==e&&"N/A"!==e}function p(e){return/^\(\d{3}\)\s\d{3}-\d{4}$/.test(e)}},{"@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],ejxGx:[function(e,t,s){var r,n=e("1a87f3bc23b90fa3"),o=e("37b5fd8189a9f4c7"),i={};Object.defineProperty(i,"WFSlider",{get:()=>l,set:void 0,enumerable:!0,configurable:!0});let a=window.jQuery;class l extends n.WFComponent{_sliderConfig={};_slides=[];_defaultSwipeDisabled=!1;_index=0;_listeners=new Map;constructor(e){super(e),this.init()}init(){this._defaultSwipeDisabled="true"===this.getAttribute("data-disable-swipe"),this._sliderConfig=a(this.getElement()).data()[".wSlider"],this._slides=Array.from(this._sliderConfig.slides).map(e=>new n.WFComponent(e)),this._mask=new n.WFComponent(this._sliderConfig.mask[0]),this._nav=new n.WFComponent(this._sliderConfig.nav[0]),this._left=new n.WFComponent(this._sliderConfig.left[0]),this._right=new n.WFComponent(this._sliderConfig.right[0]),function(e,t){let s,r;if(document.styleSheets&&0!=document.getElementsByTagName("head").length){if(document.styleSheets.length>0){for(var n=0,o=document.styleSheets.length;n<o;n++)if(!document.styleSheets[n].disabled){var i=document.styleSheets[n].media;if("string"==(r=typeof i)?""!==i&&-1===i.indexOf("screen")||(s=document.styleSheets[n]):"object"==r&&(""!==i.mediaText&&-1===i.mediaText.indexOf("screen")||(s=document.styleSheets[n])),void 0!==s)break}}if(void 0===s){var a=document.createElement("style");for(a.type="text/css",document.getElementsByTagName("head")[0].appendChild(a),n=0;n<document.styleSheets.length;n++)document.styleSheets[n].disabled||(s=document.styleSheets[n]);r=typeof s.media}if("string"===r){for(n=0,o=s.rules.length;n<o;n++)if(s.rules[n].selectorText&&s.rules[n].selectorText.toLowerCase()==e.toLowerCase())return void(s.rules[n].style.cssText=t);s.addRule(e,t)}else if("object"===r){var l=s.cssRules?s.cssRules.length:0;for(n=0;n<l;n++)if(s.cssRules[n].selectorText&&s.cssRules[n].selectorText.toLowerCase()==e.toLowerCase())return void(s.cssRules[n].style.cssText=t);s.insertRule(e+"{"+t+"}",l)}}}(".xa-slider-disable","display:none !important;");let e=this;Object.defineProperty(e._sliderConfig,"index",{set:function(t){e._index=t,e._triggerOnChange()},get:function(){return e._index}}),this.refereshSlides()}reloadWFSlider(){window.Webflow.require("slider").destroy(),window.Webflow.require("slider").redraw(),window.Webflow.require("slider").ready()}refereshSlides(){this._mask.getChildAsComponents(".w-slide").forEach(e=>e.remove()),this._slides.reverse().forEach(e=>{this._mask.getElement().prepend(e.getElement())}),this._slides.reverse(),this.reloadWFSlider()}getActiveSlide(){return this._slides[this._index]}getAllSlides(){return[...this._slides]}getSlideByIndex(e){return this._slides[e]}getActiveSlideIndex(){return this._index}getPreviousSlideIndex(){return this._sliderConfig.previous}goNext(){this._sliderConfig.right.click()}goPrevious(){this._sliderConfig.left.click()}goToIndex(e){e>=0&&e<this._slides.length&&(console.log(e),a(this._sliderConfig.nav.children()[e]).click())}addSlide(e,t={}){let s=t.index,r=t.cssClass,o=(0,n.createComponent)("div");o.addCssClass("w-slide"),r&&o.addCssClass(r),o.appendChild(e);let i="number"!=typeof s?-1:s,a=this._slides;i>=0&&i<=a.length?a.splice(s,0,o):a.push(o),this._slides=[...a],this.refereshSlides()}removeSlide(e){let t=[...this._slides];e>=0&&e<t.length&&t.splice(e,1),this._slides=[...t],console.log(this._slides),this.refereshSlides()}getSlideNav(){return this._nav}setSlideNavigationState(e){e?(this._left.removeCssClass("xa-slider-disable"),this._right.removeCssClass("xa-slider-disable"),this._nav.removeCssClass("xa-slider-disable"),this.setAttribute("data-disable-swipe",this._defaultSwipeDisabled?"true":"false")):(this._left.addCssClass("xa-slider-disable"),this._right.addCssClass("xa-slider-disable"),this._nav.addCssClass("xa-slider-disable"),this.setAttribute("data-disable-swipe","true")),this.reloadWFSlider()}onSlideChange(e){let t=(0,o.v4)();return this._listeners.set(t,e),()=>{this._listeners.delete(t)}}_triggerOnChange(){Array.from(this._listeners.values()).forEach(e=>{e(this._index,this._sliderConfig.previous)})}getConfig(){return this._sliderConfig}}r=t.exports,Object.keys(i).forEach(function(e){"default"===e||"__esModule"===e||r.hasOwnProperty(e)||Object.defineProperty(r,e,{enumerable:!0,get:function(){return i[e]}})})},{"1a87f3bc23b90fa3":"65YBq","37b5fd8189a9f4c7":"faiuA"}],"9yhwg":[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"initializeSidebarIndicators",()=>i),r.export(s,"setActiveStep",()=>a),r.export(s,"unsetActiveStep",()=>l),r.export(s,"markStepAsCompleted",()=>d),r.export(s,"unmarkStepAsCompleted",()=>c);var n=e("@xatom/core"),o=e("../../../auth/authConfig");let i=()=>{let e=new n.WFComponent("#firstNameText"),t=(0,o.userAuth).getUser();t&&t.profile&&t.profile.first_name?e.setText(t.profile.first_name):e.setText("Friend"),[{id:"sidebarStepOne",index:1},{id:"sidebarStepTwo",index:2},{id:"sidebarStepThree",index:3},{id:"sidebarStepFour",index:4},{id:"sidebarStepFive",index:5}].forEach(e=>{let t=new n.WFComponent(`#${e.id}`),s=!1;t.on("click",()=>{s=!s})})},a=e=>{let t=p(e);new n.WFComponent(`#${t}`).addCssClass("is-active")},l=e=>{let t=p(e);new n.WFComponent(`#${t}`).removeCssClass("is-active")},d=e=>{let t=p(e);new n.WFComponent(`#${t}`).getElement().click()},c=e=>{let t=p(e);new n.WFComponent(`#${t}`).getElement().click()},p=e=>({1:"sidebarStepOne",2:"sidebarStepTwo",3:"sidebarStepThree",4:"sidebarStepFour",5:"sidebarStepFive"})[e]||`sidebarStep${e}`},{"@xatom/core":"65YBq","../../../auth/authConfig":"dHwPR","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],euoMA:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"displayActionRequiredDialog",()=>i),r.export(s,"checkForStudents",()=>a);var n=e("@xatom/core"),o=e("../../../api/students");let i=()=>{let e=new n.WFComponent("#actionRequiredDialog"),t=new n.WFComponent("#alertDialogAnimationTrigger"),s=document.querySelector(".page_main");e.getElement().showModal(),t.getElement().click(),s&&s.setAttribute("data-brand","5"),e.getElement().addEventListener("cancel",e=>{e.preventDefault()}),e.getElement().addEventListener("close",e=>{e.preventDefault()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&e.preventDefault()})},a=async()=>{try{let{students:e,showDialog:t}=await (0,o.fetchStudentProfiles)();t&&i()}catch(e){console.error("Error during registration initialization:",e)}}},{"@xatom/core":"65YBq","../../../api/students":"9PiOd","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],fW1lZ:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"initializeStateFromUrlParams",()=>m);var n=e("../state/selectedWorkshop"),o=e("../../registration/programList"),i=e("../../registration/workshopList"),a=e("../../registration/sessionsList"),l=e("../../registration/components/sidebarIndicators"),d=e("@xatom/core"),c=e("../../../api/apiConfig");let p=()=>{let e=new URLSearchParams(window.location.search);return{programId:e.get("program"),workshopId:e.get("workshop"),cancelId:e.get("cancel")}},m=async e=>{let{programId:t,workshopId:s,cancelId:r}=p();(0,l.initializeSidebarIndicators)();let m=new d.WFComponent(".loading_wall");if(t||s||r){m.setStyle({display:"flex"});try{if(r){let e=(0,c.apiClient).delete(`/subscriptions/${r}`);await new Promise((t,s)=>{e.onData(()=>{console.log(`Subscription ${r} canceled successfully`);let e=new URLSearchParams(window.location.search);e.delete("cancel");let s=`${window.location.pathname}${e.toString()?`?${e.toString()}`:""}`;window.history.replaceState({},document.title,s),t()}),e.onError(e=>{console.error(`Failed to cancel subscription ${r}:`,e),s(e)}),e.fetch()})}if(await (0,o.initializeProgramList)(),t){let r=document.querySelector(`input[value="${t}"]`);if(r){if(r.checked=!0,r.dispatchEvent(new Event("change")),(0,l.markStepAsCompleted)(1),(0,l.setActiveStep)(2),await (0,i.initializeWorkshopList)(t),s&&"none"===s)(0,n.resetSelectedWorkshop)(),(0,l.markStepAsCompleted)(2),(0,l.setActiveStep)(3),await (0,a.initializeSessionList)(null,t),e.goToIndex(2);else if(s){let r=document.querySelector(`input[value="${s}"]`);r?(r.checked=!0,r.dispatchEvent(new Event("change")),(0,l.markStepAsCompleted)(2),(0,l.setActiveStep)(3),await (0,a.initializeSessionList)(s,t),e.goToIndex(2)):(console.error(`Workshop with ID ${s} not found`),e.goToIndex(1))}else(0,n.resetSelectedWorkshop)(),e.goToIndex(1)}else console.error(`Program with ID ${t} not found`),e.goToIndex(0)}else e.goToIndex(0)}catch(t){console.error("Error initializing state from URL parameters:",t),e.goToIndex(0)}finally{m.addCssClass("hidden"),setTimeout(()=>m.setStyle({display:"none"}),500)}}}},{"../state/selectedWorkshop":"1ahaO","../../registration/programList":"9PvQg","../../registration/workshopList":"caQhI","../../registration/sessionsList":"8yBQ3","../../registration/components/sidebarIndicators":"9yhwg","@xatom/core":"65YBq","../../../api/apiConfig":"dUmIV","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}]},[],0,"parcelRequired346");
//# sourceMappingURL=programRegistration.98cfb899.js.map
