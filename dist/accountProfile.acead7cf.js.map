{"mappings":"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","sources":["src/modules/dashboard/accountProfile/index.ts","src/modules/dashboard/accountProfile/getUserDetails.ts","node_modules/.pnpm/@xatom+image@1.0.0_@xatom+core@1.0.12/node_modules/@xatom/image/dist/index.js","src/modules/dashboard/accountProfile/edituserDialog.ts","src/utils/formUtils.ts","src/utils/validationUtils.ts","src/modules/dashboard/accountProfile/deleteUser.ts"],"sourcesContent":["// src/modules/pages/accountDetails/index.ts\n\nimport { getUserDetails } from \"./getUserDetails\";\nimport { initializeEditUserDialog } from \"./edituserDialog\";\nimport { initializeDeleteUser } from \"./deleteUser\";\n\nexport const initializeAccountDetailsPage = async () => {\n  // Fetch and display user details\n  await getUserDetails();\n\n  // Initialize the edit user dialog\n  initializeEditUserDialog();\n\n  // Initialize the delete user functionality\n  initializeDeleteUser();\n\n  // Add an event listener to remove current_user from localStorage when navigating away\n  window.addEventListener(\"beforeunload\", () => {\n    localStorage.removeItem(\"current_user\");\n  });\n};\n","// src/modules/pages/accountDetails/getUserDetails.ts\n\nimport { apiClient } from \"../../../api/apiConfig\";\nimport { WFComponent } from \"@xatom/core\";\nimport { WFImage } from \"@xatom/image\";\n\nexport const getUserDetails = async () => {\n  // Show loading spinner\n  const loadingSpinner = new WFComponent(\".dashboard_loading_wall\");\n  loadingSpinner.setStyle({ display: \"flex\" });\n\n  try {\n    const response = await apiClient.get(\"/dashboard/account\").fetch();\n\n    if (response) {\n      const user = response as any; // Replace 'any' with a proper interface for better type safety\n\n      // Hide the loading spinner\n      triggerSuccessEvent(\".success_trigger\");\n\n      // Set user full name\n      const userFullName = new WFComponent(\"#userFullName\");\n      userFullName.setText(`${user.first_name} ${user.last_name}`);\n\n      // Set profile picture\n      const userProfilePicture = new WFImage(\"#userProfilePicture\");\n      if (user.profile_pic && user.profile_pic.url) {\n        userProfilePicture.setImage(user.profile_pic.url);\n      } else {\n        userProfilePicture.setImage(\n          \"https://cdn.prod.website-files.com/plugins/Basic/assets/placeholder.60f9b1840c.svg\"\n        );\n      }\n\n      // Set email\n      const userEmail = new WFComponent(\"#userEmail\");\n      userEmail.setText(user.email || \"N/A\");\n\n      // Set phone\n      const userPhone = new WFComponent(\"#userPhone\");\n      userPhone.setText(user.phone || \"N/A\");\n\n      // Set address line 1\n      const userAddressLineOne = new WFComponent(\"#userAddressLineOne\");\n      userAddressLineOne.setText(user.address_line_1 || \"N/A\");\n\n      // Set address line 2\n      const userAddressLineTwo = new WFComponent(\"#userAddressLineTwo\");\n      userAddressLineTwo.setText(user.address_line_2 || \"N/A\");\n\n      // Set city\n      const userCity = new WFComponent(\"#userCity\");\n      userCity.setText(user.city || \"N/A\");\n\n      // Set state\n      const userState = new WFComponent(\"#userState\");\n      userState.setText(user.state || \"N/A\");\n\n      // Set zip\n      const userZip = new WFComponent(\"#userZip\");\n      userZip.setText(user.zip || \"N/A\");\n\n      // Set receive texts preference\n      const userTextTrue = new WFComponent(\"#userTextTrue\");\n      const userTextFalse = new WFComponent(\"#userTextFalse\");\n      if (user.send_texts) {\n        userTextTrue.setStyle({ display: \"block\" });\n        userTextFalse.setStyle({ display: \"none\" });\n      } else {\n        userTextTrue.setStyle({ display: \"none\" });\n        userTextFalse.setStyle({ display: \"block\" });\n      }\n\n      // Set YMCA member status\n      const userYTrue = new WFComponent(\"#userYTrue\");\n      const userYFalse = new WFComponent(\"#userYFalse\");\n      if (user.is_y_member) {\n        userYTrue.setStyle({ display: \"block\" });\n        userYFalse.setStyle({ display: \"none\" });\n      } else {\n        userYTrue.setStyle({ display: \"none\" });\n        userYFalse.setStyle({ display: \"block\" });\n      }\n\n      // Set YMCA membership number\n      const userYMembershipNumber = new WFComponent(\"#userYMembershipNumber\");\n      userYMembershipNumber.setText(user.y_membership_id || \"N/A\");\n\n      // Save user data for later use (e.g., in edit forms)\n      localStorage.setItem(\"current_user\", JSON.stringify(user));\n    } else {\n      alert(\"Error: Received null response from the server.\");\n      console.error(\"Received null response from the server.\");\n\n      // Navigate back to the previous page or handle the error appropriately\n      window.history.back();\n    }\n  } catch (error: any) {\n    console.error(\"Error fetching user details:\", error);\n    alert(`Error fetching user details: ${error.message || error}`);\n\n    // Navigate back to the previous page or handle the error appropriately\n    window.history.back();\n  } finally {\n    // Hide loading spinner in all cases\n    loadingSpinner.setStyle({ display: \"none\" });\n  }\n};\n\nconst triggerSuccessEvent = (selector: string) => {\n  const successTrigger = document.querySelector(selector);\n  if (successTrigger instanceof HTMLElement) {\n    successTrigger.click();\n  }\n};\n","var t=require(\"@xatom/core\");var e,r,s,i,o,n,u={};e=u,r=\"WFImage\",s=()=>c,Object.defineProperty(e,r,{get:s,set:i,enumerable:!0,configurable:!0});class c extends t.WFComponent{constructor(t){super(t)}getImageConfig(){return this._config}getSrc(){return this.getAttribute(\"src\")}getSizes(){return this.getAttribute(\"sizes\")}getSrcSet(){return this.getAttribute(\"srcset\")}getLoading(){return this.getAttribute(\"loading\")}onLoad(t){return this.on(\"load\",t),()=>{this.off(\"load\",t)}}onLoadError(t){return this.on(\"error\",t),()=>{this.off(\"error\",t)}}setImage(t){if(\"string\"==typeof t)this.setAttribute(\"src\",t),this.removeAttribute(\"srcset\"),this.removeAttribute(\"sizes\");else{if(this.setAttribute(\"src\",t.src),\"object\"==typeof t&&t.srcSet&&t.srcSet.length&&t.sizes&&t.sizes.length){const e=t.srcSet.map((t=>`${t.url} ${t.size}`)).join(\", \");this.setAttribute(\"srcset\",e)}else this.removeAttribute(\"srcset\"),this.removeAttribute(\"sizes\");t.loading&&this.setAttribute(\"loading\",t.loading)}}}o=module.exports,n=u,Object.keys(n).forEach((function(t){\"default\"===t||\"__esModule\"===t||o.hasOwnProperty(t)||Object.defineProperty(o,t,{enumerable:!0,get:function(){return n[t]}})}));","// src/modules/pages/accountDetails/editUserDialog.ts\n\nimport { WFComponent, WFFormComponent } from \"@xatom/core\";\nimport { WFImage } from \"@xatom/image\";\nimport { apiClient } from \"../../../api/apiConfig\";\nimport {\n  setupValidation,\n  createValidationFunction,\n  toggleError,\n  setupFileUpload,\n} from \"../../../utils/formUtils\";\nimport {\n  validateNotEmpty,\n  validateEmail,\n  validatePhoneNumber,\n} from \"../../../utils/validationUtils\";\nimport { getUserDetails } from \"./getUserDetails\";\n\n// Define the ApiResponse interface to type the API responses\ninterface ApiResponse {\n  status: string;\n  message?: string;\n  profile_pic?: any;\n  [key: string]: any;\n}\n\n// Declare variables in the outer scope\nlet isYMemberInput: WFComponent<HTMLInputElement>;\nlet hiddenYMemberWrapper: WFComponent<HTMLElement>;\nlet yMemberIdInput: WFComponent<HTMLInputElement>;\nlet yMemberIdInputError: WFComponent<HTMLElement>;\n\nexport const initializeEditUserDialog = () => {\n  // Retrieve and initialize the \"Open Edit Dialog\" button\n  const openEditDialogButton = new WFComponent(\"#openEditUserDialog\");\n\n  // Retrieve the edit user dialog element\n  const editUserDialogElement = document.getElementById(\n    \"editUserDialog\"\n  ) as HTMLDialogElement | null;\n\n  // Retrieve and initialize the \"Close Dialog\" button\n  const closeDialogButton = new WFComponent(\"#close-dialog-btn\");\n\n  // Set up the click event listener to open the dialog\n  openEditDialogButton.on(\"click\", () => {\n    populateEditUserForm();\n    if (editUserDialogElement) {\n      editUserDialogElement.showModal();\n    }\n  });\n\n  // Set up the click event listener to close the dialog\n  closeDialogButton.on(\"click\", () => {\n    if (editUserDialogElement) {\n      editUserDialogElement.close();\n    }\n  });\n\n  // Initialize the form\n  const form = new WFFormComponent<{\n    profile_pic: File | null;\n    first_name: string;\n    last_name: string;\n    email: string;\n    phone: string;\n    send_texts: boolean;\n    address_line_1: string;\n    address_line_2: string;\n    city: string;\n    state: string;\n    zip: string;\n    referred_by: string;\n    is_y_member: boolean;\n    y_membership_id: string;\n  }>(\"#editUserForm\");\n\n  // Initialize error component for form submission errors\n  const formSubmitError = new WFComponent(\"#editUserSubmitError\");\n\n  // Define validation rules for each field\n  const fields = [\n    {\n      input: new WFComponent(\"#firstNameInput\"),\n      error: new WFComponent(\"#firstNameInputError\"),\n      validationFn: validateNotEmpty,\n      message: \"First name is required\",\n    },\n    {\n      input: new WFComponent(\"#lastNameInput\"),\n      error: new WFComponent(\"#lastNameInputError\"),\n      validationFn: validateNotEmpty,\n      message: \"Last name is required\",\n    },\n    {\n      input: new WFComponent(\"#emailInput\"),\n      error: new WFComponent(\"#emailInputError\"),\n      validationFn: validateEmail,\n      message: \"Invalid email format\",\n    },\n    {\n      input: new WFComponent(\"#phoneNumberInput\"),\n      error: new WFComponent(\"#phoneNumberInputError\"),\n      validationFn: validatePhoneNumber,\n      message: \"Phone number must be in the format (xxx) xxx-xxxx\",\n    },\n    // Add other fields as necessary\n  ];\n\n  // Setup validation for each field\n  fields.forEach(({ input, error, validationFn, message }) => {\n    setupValidation(\n      input,\n      error,\n      createValidationFunction(input, validationFn, message),\n      formSubmitError\n    );\n  });\n\n  // Initialize components for Y Member input\n  isYMemberInput = new WFComponent<HTMLInputElement>(\"#isYMemberInput\");\n  hiddenYMemberWrapper = new WFComponent(\"#hiddenyMemberWrapper\");\n  yMemberIdInput = new WFComponent<HTMLInputElement>(\"#yMemberIdInput\");\n  yMemberIdInputError = new WFComponent(\"#yMemberIdInputError\");\n\n  const toggleYMemberInput = () => {\n    const isChecked = isYMemberInput.getElement().checked;\n    if (isChecked) {\n      hiddenYMemberWrapper.removeCssClass(\"g-hide\");\n    } else {\n      hiddenYMemberWrapper.addCssClass(\"g-hide\");\n      // Clear the Y Membership Number input\n      yMemberIdInput.getElement().value = \"\";\n    }\n  };\n\n  // Initialize the visibility on page load\n  toggleYMemberInput();\n\n  // Add event listener to the checkbox\n  isYMemberInput.on(\"change\", () => {\n    toggleYMemberInput();\n  });\n\n  // Remove validation for yMemberIdInput since it's no longer required\n  // Remove the yMemberIdValidation function and related code\n\n  // Handle form submission\n  form.onFormSubmit(async (formData, event) => {\n    event.preventDefault();\n    const requestingAnimation = new WFComponent(\"#requestingAnimationEditUser\");\n    requestingAnimation.setStyle({ display: \"block\" });\n\n    let isFormValid = true;\n\n    // Validate all fields\n    fields.forEach(({ input, error, validationFn, message }) => {\n      const errorMessage = createValidationFunction(\n        input,\n        validationFn,\n        message\n      )();\n      if (errorMessage) {\n        toggleError(error, errorMessage, true);\n        isFormValid = false;\n      } else {\n        toggleError(error, \"\", false);\n      }\n    });\n\n    // Since Y Membership Number is not required, we don't need to validate it\n    // However, we can clear any previous errors\n    toggleError(yMemberIdInputError, \"\", false);\n\n    if (!isFormValid) {\n      toggleError(formSubmitError, \"Please correct all errors above.\", true);\n      requestingAnimation.setStyle({ display: \"none\" });\n      return;\n    } else {\n      toggleError(formSubmitError, \"\", false);\n    }\n\n    // Disable submit button\n    const submitButton = new WFComponent(\"#editUserSubmitButton\");\n    submitButton.setAttribute(\"disabled\", \"true\");\n\n    // Prepare data for API\n    const dataToUpdate = { ...formData };\n\n    try {\n      // Send update request to API\n      const response = (await apiClient\n        .post(`/profiles/update_profile`, {\n          data: dataToUpdate,\n        })\n        .fetch()) as ApiResponse;\n\n      if (response.status === \"success\") {\n        // Update successful\n\n        // Refresh the user details on the page\n        await getUserDetails();\n\n        // Reset the form with updated information\n        populateEditUserForm();\n\n        // Close the dialog after successful request and data refresh\n        if (editUserDialogElement) {\n          editUserDialogElement.close();\n        }\n      } else {\n        throw new Error(response.message || \"Update failed\");\n      }\n    } catch (error: any) {\n      console.error(\"Error updating user profile:\", error);\n      toggleError(formSubmitError, error.message || \"An error occurred\", true);\n    } finally {\n      // Hide loading animation\n      requestingAnimation.setStyle({ display: \"none\" });\n      // Re-enable submit button\n      submitButton.removeAttribute(\"disabled\");\n    }\n  });\n\n  // Set up the file upload for the profile picture\n  const profilePictureInput = new WFComponent(\"#profilePictureInput\");\n  const profilePictureInputError = new WFComponent(\"#profilePictureInputError\");\n  const profilePictureInputSuccess = new WFComponent(\n    \"#profilePictureInputSuccess\"\n  );\n  setupFileUpload(\n    profilePictureInput,\n    profilePictureInputError,\n    profilePictureInputSuccess,\n    \"/profiles/image-upload\"\n  );\n};\n\n// Function to populate the form with existing user data\nconst populateEditUserForm = () => {\n  const userData = localStorage.getItem(\"current_user\");\n  if (!userData) {\n    console.error(\"No user data found\");\n    return;\n  }\n\n  let user: any;\n  try {\n    user = JSON.parse(userData);\n  } catch (parseError) {\n    console.error(\"Error parsing user data from localStorage:\", parseError);\n    return;\n  }\n\n  // Helper function to set input value\n  const setInputValue = (\n    selector: string,\n    value: string | boolean,\n    isCheckbox: boolean = false\n  ) => {\n    const element = document.querySelector(selector) as\n      | HTMLInputElement\n      | HTMLSelectElement\n      | HTMLTextAreaElement\n      | null;\n    if (element) {\n      if (isCheckbox && element instanceof HTMLInputElement) {\n        element.checked = Boolean(value);\n      } else {\n        element.value = String(value);\n      }\n    }\n  };\n\n  // Set form fields\n  setInputValue(\"#firstNameInput\", user.first_name);\n  setInputValue(\"#lastNameInput\", user.last_name);\n  setInputValue(\"#emailInput\", user.email);\n  setInputValue(\"#phoneNumberInput\", user.phone);\n  setInputValue(\"#sendTextsInput\", user.send_texts, true);\n  setInputValue(\"#addressLineOneInput\", user.address_line_1);\n  setInputValue(\"#addressLineTwoInput\", user.address_line_2);\n  setInputValue(\"#cityInput\", user.city);\n  setInputValue(\"#stateInput\", user.state);\n  setInputValue(\"#zipInput\", user.zip);\n  setInputValue(\"#referralInput\", user.referred_by);\n  setInputValue(\"#isYMemberInput\", user.is_y_member, true);\n  setInputValue(\"#yMemberIdInput\", user.y_membership_id);\n\n  // Set profile picture preview using WFImage\n  const profilePictureImage = new WFImage(\"#profilePictureImage\");\n  if (user.profile_pic && user.profile_pic.url) {\n    profilePictureImage.setImage(user.profile_pic.url);\n  } else {\n    profilePictureImage.setImage(\n      \"https://cdn.prod.website-files.com/667f080f36260b9afbdc46b2/667f080f36260b9afbdc46be_placeholder.svg\"\n    );\n  }\n\n  // Update the visibility of the hidden Y Member input\n  const isYMemberChecked = isYMemberInput.getElement().checked;\n  if (isYMemberChecked) {\n    hiddenYMemberWrapper.removeCssClass(\"g-hide\");\n  } else {\n    hiddenYMemberWrapper.addCssClass(\"g-hide\");\n    // Clear the Y Membership Number input\n    yMemberIdInput.getElement().value = \"\";\n  }\n};\n","import { WFComponent } from \"@xatom/core\";\nimport { WFImage } from \"@xatom/image\";\nimport { apiClient } from \"../api/apiConfig\";\nimport { userAuth } from \"../auth/authConfig\";\n\nexport function toggleError(\n  errorMessageComponent: WFComponent<any>,\n  message: string,\n  show: boolean\n): void {\n  errorMessageComponent.updateTextViaAttrVar({ text: show ? message : \"\" });\n  errorMessageComponent.setStyle({ display: show ? \"flex\" : \"none\" });\n}\n\nexport function setupValidation(\n  inputComponent: WFComponent,\n  errorComponent: WFComponent,\n  validate: () => string,\n  requestErrorComponent?: WFComponent // Optional component to clear on input change\n) {\n  const validateAndUpdate = () => {\n    const errorMessage = validate();\n    toggleError(errorComponent, errorMessage, !!errorMessage);\n    if (requestErrorComponent && errorMessage === \"\") {\n      // Clear request error message when the user is correcting the input\n      toggleError(requestErrorComponent, \"\", false);\n    }\n  };\n\n  // Attach event listeners for real-time validation\n  inputComponent.on(\"input\", validateAndUpdate);\n  inputComponent.on(\"blur\", validateAndUpdate);\n  inputComponent.on(\"change\", validateAndUpdate);\n}\n\nexport function createValidationFunction(\n  inputComponent: WFComponent,\n  validationFn: (input: string) => boolean,\n  errorMessage: string\n): () => string {\n  return () => {\n    const inputElement = inputComponent.getElement() as HTMLInputElement;\n    const isValid = validationFn(inputElement.value);\n    return isValid ? \"\" : errorMessage;\n  };\n}\n\nexport function createCheckboxValidationFunction(\n  checkboxComponent: WFComponent,\n  errorMessage: string\n): () => string {\n  return () => {\n    const checkbox = checkboxComponent.getElement() as HTMLInputElement;\n    return checkbox.checked ? \"\" : errorMessage;\n  };\n}\n\nexport function setupCheckboxValidation(\n  checkboxComponent: WFComponent,\n  checkboxErrorComponent: WFComponent,\n  errorMessage: string\n) {\n  const validate = createCheckboxValidationFunction(\n    checkboxComponent,\n    errorMessage\n  );\n  setupValidation(checkboxComponent, checkboxErrorComponent, validate);\n}\n\nexport function validateSelectedSessions(\n  selectedSessions: { sessionId: string; studentIds: string[] }[],\n  errorMessageComponent: WFComponent<any>,\n  errorMessage: string\n): boolean {\n  const isValid =\n    selectedSessions.length > 0 &&\n    selectedSessions.some((session) => session.studentIds.length > 0);\n\n  if (!isValid) {\n    toggleError(errorMessageComponent, errorMessage, true);\n  } else {\n    toggleError(errorMessageComponent, \"\", false);\n  }\n\n  return isValid;\n}\n\ntype fileUploadResponse = {\n  status: string;\n  url: {\n    profile_pic: {\n      url: string;\n    };\n  };\n};\n\n/**\n * Updates the user's profile picture URL in the authentication system.\n * @param {string} imageUrl - The URL of the uploaded image.\n */\nexport function setProfilePicUrl(imageUrl: string): void {\n  const user = userAuth.getUser();\n  if (user && user.profile) {\n    // Ensure the profile_picture object exists\n    user.profile.profile_pic = user.profile.profile_pic || { url: \"\" };\n\n    // Set the profile picture URL\n    user.profile.profile_pic.url = imageUrl;\n    userAuth.setUser(user);\n    localStorage.setItem(\"auth_user\", JSON.stringify(user));\n  }\n}\n\n/**\n * Handles file upload and displays the uploaded image.\n * @param {WFComponent} fileInput - The WFComponent instance for the file input field.\n * @param {WFComponent} fileInputError - The WFComponent instance for displaying error messages.\n * @param {WFComponent} fileInputSuccess - The WFComponent instance for displaying success messages.\n * @param {string} uploadEndpoint - The endpoint to which the file is sent.\n * @returns {Promise<string>} A promise that resolves with the URL of the uploaded image.\n */\n/**\n * Handles file upload and displays the uploaded image.\n * Only JPEG files less than 2 MB can be uploaded.\n * @param {WFComponent} fileInput - The WFComponent instance for the file input field.\n * @param {WFComponent} fileInputError - The WFComponent instance for displaying error messages.\n * @param {WFComponent} fileInputSuccess - The WFComponent instance for displaying success messages.\n * @param {string} uploadEndpoint - The endpoint to which the file is sent.\n * @returns {Promise<string>} A promise that resolves with the URL of the uploaded image.\n */\nexport function setupFileUpload(\n  fileInput: WFComponent,\n  fileInputError: WFComponent,\n  fileInputSuccess: WFComponent,\n  uploadEndpoint: string\n): Promise<string> {\n  const profilePictureImage = new WFImage(\"#profilePictureImage\");\n  const uploadAnimation = new WFComponent(\"#uploadAnimation\");\n\n  const overlay = new WFComponent(\".drop-zone\");\n  let dragCounter = 0;\n\n  return new Promise<string>((resolve) => {\n    const handleFile = (file: File) => {\n      // Validate file type and size\n      const validTypes = [\"image/jpeg\", \"image/jpg\"];\n      const maxSizeInBytes = 2 * 1024 * 1024; // 2 MB\n\n      if (\n        !validTypes.includes(file.type) &&\n        !/\\.(jpg|jpeg)$/i.test(file.name)\n      ) {\n        const errorMessage = \"Only JPEG images are allowed.\";\n        toggleError(fileInputError, errorMessage, true);\n        // Reset file input value\n        (fileInput.getElement() as HTMLInputElement).value = \"\";\n        return;\n      }\n\n      if (file.size > maxSizeInBytes) {\n        const errorMessage = \"File size must be less than 2 MB.\";\n        toggleError(fileInputError, errorMessage, true);\n        // Reset file input value\n        (fileInput.getElement() as HTMLInputElement).value = \"\";\n        return;\n      }\n\n      // Show upload animation immediately\n      uploadAnimation.setStyle({ display: \"flex\" });\n\n      // Hide error and success messages\n      fileInputError.setStyle({ display: \"none\" });\n      fileInputSuccess.setStyle({ display: \"none\" });\n\n      const reader = new FileReader();\n\n      // Display preview image as soon as the file is loaded into memory\n      reader.onload = (event) => {\n        // Set the preview image for the profile picture\n        const result = event.target?.result as string;\n        profilePictureImage.setImage(result);\n\n        // Hide overlay once the image is set\n        overlay.setStyle({ display: \"none\" });\n      };\n\n      reader.readAsDataURL(file);\n\n      const formData = new FormData();\n      formData.append(\"profile_picture\", file);\n\n      const existingStudent = localStorage.getItem(\"current_student\");\n      if (existingStudent) {\n        const student = JSON.parse(existingStudent);\n        formData.append(\"student_profile_id\", student.id.toString());\n      }\n\n      // Send the file to the server\n      const postRequest = apiClient.post<fileUploadResponse>(uploadEndpoint, {\n        data: formData,\n      });\n\n      postRequest.onData((response) => {\n        if (response.status === \"success\") {\n          const imageUrl = response.url.profile_pic.url;\n\n          // Update the profile picture URL in the user session and local storage\n          setProfilePicUrl(imageUrl);\n\n          // Update the image for other parts of the UI as well\n          profilePictureImage.setImage(imageUrl);\n\n          // Store the URL in local storage\n          localStorage.setItem(\"image_upload\", imageUrl);\n\n          // Show success message and hide upload animation\n          fileInputSuccess.setStyle({ display: \"flex\" });\n          uploadAnimation.setStyle({ display: \"none\" });\n\n          // Resolve with the uploaded image URL\n          resolve(imageUrl);\n        } else {\n          const errorMessage = \"Failed to upload profile picture.\";\n          toggleError(fileInputError, errorMessage, true);\n          uploadAnimation.setStyle({ display: \"none\" });\n          overlay.setStyle({ display: \"none\" });\n          dragCounter = 0;\n          // Reset file input value\n          (fileInput.getElement() as HTMLInputElement).value = \"\";\n        }\n      });\n\n      postRequest.onError((error) => {\n        let errorMessage = \"An error occurred during image upload.\";\n        if (error.response && error.response.data) {\n          errorMessage = error.response.data.message || errorMessage;\n        } else if (error.message) {\n          errorMessage = error.message;\n        }\n\n        // Show error message and hide upload animation\n        toggleError(fileInputError, errorMessage, true);\n        uploadAnimation.setStyle({ display: \"none\" });\n        overlay.setStyle({ display: \"none\" });\n        dragCounter = 0;\n        // Reset file input value\n        (fileInput.getElement() as HTMLInputElement).value = \"\";\n      });\n\n      // Make the API call\n      postRequest.fetch();\n    };\n\n    // Event listener for file input changes\n    fileInput.on(\"change\", () => {\n      const file = (fileInput.getElement() as HTMLInputElement).files?.[0];\n      if (file) {\n        handleFile(file);\n      }\n    });\n\n    // Event listeners for drag-and-drop\n    const dragZoneElement = document.body;\n    dragZoneElement.addEventListener(\"dragenter\", (event) => {\n      event.preventDefault();\n      dragCounter++;\n      if (dragCounter === 1) {\n        overlay.setStyle({ display: \"flex\" });\n      }\n    });\n\n    dragZoneElement.addEventListener(\"dragleave\", () => {\n      dragCounter--;\n      if (dragCounter <= 0) {\n        overlay.setStyle({ display: \"none\" });\n        dragCounter = 0;\n      }\n    });\n\n    dragZoneElement.addEventListener(\"dragover\", (event) => {\n      event.preventDefault();\n    });\n\n    dragZoneElement.addEventListener(\"drop\", (event) => {\n      event.preventDefault();\n\n      const files = event.dataTransfer?.files;\n      if (files?.length) {\n        handleFile(files[0]);\n      }\n\n      overlay.setStyle({ display: \"none\" });\n      dragCounter = 0;\n    });\n  });\n}\n\n// src/utils/formUtils.ts\n\n/**\n * Formats a phone number string to the format (xxx) xxx-xxxx.\n * If the input contains more than 10 digits, it truncates the extra digits.\n * If it contains fewer, it formats as much as possible.\n *\n * @param value - The raw phone number string.\n * @returns The formatted phone number string.\n */\nexport const formatPhoneNumber = (value: string): string => {\n  const cleaned = value.replace(/\\D/g, \"\"); // Remove all non-digit characters\n\n  if (cleaned.length <= 3) {\n    return cleaned;\n  } else if (cleaned.length <= 6) {\n    return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3)}`;\n  } else if (cleaned.length <= 10) {\n    return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3, 6)}-${cleaned.slice(\n      6\n    )}`;\n  } else {\n    // If more than 10 digits, truncate the extra digits\n    return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3, 6)}-${cleaned.slice(\n      6,\n      10\n    )}`;\n  }\n};\n","import { WFComponent } from \"@xatom/core\";\nimport { toggleError } from \"./formUtils\";\n\nexport function validateNotEmpty(input: string | undefined): boolean {\n  return input !== undefined && input.trim() !== \"\";\n}\n\nexport function validateEmail(input: string): boolean {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailRegex.test(input);\n}\n\n/**\n * Validates that the email is either empty or correctly formatted.\n * @param value The email input value.\n * @returns True if valid, false otherwise.\n */\nexport const validateEmailOptional = (value: string): boolean => {\n  if (value.trim() === \"\") {\n    // Email is optional, so empty string is valid\n    return true;\n  }\n  // Validate the email format if not empty\n  return validateEmail(value);\n};\n\nexport function validatePasswordRequirements(password: string): boolean {\n  const hasLowercase = /[a-z]/.test(password);\n  const hasUppercase = /[A-Z]/.test(password);\n  const hasDigit = /\\d/.test(password);\n  const hasSpecialChar = /[!@#$%^&*(),.?\":{}|<>]/.test(password);\n  const hasValidLength = password.length >= 8;\n  return (\n    hasLowercase && hasUppercase && hasDigit && hasSpecialChar && hasValidLength\n  );\n}\n\nexport function validateCheckbox(checked: boolean): boolean {\n  return checked;\n}\n\nexport function validatePasswordsMatch(\n  originalPassword: string,\n  confirmPassword: string\n): boolean {\n  return originalPassword === confirmPassword;\n}\n\nexport function validateSelectField(input: string | undefined): boolean {\n  return input !== undefined && input !== \"N/A\";\n}\n\nexport function validatePhoneNumber(input: string): boolean {\n  const phoneRegex = /^\\(\\d{3}\\)\\s\\d{3}-\\d{4}$/;\n  return phoneRegex.test(input);\n}\n","// src/modules/pages/accountDetails/deleteUser.ts\n\nimport { WFComponent } from \"@xatom/core\";\nimport { apiClient } from \"../../../api/apiConfig\";\n\n/**\n * Initializes the delete user functionality.\n */\nexport function initializeDeleteUser() {\n  // Retrieve and initialize the \"Open Delete Dialog\" button\n  const openDeleteDialogBtn = new WFComponent(\"#openDeleteDialog\");\n\n  // Retrieve the delete user dialog element\n  const deleteUserDialogElement = document.getElementById(\n    \"deleteUserDialog\"\n  ) as HTMLDialogElement | null;\n\n  // Retrieve and initialize the \"Close Delete Dialog\" button\n  const closeDeleteDialogBtn = new WFComponent(\"#close-delete-dialog-btn\");\n\n  // Retrieve and initialize the \"Final Delete\" button\n  const deleteUserFinalBtn = new WFComponent(\"#deleteUserFinal\");\n\n  // Retrieve and initialize the \"Delete User Error\" component\n  const deleteUserError = new WFComponent(\"#deleteUserError\");\n\n  // Retrieve and initialize the \"Page Main\" component\n  const pageMain = new WFComponent(\".page_main\");\n\n  // Retrieve and initialize the loader animations\n  const deleteRequestingAnimation = new WFComponent(\n    \"#deleteRequestingAnimation\"\n  );\n  deleteRequestingAnimation.setStyle({ display: \"none\" });\n\n  /**\n   * Shows the delete confirmation dialog and updates the data-brand attribute.\n   */\n  const showDeleteDialog = () => {\n    if (deleteUserDialogElement && pageMain) {\n      deleteUserDialogElement.showModal(); // Display the dialog\n      pageMain.setAttribute(\"data-brand\", \"6\"); // Update data-brand to 6\n    }\n  };\n\n  /**\n   * Hides the delete confirmation dialog and reverts the data-brand attribute.\n   */\n  const hideDeleteDialog = () => {\n    if (deleteUserDialogElement && pageMain && deleteUserError) {\n      deleteUserDialogElement.close(); // Close the dialog\n      pageMain.setAttribute(\"data-brand\", \"2\"); // Revert data-brand to 2\n      deleteUserError.setStyle({ display: \"none\" }); // Hide any previous error messages\n    }\n  };\n\n  /**\n   * Handles the deletion of the user account.\n   */\n  const handleDeleteUser = async () => {\n    try {\n      // Hide previous error messages\n      deleteUserError.setStyle({ display: \"none\" });\n\n      // Show the loader animation and disable the delete button\n      deleteRequestingAnimation.setStyle({ display: \"flex\" });\n      deleteUserFinalBtn.setAttribute(\"disabled\", \"true\");\n\n      // Send the DELETE request to the API\n      const response = await apiClient.delete(`/profiles`).fetch();\n\n      // Hide the loader animation and re-enable the delete button\n      deleteRequestingAnimation.setStyle({ display: \"none\" });\n      deleteUserFinalBtn.removeAttribute(\"disabled\");\n\n      if (response && response.status === 200) {\n        // Redirect to the homepage or login page\n        window.location.href = \"/login\"; // Adjust the URL as needed\n      } else {\n        // Handle unexpected successful responses\n        throw new Error(\"Unexpected response from the server.\");\n      }\n    } catch (error: any) {\n      console.error(\"Error deleting user account:\", error);\n\n      // Hide the loader animation and re-enable the delete button\n      deleteRequestingAnimation.setStyle({ display: \"none\" });\n      deleteUserFinalBtn.removeAttribute(\"disabled\");\n\n      // Display the error message\n      deleteUserError.setStyle({ display: \"flex\" });\n      deleteUserError\n        .getChildAsComponent(\".error-text\")\n        .setText(\n          error.response?.data?.message ||\n            \"An unexpected error occurred while deleting your account.\"\n        );\n    }\n  };\n\n  // Event listener to open the delete dialog\n  openDeleteDialogBtn.on(\"click\", showDeleteDialog);\n\n  // Event listener to close the delete dialog\n  closeDeleteDialogBtn.on(\"click\", hideDeleteDialog);\n\n  // Event listener for the final delete action\n  deleteUserFinalBtn.on(\"click\", handleDeleteUser);\n}\n"],"names":[],"version":3,"file":"accountProfile.acead7cf.js.map","sourceRoot":"../"}