!function(e,t,r,o,i){var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s="function"==typeof n[o]&&n[o],a=s.cache||{},c="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function l(t,r){if(!a[t]){if(!e[t]){var i="function"==typeof n[o]&&n[o];if(!r&&i)return i(t,!0);if(s)return s(t,!0);if(c&&"string"==typeof t)return c(t);var d=Error("Cannot find module '"+t+"'");throw d.code="MODULE_NOT_FOUND",d}u.resolve=function(r){var o=e[t][1][r];return null!=o?o:r},u.cache={};var f=a[t]=new l.Module(t);e[t][0].call(f.exports,u,f,f.exports,this)}return a[t].exports;function u(e){var t=u.resolve(e);return!1===t?{}:l(t)}}l.isParcelRequire=!0,l.Module=function(e){this.id=e,this.bundle=l,this.exports={}},l.modules=e,l.cache=a,l.parent=s,l.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(l,"root",{get:function(){return n[o]}}),n[o]=l;for(var d=0;d<t.length;d++)l(t[d])}({klDdo:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"fetchTicketOrders",()=>a),o.export(r,"initializeDynamicTicketOrderList",()=>c);var i=e("@xatom/core"),n=e("@xatom/image"),s=e("../../api/apiConfig");async function a(){try{let e=(0,s.apiClient).get("/dashboard/ticket_orders");return await e.fetch()}catch(e){throw console.error("Error fetching ticket orders:",e),e}}async function c(e){let t=new i.WFDynamicList(e,{rowSelector:"#listTicketsCard",loaderSelector:"#listTicketsloading",emptySelector:"#listTicketsEmpty"});t.loaderRenderer(e=>(e.setStyle({display:"flex"}),e)),t.emptyRenderer(e=>(e.setStyle({display:"flex"}),e)),t.rowRenderer(({rowData:e,rowElement:t})=>{let r=new i.WFComponent(t),o=r.getChildAsComponent("#cardPerformanceImage");if(o){let t=new n.WFImage(o.getElement());e.image_url?t.setImage(e.image_url):t.setImage("https://cdn.prod.website-files.com/667f080f36260b9afbdc46b2/667f080f36260b9afbdc46be_placeholder.svg")}let s=r.getChildAsComponent("#cardProductionName");s&&s.setText(e.production_name);let a=r.getChildAsComponent("#cardPerformanceName");a&&a.setText(e.performance_name);let c=r.getChildAsComponent("#cardPerformanceDate");if(c){let t=new Date(e.performance_date_time);c.setText(t.toLocaleString())}let l=r.getChildAsComponent("#quantity");l&&l.setText(e.quantity.toString());let d=r.getElement(),f=new URL(d.getAttribute("href")||"#",window.location.origin);return f.searchParams.set("performance",e.performance_id),f.searchParams.set("order",e.id.toString()),d.setAttribute("href",f.toString()),t.setStyle({display:"block"}),t});try{t.changeLoadingStatus(!0);let e=await a(),r=new Map;e.forEach(e=>{r.has(e.performance_id)||r.set(e.performance_id,e)});let o=Array.from(r.values());o.sort((e,t)=>e.performance_date_time-t.performance_date_time),t.setData(o),t.changeLoadingStatus(!1)}catch(e){console.error("Error loading ticket orders:",e),t.setData([]),t.changeLoadingStatus(!1)}}},{"@xatom/core":"65YBq","@xatom/image":"bavwf","../../api/apiConfig":"dUmIV","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],bavwf:[function(e,t,r){var o,i=e("d023971cccd819e3"),n={};Object.defineProperty(n,"WFImage",{get:()=>s,set:void 0,enumerable:!0,configurable:!0});class s extends i.WFComponent{constructor(e){super(e)}getImageConfig(){return this._config}getSrc(){return this.getAttribute("src")}getSizes(){return this.getAttribute("sizes")}getSrcSet(){return this.getAttribute("srcset")}getLoading(){return this.getAttribute("loading")}onLoad(e){return this.on("load",e),()=>{this.off("load",e)}}onLoadError(e){return this.on("error",e),()=>{this.off("error",e)}}setImage(e){if("string"==typeof e)this.setAttribute("src",e),this.removeAttribute("srcset"),this.removeAttribute("sizes");else{if(this.setAttribute("src",e.src),"object"==typeof e&&e.srcSet&&e.srcSet.length&&e.sizes&&e.sizes.length){let t=e.srcSet.map(e=>`${e.url} ${e.size}`).join(", ");this.setAttribute("srcset",t)}else this.removeAttribute("srcset"),this.removeAttribute("sizes");e.loading&&this.setAttribute("loading",e.loading)}}}o=t.exports,Object.keys(n).forEach(function(e){"default"===e||"__esModule"===e||o.hasOwnProperty(e)||Object.defineProperty(o,e,{enumerable:!0,get:function(){return n[e]}})})},{d023971cccd819e3:"65YBq"}]},[],0,"parcelRequired346");
//# sourceMappingURL=listTicketOrders.0d12cdf4.js.map
