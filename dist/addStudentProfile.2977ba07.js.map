{"mappings":"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","sources":["src/modules/forms/profiles/addStudentProfile/index.ts","src/modules/forms/profiles/addStudentProfile/sidebar.ts","src/modules/forms/profiles/addStudentProfile/slider.ts","node_modules/.pnpm/@xatom+slider@1.0.0_@xatom+core@1.0.12/node_modules/@xatom/slider/dist/index.js","src/modules/forms/profiles/addStudentProfile/steps/step1.ts","src/utils/formUtils.ts","node_modules/.pnpm/@xatom+image@1.0.0_@xatom+core@1.0.12/node_modules/@xatom/image/dist/index.js","src/utils/validationUtils.ts","src/utils/recaptchaUtils.ts","src/modules/forms/profiles/addStudentProfile/steps/step2.ts","src/modules/forms/profiles/addStudentProfile/steps/step3.ts","src/modules/forms/profiles/addStudentProfile/steps/step4.ts","src/modules/forms/profiles/addStudentProfile/caregiverDialog.ts","src/modules/forms/profiles/addStudentProfile/steps/step5.ts","src/modules/forms/profiles/addStudentProfile/steps/step6.ts","src/modules/forms/profiles/addStudentProfile/steps/step7.ts","src/modules/forms/profiles/addStudentProfile/steps/step8.ts","src/modules/forms/profiles/addStudentProfile/steps/step9.ts","src/modules/forms/profiles/addStudentProfile/steps/step10.ts"],"sourcesContent":["// src/modules/forms/profiles/addStudentProfile/index.ts\n\nimport { WFComponent, WFFormComponent } from \"@xatom/core\";\nimport { WFImage } from \"@xatom/image\";\nimport { WFSlider } from \"@xatom/slider\";\nimport { initializeSidebarIndicators } from \"./sidebar\";\nimport { initializeSlider } from \"./slider\";\nimport { initializeStepOne } from \"./steps/step1\";\nimport { initializeStepTwo } from \"./steps/step2\";\nimport { initializeStepThree } from \"./steps/step3\";\nimport { initializeStepFour } from \"./steps/step4\";\nimport { initializeStepFive } from \"./steps/step5\";\nimport { initializeStepSix } from \"./steps/step6\";\nimport { initializeStepSeven } from \"./steps/step7\";\nimport { initializeStepEight } from \"./steps/step8\";\nimport { initializeStepNine } from \"./steps/step9\";\nimport { initializeStepTen } from \"./steps/step10\";\n\nexport const addStudentProfile = async () => {\n  console.log(\"Initialize Add Student Form\");\n\n  // Initialize the sidebar indicators\n  initializeSidebarIndicators();\n\n  // Initialize the slider\n  const slider = initializeSlider();\n\n  // Initialize form components for all steps\n  const formStepOne = new WFFormComponent<{\n    first_name: string;\n    last_name: string;\n    email: string;\n    phone: string;\n    send_texts: boolean;\n  }>(\"#formStepOne\");\n\n  const formStepTwo = new WFFormComponent<{\n    profile_pic: string;\n    grade: string;\n    school: string;\n    dob: string;\n    gender: string;\n  }>(\"#formStepTwo\");\n\n  const formStepThree = new WFFormComponent<{\n    health: string;\n  }>(\"#formStepThree\");\n\n  const formStepFive = new WFFormComponent<{\n    emergency_first_name: string;\n    emergency_last_name: string;\n    emergency_email: string;\n    emergency_phone: string;\n    emergency_relationship: string;\n  }>(\"#formStepFive\");\n\n  const formStepSix = new WFFormComponent<{\n    dismissal_names: string;\n    independent_travel: boolean;\n  }>(\"#formStepSix\");\n\n  const formStepSeven = new WFFormComponent<{\n    family_involved: string;\n    photo_release: boolean;\n    student_id: number | null;\n  }>(\"#formStepSeven\");\n\n  // Function to collect form data from each step\n  const getFormData = () => {\n    const formStepOneData = formStepOne.getFormData();\n    const formStepTwoData = formStepTwo.getFormData();\n    const formStepThreeData = formStepThree.getFormData();\n    const formStepFiveData = formStepFive.getFormData();\n    const formStepSixData = formStepSix.getFormData();\n    const formStepSevenData = formStepSeven.getFormData();\n\n    // Retrieve the existing student's ID from local storage, if any\n    const existingStudent = localStorage.getItem(\"current_student\");\n    const studentId = existingStudent ? JSON.parse(existingStudent).id : null;\n\n    // Consolidate all form data\n    const formData = {\n      ...formStepOneData,\n      ...formStepTwoData,\n      ...formStepThreeData,\n      ...formStepFiveData,\n      ...formStepSixData,\n      ...formStepSevenData,\n    };\n\n    // Add the student ID to the form data if available\n    if (studentId) {\n      formData.student_id = studentId;\n    }\n\n    return formData;\n  };\n\n  // Initialize all steps\n  initializeStepOne(slider);\n  initializeStepTwo(slider);\n  initializeStepThree(slider);\n  initializeStepFour(slider);\n  initializeStepFive(slider);\n  initializeStepSix(slider);\n  initializeStepSeven(slider);\n  initializeStepEight(slider, getFormData); // Pass both slider and getFormData to Step Eight\n  initializeStepNine(slider);\n  initializeStepTen(slider);\n\n  \n};\n\n","// src/modules/forms/profiles/addStudentProfile/sidebar.ts\n\nimport { WFComponent } from \"@xatom/core\";\nimport { userAuth } from \"../../../../auth/authConfig\";\n\n// Initialize the sidebar indicators\nexport const initializeSidebarIndicators = () => {\n  const steps = [\n    { id: \"sidebarStepOne\", index: 1 },\n    { id: \"sidebarStepTwo\", index: 2 },\n    { id: \"sidebarStepThree\", index: 3 },\n    { id: \"sidebarStepFour\", index: 4 },\n    { id: \"sidebarStepFive\", index: 5 },\n    { id: \"sidebarStepSix\", index: 6 },\n    { id: \"sidebarStepSeven\", index: 7 },\n    { id: \"sidebarStepEight\", index: 8 },\n  ];\n\n  // Set sidebar first name from userAuth\n  const firstNameText = new WFComponent(\"#firstNameText\");\n  const user = userAuth.getUser();\n\n  if (user && user.profile && user.profile.first_name) {\n    firstNameText.setText(user.profile.first_name);\n  } else {\n    firstNameText.setText(\"Friend\");\n  }\n\n  // Initialize step components with click listeners\n  steps.forEach((step) => {\n    const stepComponent = new WFComponent(`#${step.id}`);\n    let isCompleted = false; // Track the completed state\n\n    stepComponent.on(\"click\", () => {\n      if (isCompleted) {\n        isCompleted = false;\n        stepComponent.removeCssClass(\"is-completed\");\n        // Optionally, trigger reverse animation here\n      } else {\n        isCompleted = true;\n        stepComponent.addCssClass(\"is-completed\");\n        // Optionally, trigger completed animation here\n      }\n    });\n  });\n};\n\n// Set the active step\nexport const setActiveStep = (stepNumber: number) => {\n  const stepId = getStepId(stepNumber);\n  if (!stepId) {\n    console.warn(`No sidebar step defined for step number ${stepNumber}`);\n    return;\n  }\n  const stepComponent = new WFComponent(`#${stepId}`);\n  stepComponent.addCssClass(\"is-active\");\n};\n\n// Unset the active step\nexport const unsetActiveStep = (stepNumber: number) => {\n  const stepId = getStepId(stepNumber);\n  if (!stepId) {\n    console.warn(`No sidebar step defined for step number ${stepNumber}`);\n    return;\n  }\n  const stepComponent = new WFComponent(`#${stepId}`);\n  stepComponent.removeCssClass(\"is-active\");\n};\n\n// Mark step as completed\nexport const markStepAsCompleted = (stepNumber: number) => {\n  const stepId = getStepId(stepNumber);\n  if (!stepId) {\n    console.warn(`No sidebar step defined for step number ${stepNumber}`);\n    return;\n  }\n  const step = new WFComponent(`#${stepId}`);\n  step.getElement().click(); // Programmatically trigger the click event to mark as complete\n};\n\n// Unmark step as completed (reverse the completed animation)\nexport const unmarkStepAsCompleted = (stepNumber: number) => {\n  const stepId = getStepId(stepNumber);\n  if (!stepId) {\n    console.warn(`No sidebar step defined for step number ${stepNumber}`);\n    return;\n  }\n  const step = new WFComponent(`#${stepId}`);\n  step.getElement().click(); // Programmatically trigger the click event to unmark as complete\n};\n\n// Helper function to get the ID string for a step\nconst getStepId = (stepNumber: number): string | null => {\n  const stepMap: Record<number, string> = {\n    1: \"sidebarStepOne\",\n    2: \"sidebarStepTwo\",\n    3: \"sidebarStepThree\",\n    4: \"sidebarStepFour\",\n    5: \"sidebarStepFive\",\n    6: \"sidebarStepSix\",\n    7: \"sidebarStepSeven\",\n    8: \"sidebarStepEight\",\n  };\n  return stepMap[stepNumber] || null;\n};\n","// src/modules/forms/profiles/addStudentProfile/slider.ts\n\nimport { WFSlider } from \"@xatom/slider\";\nimport {\n  setActiveStep,\n  markStepAsCompleted,\n  unmarkStepAsCompleted,\n} from \"./sidebar\";\n\nexport const initializeSlider = (): WFSlider => {\n  const slider = new WFSlider(\".multi-step_form_slider\");\n\n  // Initialize the slider's slide change handler using imported functions\n  slider.onSlideChange((activeIndex, prevIndex) => {\n    console.log(`Slide changed from ${prevIndex} to ${activeIndex}`);\n\n    // Set the active step in the sidebar\n    setActiveStep(activeIndex + 1);\n\n    if (prevIndex !== -1 && prevIndex < activeIndex) {\n      // Moving forward: mark the previous step as completed\n      markStepAsCompleted(prevIndex + 1);\n    }\n\n    if (prevIndex !== -1 && prevIndex > activeIndex) {\n      // Moving backward: unmark steps beyond the current\n      unmarkStepAsCompleted(prevIndex + 1);\n    }\n  });\n\n  // Set the initial active sidebar step\n  setActiveStep(slider.getActiveSlideIndex() + 1);\n\n  return slider;\n};\n","var e=require(\"@xatom/core\"),s=require(\"uuid\");var t,i,r,l,d={};t=d,i=\"WFSlider\",r=()=>o,Object.defineProperty(t,i,{get:r,set:l,enumerable:!0,configurable:!0});const n=window.jQuery;class o extends e.WFComponent{_sliderConfig={};_slides=[];_defaultSwipeDisabled=!1;_index=0;_listeners=new Map;constructor(e){super(e),this.init()}init(){this._defaultSwipeDisabled=\"true\"===this.getAttribute(\"data-disable-swipe\"),this._sliderConfig=n(this.getElement()).data()[\".wSlider\"],this._slides=Array.from(this._sliderConfig.slides).map((s=>new(0,e.WFComponent)(s))),this._mask=new(0,e.WFComponent)(this._sliderConfig.mask[0]),this._nav=new(0,e.WFComponent)(this._sliderConfig.nav[0]),this._left=new(0,e.WFComponent)(this._sliderConfig.left[0]),this._right=new(0,e.WFComponent)(this._sliderConfig.right[0]),function(e,s){if(!document.styleSheets)return;if(0==document.getElementsByTagName(\"head\").length)return;let t,i;if(document.styleSheets.length>0)for(var r=0,l=document.styleSheets.length;r<l;r++)if(!document.styleSheets[r].disabled){var d=document.styleSheets[r].media;if(i=typeof d,\"string\"===i?\"\"!==d&&-1===d.indexOf(\"screen\")||(t=document.styleSheets[r]):\"object\"==i&&(\"\"!==d.mediaText&&-1===d.mediaText.indexOf(\"screen\")||(t=document.styleSheets[r])),void 0!==t)break}if(void 0===t){var n=document.createElement(\"style\");for(n.type=\"text/css\",document.getElementsByTagName(\"head\")[0].appendChild(n),r=0;r<document.styleSheets.length;r++)document.styleSheets[r].disabled||(t=document.styleSheets[r]);i=typeof t.media}if(\"string\"===i){for(r=0,l=t.rules.length;r<l;r++)if(t.rules[r].selectorText&&t.rules[r].selectorText.toLowerCase()==e.toLowerCase())return void(t.rules[r].style.cssText=s);t.addRule(e,s)}else if(\"object\"===i){var o=t.cssRules?t.cssRules.length:0;for(r=0;r<o;r++)if(t.cssRules[r].selectorText&&t.cssRules[r].selectorText.toLowerCase()==e.toLowerCase())return void(t.cssRules[r].style.cssText=s);t.insertRule(e+\"{\"+s+\"}\",o)}}(\".xa-slider-disable\",\"display:none !important;\");const s=this;Object.defineProperty(s._sliderConfig,\"index\",{set:function(e){s._index=e,s._triggerOnChange()},get:function(){return s._index}}),this.refereshSlides()}reloadWFSlider(){window.Webflow.require(\"slider\").destroy(),window.Webflow.require(\"slider\").redraw(),window.Webflow.require(\"slider\").ready()}refereshSlides(){this._mask.getChildAsComponents(\".w-slide\").forEach((e=>e.remove())),this._slides.reverse().forEach((e=>{this._mask.getElement().prepend(e.getElement())})),this._slides.reverse(),this.reloadWFSlider()}getActiveSlide(){return this._slides[this._index]}getAllSlides(){return[...this._slides]}getSlideByIndex(e){return this._slides[e]}getActiveSlideIndex(){return this._index}getPreviousSlideIndex(){return this._sliderConfig.previous}goNext(){this._sliderConfig.right.click()}goPrevious(){this._sliderConfig.left.click()}goToIndex(e){e>=0&&e<this._slides.length&&(console.log(e),n(this._sliderConfig.nav.children()[e]).click())}addSlide(s,t={}){const i=t.index,r=t.cssClass,l=(0,e.createComponent)(\"div\");l.addCssClass(\"w-slide\"),r&&l.addCssClass(r),l.appendChild(s);const d=\"number\"!=typeof i?-1:i,n=this._slides;d>=0&&d<=n.length?n.splice(i,0,l):n.push(l),this._slides=[...n],this.refereshSlides()}removeSlide(e){const s=[...this._slides];e>=0&&e<s.length&&s.splice(e,1),this._slides=[...s],console.log(this._slides),this.refereshSlides()}getSlideNav(){return this._nav}setSlideNavigationState(e){e?(this._left.removeCssClass(\"xa-slider-disable\"),this._right.removeCssClass(\"xa-slider-disable\"),this._nav.removeCssClass(\"xa-slider-disable\"),this.setAttribute(\"data-disable-swipe\",this._defaultSwipeDisabled?\"true\":\"false\")):(this._left.addCssClass(\"xa-slider-disable\"),this._right.addCssClass(\"xa-slider-disable\"),this._nav.addCssClass(\"xa-slider-disable\"),this.setAttribute(\"data-disable-swipe\",\"true\")),this.reloadWFSlider()}onSlideChange(e){const t=(0,s.v4)();return this._listeners.set(t,e),()=>{this._listeners.delete(t)}}_triggerOnChange(){Array.from(this._listeners.values()).forEach((e=>{e(this._index,this._sliderConfig.previous)}))}getConfig(){return this._sliderConfig}}var a,h;a=module.exports,h=d,Object.keys(h).forEach((function(e){\"default\"===e||\"__esModule\"===e||a.hasOwnProperty(e)||Object.defineProperty(a,e,{enumerable:!0,get:function(){return h[e]}})}));","import { WFComponent, WFFormComponent } from \"@xatom/core\";\nimport {\n  setupValidation,\n  createValidationFunction,\n  toggleError,\n} from \"../../../../../utils/formUtils\";\nimport {\n  validateNotEmpty,\n  validateEmailOptional,\n  validatePhoneNumberOptional,\n} from \"../../../../../utils/validationUtils\";\nimport { handleRecaptcha } from \"../../../../../utils/recaptchaUtils\";\nimport { apiClient } from \"../../../../../api/apiConfig\";\nimport { WFSlider } from \"@xatom/slider\";\nimport { userAuth } from \"../../../../../auth/authConfig\";\n\ntype ApiResponse<T> = {\n  status: string;\n  message?: string;\n  profile?: T;\n};\n\ntype StudentProfile = {\n  id: string;\n  first_name: string;\n  last_name: string;\n  email: string;\n  phone: string;\n  send_texts: boolean;\n};\n\nexport const initializeStepOne = (slider: WFSlider) => {\n  console.log(\"Initialize Add Student Form\");\n\n  // Set sidebar first name from userAuth\n  const firstNameText = new WFComponent(\"#firstNameText\");\n  firstNameText.setText(userAuth.getUser().profile.first_name);\n  console.log(`First name set to: ${userAuth.getUser().profile.first_name}`);\n\n  // Step 1 Form Initialization\n  const formStepOne = new WFFormComponent<{\n    first_name: string;\n    last_name: string;\n    email: string;\n    phone: string;\n    send_texts: boolean;\n  }>(\"#formStepOne\");\n\n  // Check if current_student exists in local storage\n  const existingStudent = localStorage.getItem(\"current_student\");\n  console.log(`Existing Student at Initialization: ${existingStudent}`);\n  if (existingStudent) {\n    try {\n      const student = JSON.parse(existingStudent);\n      console.log(\"Parsed existing student data:\", student);\n      formStepOne.setFromData({\n        first_name: student.first_name,\n        last_name: student.last_name,\n        email: student.email,\n        phone: student.phone,\n        send_texts: student.send_texts,\n      });\n    } catch (parseError) {\n      console.error(\"Error parsing existing_student:\", parseError);\n    }\n  }\n\n  // Define the fields with associated validation rules and error messages\n  const fieldsStepOne = [\n    {\n      input: new WFComponent(\"#firstNameInput\"),\n      error: new WFComponent(\"#firstNameInputError\"),\n      validationFn: validateNotEmpty,\n      message: \"First name is required\",\n    },\n    {\n      input: new WFComponent(\"#lastNameInput\"),\n      error: new WFComponent(\"#lastNameInputError\"),\n      validationFn: validateNotEmpty,\n      message: \"Last name is required\",\n    },\n    {\n      input: new WFComponent(\"#emailInput\"),\n      error: new WFComponent(\"#emailInputError\"),\n      validationFn: validateEmailOptional,\n      message: \"Please enter a valid email address\",\n    },\n    {\n      input: new WFComponent(\"#phoneNumberInput\"),\n      error: new WFComponent(\"#phoneNumberInputError\"),\n      validationFn: validatePhoneNumberOptional,\n      message: \"Please enter a valid phone number or leave it empty\",\n    },\n  ];\n\n  // Auto-format phone number input to (xxx) xxx-xxxx\n  const phoneNumberInput = new WFComponent(\"#phoneNumberInput\");\n  phoneNumberInput.on(\"input\", () => {\n    const inputElement = phoneNumberInput.getElement() as HTMLInputElement;\n    const cursorPosition = inputElement.selectionStart as number;\n    const originalValue = inputElement.value;\n    inputElement.value = formatPhoneNumber(inputElement.value);\n    const formattedLength = inputElement.value.length;\n    const cleanedLength = inputElement.value.replace(/\\D/g, \"\").length;\n    inputElement.setSelectionRange(\n      cursorPosition + (formattedLength - cleanedLength),\n      cursorPosition + (formattedLength - cleanedLength)\n    );\n    console.log(\n      `Phone number formatted from \"${originalValue}\" to \"${inputElement.value}\"`\n    );\n  });\n\n  // Initialize validation for each field\n  fieldsStepOne.forEach(({ input, error, validationFn, message }) => {\n    input.on(\"blur\", () => {\n      const errorMessage = createValidationFunction(input, validationFn, message)();\n      if (errorMessage) {\n        toggleError(error, errorMessage, true);\n      } else {\n        toggleError(error, \"\", false);\n      }\n    });\n\n    setupValidation(\n      input,\n      error,\n      createValidationFunction(input, validationFn, message),\n      new WFComponent(\"#submitStepOneError\")\n    );\n  });\n\n  // Handle form submission for Step 1\n  formStepOne.onFormSubmit(async (formData, event) => {\n    event.preventDefault();\n    console.log(\"Form submission initiated.\");\n    const stepOneRequestingAnimation = new WFComponent(\"#stepOneRequestingAnimation\");\n    stepOneRequestingAnimation.setStyle({ display: \"block\" });\n\n    let isFormValid = true;\n    fieldsStepOne.forEach(({ input, error, validationFn, message }) => {\n      const errorMessage = createValidationFunction(input, validationFn, message)();\n      if (errorMessage) {\n        toggleError(error, errorMessage, true);\n        isFormValid = false;\n      } else {\n        toggleError(error, \"\", false);\n      }\n    });\n\n    if (!isFormValid) {\n      toggleError(new WFComponent(\"#submitStepOneError\"), \"Please correct all errors above.\", true);\n      stepOneRequestingAnimation.setStyle({ display: \"none\" });\n      return;\n    }\n\n    const existingStudentNow = localStorage.getItem(\"current_student\");\n    if (existingStudentNow) {\n      try {\n        const student = JSON.parse(existingStudentNow);\n        const formMatchesExisting = compareFormDataWithStudent(formData, student);\n\n        if (formMatchesExisting) {\n          slider.goNext();\n          stepOneRequestingAnimation.setStyle({ display: \"none\" });\n          return;\n        } else {\n          const updatedProfile = await updateStudentProfile(student.id, formData);\n          localStorage.setItem(\"current_student\", JSON.stringify(updatedProfile));\n          slider.goNext();\n        }\n      } catch (error: any) {\n        const errorMessage =\n          error.response?.data?.message || error.message || \"Failed to update student profile.\";\n        toggleError(new WFComponent(\"#submitStepOneError\"), errorMessage, true);\n      } finally {\n        stepOneRequestingAnimation.setStyle({ display: \"none\" });\n      }\n      return;\n    }\n\n    const recaptchaAction = \"create_account\";\n    const isRecaptchaValid = await handleRecaptcha(recaptchaAction);\n    if (!isRecaptchaValid) {\n      toggleError(\n        new WFComponent(\"#submitStepOneError\"),\n        \"reCAPTCHA verification failed. Please try again.\",\n        true\n      );\n      stepOneRequestingAnimation.setStyle({ display: \"none\" });\n      return;\n    }\n\n    try {\n      const response = await apiClient\n        .post<ApiResponse<StudentProfile>>(\"/profiles/students/create-student\", {\n          data: formData,\n        })\n        .fetch();\n\n      if (response.status === \"success\" && response.profile) {\n        localStorage.setItem(\"current_student\", JSON.stringify(response.profile));\n        slider.goNext();\n      } else {\n        throw new Error(response.message || \"Failed to create student profile.\");\n      }\n    } catch (error: any) {\n      const errorMessage =\n        error.response?.data?.message || error.message || \"Failed to create student profile.\";\n      toggleError(new WFComponent(\"#submitStepOneError\"), errorMessage, true);\n    } finally {\n      stepOneRequestingAnimation.setStyle({ display: \"none\" });\n    }\n  });\n};\n\nfunction formatPhoneNumber(value: string): string {\n  const cleaned = value.replace(/\\D/g, \"\");\n  return cleaned.length <= 3\n    ? cleaned\n    : cleaned.length <= 6\n    ? `(${cleaned.slice(0, 3)}) ${cleaned.slice(3)}`\n    : `(${cleaned.slice(0, 3)}) ${cleaned.slice(3, 6)}-${cleaned.slice(6, 10)}`;\n}\n\nfunction compareFormDataWithStudent(formData: StudentProfile, student: StudentProfile): boolean {\n  return (\n    formData.first_name === student.first_name &&\n    formData.last_name === student.last_name &&\n    formData.email === student.email &&\n    formData.phone === student.phone &&\n    formData.send_texts === student.send_texts\n  );\n}\n\nasync function updateStudentProfile(id: string, formData: StudentProfile): Promise<StudentProfile> {\n  const response = await apiClient\n    .post<ApiResponse<StudentProfile>>(\"/profiles/students/create-student-updated\", {\n      data: { ...formData, id },\n    })\n    .fetch();\n\n  if (response.status === \"success\" && response.profile) {\n    return response.profile;\n  } else {\n    throw new Error(response.message || \"Failed to update student profile.\");\n  }\n}\n","import { WFComponent } from \"@xatom/core\";\nimport { WFImage } from \"@xatom/image\";\nimport { apiClient } from \"../api/apiConfig\";\nimport { userAuth } from \"../auth/authConfig\";\n\nexport function toggleError(\n  errorMessageComponent: WFComponent<any>,\n  message: string,\n  show: boolean\n): void {\n  errorMessageComponent.updateTextViaAttrVar({ text: show ? message : \"\" });\n  errorMessageComponent.setStyle({ display: show ? \"flex\" : \"none\" });\n}\n\nexport function setupValidation(\n  inputComponent: WFComponent,\n  errorComponent: WFComponent,\n  validate: () => string,\n  requestErrorComponent?: WFComponent // Optional component to clear on input change\n) {\n  const validateAndUpdate = () => {\n    const errorMessage = validate();\n    toggleError(errorComponent, errorMessage, !!errorMessage);\n    if (requestErrorComponent && errorMessage === \"\") {\n      // Clear request error message when the user is correcting the input\n      toggleError(requestErrorComponent, \"\", false);\n    }\n  };\n\n  // Attach event listeners for real-time validation\n  inputComponent.on(\"input\", validateAndUpdate);\n  inputComponent.on(\"blur\", validateAndUpdate);\n  inputComponent.on(\"change\", validateAndUpdate);\n}\n\nexport function createValidationFunction(\n  inputComponent: WFComponent,\n  validationFn: (input: string) => boolean,\n  errorMessage: string\n): () => string {\n  return () => {\n    const inputElement = inputComponent.getElement() as HTMLInputElement;\n    const isValid = validationFn(inputElement.value);\n    return isValid ? \"\" : errorMessage;\n  };\n}\n\nexport function createCheckboxValidationFunction(\n  checkboxComponent: WFComponent,\n  errorMessage: string\n): () => string {\n  return () => {\n    const checkbox = checkboxComponent.getElement() as HTMLInputElement;\n    return checkbox.checked ? \"\" : errorMessage;\n  };\n}\n\nexport function setupCheckboxValidation(\n  checkboxComponent: WFComponent,\n  checkboxErrorComponent: WFComponent,\n  errorMessage: string\n) {\n  const validate = createCheckboxValidationFunction(\n    checkboxComponent,\n    errorMessage\n  );\n  setupValidation(checkboxComponent, checkboxErrorComponent, validate);\n}\n\nexport function validateSelectedSessions(\n  selectedSessions: { sessionId: string; studentIds: string[] }[],\n  errorMessageComponent: WFComponent<any>,\n  errorMessage: string\n): boolean {\n  const isValid =\n    selectedSessions.length > 0 &&\n    selectedSessions.some((session) => session.studentIds.length > 0);\n\n  if (!isValid) {\n    toggleError(errorMessageComponent, errorMessage, true);\n  } else {\n    toggleError(errorMessageComponent, \"\", false);\n  }\n\n  return isValid;\n}\n\ntype fileUploadResponse = {\n  status: string;\n  url: {\n    profile_pic: {\n      url: string;\n    };\n  };\n};\n\n/**\n * Updates the user's profile picture URL in the authentication system.\n * @param {string} imageUrl - The URL of the uploaded image.\n */\nexport function setProfilePicUrl(imageUrl: string): void {\n  const user = userAuth.getUser();\n  if (user && user.profile) {\n    // Ensure the profile_picture object exists\n    user.profile.profile_pic = user.profile.profile_pic || { url: \"\" };\n\n    // Set the profile picture URL\n    user.profile.profile_pic.url = imageUrl;\n    userAuth.setUser(user);\n    localStorage.setItem(\"auth_user\", JSON.stringify(user));\n  }\n}\n\n/**\n * Handles file upload and displays the uploaded image.\n * @param {WFComponent} fileInput - The WFComponent instance for the file input field.\n * @param {WFComponent} fileInputError - The WFComponent instance for displaying error messages.\n * @param {WFComponent} fileInputSuccess - The WFComponent instance for displaying success messages.\n * @param {string} uploadEndpoint - The endpoint to which the file is sent.\n * @returns {Promise<string>} A promise that resolves with the URL of the uploaded image.\n */\n/**\n * Handles file upload and displays the uploaded image.\n * Only JPEG files less than 2 MB can be uploaded.\n * @param {WFComponent} fileInput - The WFComponent instance for the file input field.\n * @param {WFComponent} fileInputError - The WFComponent instance for displaying error messages.\n * @param {WFComponent} fileInputSuccess - The WFComponent instance for displaying success messages.\n * @param {string} uploadEndpoint - The endpoint to which the file is sent.\n * @returns {Promise<string>} A promise that resolves with the URL of the uploaded image.\n */\nexport function setupFileUpload(\n  fileInput: WFComponent,\n  fileInputError: WFComponent,\n  fileInputSuccess: WFComponent,\n  uploadEndpoint: string\n): Promise<string> {\n  const profilePictureImage = new WFImage(\"#profilePictureImage\");\n  const uploadAnimation = new WFComponent(\"#uploadAnimation\");\n\n  const overlay = new WFComponent(\".drop-zone\");\n  let dragCounter = 0;\n\n  return new Promise<string>((resolve) => {\n    const handleFile = (file: File) => {\n      // Validate file type and size\n      const validTypes = [\"image/jpeg\", \"image/jpg\"];\n      const maxSizeInBytes = 2 * 1024 * 1024; // 2 MB\n\n      if (\n        !validTypes.includes(file.type) &&\n        !/\\.(jpg|jpeg)$/i.test(file.name)\n      ) {\n        const errorMessage = \"Only JPEG images are allowed.\";\n        toggleError(fileInputError, errorMessage, true);\n        // Reset file input value\n        (fileInput.getElement() as HTMLInputElement).value = \"\";\n        return;\n      }\n\n      if (file.size > maxSizeInBytes) {\n        const errorMessage = \"File size must be less than 2 MB.\";\n        toggleError(fileInputError, errorMessage, true);\n        // Reset file input value\n        (fileInput.getElement() as HTMLInputElement).value = \"\";\n        return;\n      }\n\n      // Show upload animation immediately\n      uploadAnimation.setStyle({ display: \"flex\" });\n\n      // Hide error and success messages\n      fileInputError.setStyle({ display: \"none\" });\n      fileInputSuccess.setStyle({ display: \"none\" });\n\n      const reader = new FileReader();\n\n      // Display preview image as soon as the file is loaded into memory\n      reader.onload = (event) => {\n        // Set the preview image for the profile picture\n        const result = event.target?.result as string;\n        profilePictureImage.setImage(result);\n\n        // Hide overlay once the image is set\n        overlay.setStyle({ display: \"none\" });\n      };\n\n      reader.readAsDataURL(file);\n\n      const formData = new FormData();\n      formData.append(\"profile_picture\", file);\n\n      const existingStudent = localStorage.getItem(\"current_student\");\n      if (existingStudent) {\n        const student = JSON.parse(existingStudent);\n        formData.append(\"student_profile_id\", student.id.toString());\n      }\n\n      // Send the file to the server\n      const postRequest = apiClient.post<fileUploadResponse>(uploadEndpoint, {\n        data: formData,\n      });\n\n      postRequest.onData((response) => {\n        if (response.status === \"success\") {\n          const imageUrl = response.url.profile_pic.url;\n\n          // Update the profile picture URL in the user session and local storage\n          setProfilePicUrl(imageUrl);\n\n          // Update the image for other parts of the UI as well\n          profilePictureImage.setImage(imageUrl);\n\n          // Store the URL in local storage\n          localStorage.setItem(\"image_upload\", imageUrl);\n\n          // Show success message and hide upload animation\n          fileInputSuccess.setStyle({ display: \"flex\" });\n          uploadAnimation.setStyle({ display: \"none\" });\n\n          // Resolve with the uploaded image URL\n          resolve(imageUrl);\n        } else {\n          const errorMessage = \"Failed to upload profile picture.\";\n          toggleError(fileInputError, errorMessage, true);\n          uploadAnimation.setStyle({ display: \"none\" });\n          overlay.setStyle({ display: \"none\" });\n          dragCounter = 0;\n          // Reset file input value\n          (fileInput.getElement() as HTMLInputElement).value = \"\";\n        }\n      });\n\n      postRequest.onError((error) => {\n        let errorMessage = \"An error occurred during image upload.\";\n        if (error.response && error.response.data) {\n          errorMessage = error.response.data.message || errorMessage;\n        } else if (error.message) {\n          errorMessage = error.message;\n        }\n\n        // Show error message and hide upload animation\n        toggleError(fileInputError, errorMessage, true);\n        uploadAnimation.setStyle({ display: \"none\" });\n        overlay.setStyle({ display: \"none\" });\n        dragCounter = 0;\n        // Reset file input value\n        (fileInput.getElement() as HTMLInputElement).value = \"\";\n      });\n\n      // Make the API call\n      postRequest.fetch();\n    };\n\n    // Event listener for file input changes\n    fileInput.on(\"change\", () => {\n      const file = (fileInput.getElement() as HTMLInputElement).files?.[0];\n      if (file) {\n        handleFile(file);\n      }\n    });\n\n    // Event listeners for drag-and-drop\n    const dragZoneElement = document.body;\n    dragZoneElement.addEventListener(\"dragenter\", (event) => {\n      event.preventDefault();\n      dragCounter++;\n      if (dragCounter === 1) {\n        overlay.setStyle({ display: \"flex\" });\n      }\n    });\n\n    dragZoneElement.addEventListener(\"dragleave\", () => {\n      dragCounter--;\n      if (dragCounter <= 0) {\n        overlay.setStyle({ display: \"none\" });\n        dragCounter = 0;\n      }\n    });\n\n    dragZoneElement.addEventListener(\"dragover\", (event) => {\n      event.preventDefault();\n    });\n\n    dragZoneElement.addEventListener(\"drop\", (event) => {\n      event.preventDefault();\n\n      const files = event.dataTransfer?.files;\n      if (files?.length) {\n        handleFile(files[0]);\n      }\n\n      overlay.setStyle({ display: \"none\" });\n      dragCounter = 0;\n    });\n  });\n}\n\n// src/utils/formUtils.ts\n\n/**\n * Formats a phone number string to the format (xxx) xxx-xxxx.\n * If the input contains more than 10 digits, it truncates the extra digits.\n * If it contains fewer, it formats as much as possible.\n *\n * @param value - The raw phone number string.\n * @returns The formatted phone number string.\n */\nexport const formatPhoneNumber = (value: string): string => {\n  const cleaned = value.replace(/\\D/g, \"\"); // Remove all non-digit characters\n\n  if (cleaned.length <= 3) {\n    return cleaned;\n  } else if (cleaned.length <= 6) {\n    return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3)}`;\n  } else if (cleaned.length <= 10) {\n    return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3, 6)}-${cleaned.slice(\n      6\n    )}`;\n  } else {\n    // If more than 10 digits, truncate the extra digits\n    return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3, 6)}-${cleaned.slice(\n      6,\n      10\n    )}`;\n  }\n};\n","var t=require(\"@xatom/core\");var e,r,s,i,o,n,u={};e=u,r=\"WFImage\",s=()=>c,Object.defineProperty(e,r,{get:s,set:i,enumerable:!0,configurable:!0});class c extends t.WFComponent{constructor(t){super(t)}getImageConfig(){return this._config}getSrc(){return this.getAttribute(\"src\")}getSizes(){return this.getAttribute(\"sizes\")}getSrcSet(){return this.getAttribute(\"srcset\")}getLoading(){return this.getAttribute(\"loading\")}onLoad(t){return this.on(\"load\",t),()=>{this.off(\"load\",t)}}onLoadError(t){return this.on(\"error\",t),()=>{this.off(\"error\",t)}}setImage(t){if(\"string\"==typeof t)this.setAttribute(\"src\",t),this.removeAttribute(\"srcset\"),this.removeAttribute(\"sizes\");else{if(this.setAttribute(\"src\",t.src),\"object\"==typeof t&&t.srcSet&&t.srcSet.length&&t.sizes&&t.sizes.length){const e=t.srcSet.map((t=>`${t.url} ${t.size}`)).join(\", \");this.setAttribute(\"srcset\",e)}else this.removeAttribute(\"srcset\"),this.removeAttribute(\"sizes\");t.loading&&this.setAttribute(\"loading\",t.loading)}}}o=module.exports,n=u,Object.keys(n).forEach((function(t){\"default\"===t||\"__esModule\"===t||o.hasOwnProperty(t)||Object.defineProperty(o,t,{enumerable:!0,get:function(){return n[t]}})}));","import { WFComponent } from \"@xatom/core\";\nimport { toggleError } from \"./formUtils\";\n\nexport function validateNotEmpty(input: string | undefined): boolean {\n  return input !== undefined && input.trim() !== \"\";\n}\n\nexport function validateEmail(input: string): boolean {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailRegex.test(input);\n}\n\n/**\n * Validates that the email is either empty or correctly formatted.\n * @param value The email input value.\n * @returns True if valid, false otherwise.\n */\nexport const validateEmailOptional = (value: string): boolean => {\n  if (value.trim() === \"\") {\n    // Email is optional, so empty string is valid\n    return true;\n  }\n  // Validate the email format if not empty\n  return validateEmail(value);\n};\n\nexport function validatePasswordRequirements(password: string): boolean {\n  const hasLowercase = /[a-z]/.test(password);\n  const hasUppercase = /[A-Z]/.test(password);\n  const hasDigit = /\\d/.test(password);\n  const hasSpecialChar = /[!@#$%^&*(),.?\":{}|<>]/.test(password);\n  const hasValidLength = password.length >= 8;\n  return (\n    hasLowercase && hasUppercase && hasDigit && hasSpecialChar && hasValidLength\n  );\n}\n\nexport function validateCheckbox(checked: boolean): boolean {\n  return checked;\n}\n\nexport function validatePasswordsMatch(\n  originalPassword: string,\n  confirmPassword: string\n): boolean {\n  return originalPassword === confirmPassword;\n}\n\nexport function validateSelectField(input: string | undefined): boolean {\n  return input !== undefined && input !== \"N/A\";\n}\n\nexport function validatePhoneNumber(input: string): boolean {\n  const phoneRegex = /^\\(\\d{3}\\)\\s\\d{3}-\\d{4}$/;\n  return phoneRegex.test(input);\n}\n\nexport const validatePhoneNumberOptional = (value: string): boolean => {\n  if (value.trim() === \"\") {\n    // Phone number is optional, so empty string is valid\n    return true;\n  }\n  // Validate the phone number format if not empty\n  return validatePhoneNumber(value);\n};\n","//../../utils/recaptchaUtils.ts\nimport { apiClient } from \"../api/apiConfig\";\n\n// Declaration for the global reCAPTCHA variable.\ndeclare const grecaptcha: any;\n\n/**\n * Asynchronously obtains a reCAPTCHA token for a specified action.\n * @param {string} action - The action name for which the reCAPTCHA token is requested.\n * @returns {Promise<string>} A promise that resolves with the reCAPTCHA token.\n */\nexport async function getRecaptchaToken(action: string): Promise<string> {\n  return new Promise<string>((resolve, reject) => {\n    // Ensure grecaptcha is ready and execute the token request.\n    grecaptcha.ready(() => {\n      grecaptcha\n        .execute(\"6Lekaa8pAAAAAN6qiq0LSP5Akckql4Blg6K5ToUq\", { action: action })\n        .then((token: string) => {\n          resolve(token); // Resolve with the obtained token.\n        }, reject); // Reject the promise if there is an error.\n    });\n  });\n}\n\n/**\n * Validates a reCAPTCHA token with the backend server.\n * @param {string} token - The reCAPTCHA token to validate.\n * @returns {Promise<any>} A promise that resolves with the validation response from the server.\n */\nexport async function validateRecaptchaToken(token: string): Promise<any> {\n  try {\n    // Send the reCAPTCHA token to the server for validation.\n    const response = await apiClient\n      .post(\"/recaptcha/validate\", {\n        data: { \"g-recaptcha-response\": token },\n      })\n      .fetch();\n\n    // Return the server's response directly assuming it's already in JSON format.\n    return response; // Assume response is the direct JSON body.\n  } catch (error) {\n    throw new Error(`ReCAPTCHA validation failed: ${error}`);\n  }\n}\n\n/**\n * Handles the full reCAPTCHA verification flow from obtaining the token to validating it.\n * @param {string} action - The action name for which the reCAPTCHA should be processed.\n * @returns {Promise<boolean>} A promise that resolves with true if the reCAPTCHA verification is successful.\n */\nexport async function handleRecaptcha(action: string): Promise<boolean> {\n  try {\n    const token = await getRecaptchaToken(action);\n    const validationResponse = await validateRecaptchaToken(token);\n    return validationResponse.status === \"success\";\n  } catch (error) {\n    console.error(\"ReCAPTCHA handling failed:\", error);\n    // If error has a response, log it for more context\n    if (error.response) {\n      console.error(\"Error response:\", error.response);\n    }\n    return false;\n  }\n}\n","import { WFComponent, WFFormComponent } from \"@xatom/core\";\nimport {\n  setupValidation,\n  createValidationFunction,\n  toggleError,\n  setupFileUpload,\n} from \"../../../../../utils/formUtils\";\nimport {\n  validateNotEmpty,\n  validateSelectField,\n} from \"../../../../../utils/validationUtils\";\nimport { WFSlider } from \"@xatom/slider\";\nimport { unmarkStepAsCompleted, unsetActiveStep } from \"../sidebar\";\n\n/**\n * Initializes Step Two of the Add Student Profile Form.\n * Handles image uploads, field validations, and form submissions.\n * @param slider - The WFSlider instance controlling the form steps.\n */\nexport const initializeStepTwo = (slider: WFSlider) => {\n  console.log(\"Initialize Step Two Form\");\n\n  // Step 2 Form Initialization\n  const formStepTwo = new WFFormComponent<{\n    profile_pic: string;\n    grade: string;\n    school: string;\n    dob: string;\n    gender: string;\n  }>(\"#formStepTwo\");\n\n  // File Upload Setup for Profile Picture\n  const profilePictureInput = new WFComponent(\"#profilePictureInput\");\n  const profilePictureInputError = new WFComponent(\"#profilePictureInputError\");\n  const profilePictureInputSuccess = new WFComponent(\n    \"#profilePictureInputSuccess\"\n  );\n\n  // Set up file upload with enhanced functionality\n  setupFileUpload(\n    profilePictureInput,\n    profilePictureInputError,\n    profilePictureInputSuccess,\n    \"/profiles/students/image-upload\" // Replace with your actual endpoint\n  )\n    .then((imageUrl) => {\n      console.log(\"Image uploaded successfully: \", imageUrl);\n\n      // Update the 'profile_pic' field in the form with the uploaded image URL\n      const profilePicInputElement = document.querySelector(\n        \"#profile_pic\"\n      ) as HTMLInputElement;\n      if (profilePicInputElement) {\n        profilePicInputElement.value = imageUrl;\n        console.log(`'profile_pic' field set to: ${imageUrl}`);\n      } else {\n        console.warn(\n          \"Profile picture input element ('#profile_pic') not found.\"\n        );\n      }\n\n      // Indicate success to the user\n      profilePictureInputSuccess.setText(\"Image uploaded successfully!\");\n    })\n    .catch((error) => {\n      console.error(\"Error uploading image: \", error.message);\n      toggleError(\n        profilePictureInputError,\n        \"Failed to upload image. Please try again.\",\n        true\n      );\n    });\n\n  // Define the fields with associated validation rules and error messages\n  const fieldsStepTwo = [\n    {\n      input: new WFComponent(\"#gradeInput\"),\n      error: new WFComponent(\"#gradeInputError\"),\n      validationFn: validateSelectField,\n      message: \"Grade is required\",\n    },\n    {\n      input: new WFComponent(\"#schoolInput\"),\n      error: new WFComponent(\"#schoolInputError\"),\n      validationFn: validateNotEmpty,\n      message: \"School is required\",\n    },\n    {\n      input: new WFComponent(\"#dobInput\"),\n      error: new WFComponent(\"#dobInputError\"),\n      validationFn: validateNotEmpty,\n      message: \"Date of birth is required\",\n    },\n    {\n      input: new WFComponent(\"#genderInput\"),\n      error: new WFComponent(\"#genderInputError\"),\n      validationFn: validateSelectField,\n      message: \"Please select an option\",\n    },\n  ];\n\n  // Initialize validation for each field\n  fieldsStepTwo.forEach(({ input, error, validationFn, message }) => {\n    setupValidation(\n      input,\n      error,\n      createValidationFunction(input, validationFn, message),\n      new WFComponent(\"#submitStepTwoError\")\n    );\n  });\n\n  // Handle form submission for Step 2\n  formStepTwo.onFormSubmit(async (formData, event) => {\n    event.preventDefault(); // Stop default form submission\n    console.log(\"Step Two Form submission initiated.\");\n\n    let isFormValid = true;\n\n    // Validate all fields before proceeding\n    fieldsStepTwo.forEach(({ input, error, validationFn, message }) => {\n      const errorMessage = createValidationFunction(\n        input,\n        validationFn,\n        message\n      )();\n      console.log(\n        `Validation result for ${input.getElement().id}: \"${errorMessage}\"`\n      );\n      if (errorMessage) {\n        toggleError(error, errorMessage, true);\n        isFormValid = false;\n      } else {\n        toggleError(error, \"\", false);\n      }\n    });\n\n    if (!isFormValid) {\n      toggleError(\n        new WFComponent(\"#submitStepTwoError\"),\n        \"Please correct all errors above.\",\n        true\n      );\n      console.log(\"Form validation failed. Errors are displayed.\");\n      return;\n    }\n\n    // **Check if an image was uploaded by examining the 'profile_pic' field**\n    if (!formData.profile_pic) {\n      localStorage.removeItem(\"image_upload\");\n      console.log(\"No image uploaded. Cleared 'image_upload' from local storage.\");\n    } else {\n      // Optionally, you can ensure 'image_upload' is set correctly if needed\n      // Example:\n      // localStorage.setItem(\"image_upload\", formData.profile_pic);\n      console.log(\"'profile_pic' exists. No action taken on 'image_upload'.\");\n    }\n\n    // Proceed to the next step\n    console.log(\"Form is valid. Navigating to the next step.\");\n    slider.goNext();\n  });\n\n  // Handle back button for Step 2\n  const backStepButton = new WFComponent(\"#backStepTwo\");\n  backStepButton.on(\"click\", () => {\n    console.log(\"Back button clicked. Navigating to the previous step.\");\n    slider.goPrevious();\n    unsetActiveStep(2);\n    unmarkStepAsCompleted(1);\n    unmarkStepAsCompleted(2);\n  });\n};\n","import { WFComponent, WFFormComponent } from \"@xatom/core\";\nimport {\n  setupValidation,\n  createValidationFunction,\n  toggleError,\n} from \"../../../../../utils/formUtils\";\nimport { validateNotEmpty } from \"../../../../../utils/validationUtils\";\nimport { WFSlider } from \"@xatom/slider\";\nimport { unmarkStepAsCompleted, unsetActiveStep } from \"../sidebar\";\n\nexport const initializeStepThree = (slider: WFSlider) => {\n  console.log(\"Initialize Step Three Form\");\n\n  // Step 3 Form Initialization\n  const formStepThree = new WFFormComponent<{\n    health: string;\n  }>(\"#formStepThree\");\n\n  // Define the fields with associated validation rules and error messages\n  const fieldsStepThree = [\n    {\n      input: new WFComponent(\"#healthInput\"),\n      error: new WFComponent(\"#healthInputError\"),\n      validationFn: validateNotEmpty,\n      message: \"Health information is required\",\n    },\n  ];\n\n  // Initialize validation for each field\n  fieldsStepThree.forEach(({ input, error, validationFn, message }) => {\n    setupValidation(\n      input,\n      error,\n      createValidationFunction(input, validationFn, message),\n      new WFComponent(\"#submitStepThreeError\")\n    );\n  });\n\n  // Handle form submission for Step 3\n  formStepThree.onFormSubmit(async (formData, event) => {\n    event.preventDefault(); // Stop default form submission\n    let isFormValid = true;\n\n    // Validate all fields before proceeding\n    fieldsStepThree.forEach(({ input, error, validationFn, message }) => {\n      const errorMessage = createValidationFunction(\n        input,\n        validationFn,\n        message\n      )();\n      if (errorMessage) {\n        toggleError(error, errorMessage, true);\n        isFormValid = false;\n      } else {\n        toggleError(error, \"\", false);\n      }\n    });\n\n    if (!isFormValid) {\n      toggleError(\n        new WFComponent(\"#submitStepThreeError\"),\n        \"Please correct all errors above.\",\n        true\n      );\n      return;\n    }\n\n    // Proceed to the next step\n    slider.goNext();\n  });\n\n  // Handle back button for Step 3\n  const backStepButton = new WFComponent(\"#backStepThree\");\n  backStepButton.on(\"click\", () => {\n    slider.goPrevious();\n    unsetActiveStep(3);\n    unmarkStepAsCompleted(2);\n    unmarkStepAsCompleted(3);\n  });\n};\n","import { WFComponent } from \"@xatom/core\";\nimport { WFSlider } from \"@xatom/slider\";\nimport { initializeCaregiverDialog } from \"../caregiverDialog\";\nimport { unmarkStepAsCompleted, unsetActiveStep } from \"../sidebar\";\n\nexport const initializeStepFour = (slider: WFSlider) => {\n  console.log(\"Initialize Step Four Form - Invite Caregiver\");\n\n  // Initialize Caregiver Dialog/Form\n  initializeCaregiverDialog();\n\n  // Handle Step 4 submission (Continue to Step 5)\n  const submitStepFour = new WFComponent(\"#submitStepFour\");\n  submitStepFour.on(\"click\", () => {\n    slider.goNext();\n  });\n\n  // Handle back button for Step 4\n  const backStepButton = new WFComponent(\"#backStepFour\");\n  backStepButton.on(\"click\", () => {\n    slider.goPrevious();\n    unsetActiveStep(4);\n    unmarkStepAsCompleted(3);\n    unmarkStepAsCompleted(4);\n  });\n};\n","import { WFComponent, WFFormComponent } from \"@xatom/core\";\nimport {\n  setupValidation,\n  createValidationFunction,\n  toggleError,\n} from \"../../../../utils/formUtils\";\nimport { validateEmail } from \"../../../../utils/validationUtils\";\nimport { handleRecaptcha } from \"../../../../utils/recaptchaUtils\";\nimport { apiClient } from \"../../../../api/apiConfig\";\n\nexport const initializeCaregiverDialog = () => {\n  console.log(\"Initialize Invite Caregiver Form\");\n\n  // Caregiver Form Initialization\n  const caregiverForm = new WFFormComponent<{\n    caregiver_email: string;\n  }>(\"#inviteCaregiverDialog\");\n\n  // Define the fields with associated validation rules and error messages\n  const fieldsCaregiver = [\n    {\n      input: new WFComponent(\"#caregiverEmailInput\"),\n      error: new WFComponent(\"#caregiverEmailInputError\"),\n      validationFn: validateEmail,\n      message: \"Please enter a valid email address\",\n    },\n  ];\n\n  // Initialize validation for each field\n  fieldsCaregiver.forEach(({ input, error, validationFn, message }) => {\n    setupValidation(\n      input,\n      error,\n      createValidationFunction(input, validationFn, message),\n      new WFComponent(\"#submitInviteCaregiverError\")\n    );\n  });\n\n  // Handle form submission for Caregiver Form\n  caregiverForm.onFormSubmit(async (formData, event) => {\n    event.preventDefault(); // Stop default form submission\n    const caregiverRequestingAnimation = new WFComponent(\"#caregiverRequestingAnimation\");\n    caregiverRequestingAnimation.setStyle({ display: \"block\" }); // Show loading animation\n\n    let isFormValid = true;\n\n    // Validate all fields before proceeding\n    fieldsCaregiver.forEach(({ input, error, validationFn, message }) => {\n      const errorMessage = createValidationFunction(input, validationFn, message)();\n      if (errorMessage) {\n        toggleError(error, errorMessage, true);\n        isFormValid = false;\n      } else {\n        toggleError(error, \"\", false);\n      }\n    });\n\n    if (!isFormValid) {\n      console.log(\"Validation failed:\", formData);\n      toggleError(\n        new WFComponent(\"#submitInviteCaregiverError\"),\n        \"Please correct all errors above.\",\n        true\n      );\n      caregiverRequestingAnimation.setStyle({ display: \"none\" }); // Hide loading animation\n      return;\n    }\n\n    // Handle reCAPTCHA verification\n    const recaptchaAction = \"complete_caregiver\";\n    const isRecaptchaValid = await handleRecaptcha(recaptchaAction);\n    if (!isRecaptchaValid) {\n      toggleError(\n        new WFComponent(\"#submitInviteCaregiverError\"),\n        \"reCAPTCHA verification failed. Please try again.\",\n        true\n      );\n      caregiverRequestingAnimation.setStyle({ display: \"none\" }); // Hide loading animation\n      return;\n    }\n\n    // Post data to a server endpoint\n    try {\n      const response = await apiClient\n        .post<{ status: string; message?: string }>(\"/caregivers/invite\", {\n          data: formData,\n        })\n        .fetch();\n\n      if (response.status === \"success\") {\n        const onSuccessTrigger = new WFComponent(\"#inviteCaregiverSuccessTrigger\");\n        caregiverForm.showSuccessState();\n        onSuccessTrigger.getElement()?.click();\n      } else {\n        throw new Error(response.message || \"Failed to invite caregiver.\");\n      }\n    } catch (error: any) {\n      console.error(\"Error inviting caregiver:\", error);\n      const errorMessage =\n        error.response?.data?.message || error.message || \"Failed to invite caregiver.\";\n      toggleError(\n        new WFComponent(\"#submitInviteCaregiverError\"),\n        errorMessage,\n        true\n      );\n    } finally {\n      caregiverRequestingAnimation.setStyle({ display: \"none\" }); // Hide loading animation\n    }\n  });\n\n  // Initialize reset form button\n  const resetCaregiverForm = new WFComponent(\"#resetCaregiverForm\");\n  resetCaregiverForm.on(\"click\", () => {\n    caregiverForm.resetForm();\n    caregiverForm.showForm();\n    const onSuccessTrigger = new WFComponent(\"#inviteCaregiverSuccessTrigger\");\n    onSuccessTrigger.getElement()?.click();\n  });\n};\n","import { WFComponent, WFFormComponent } from \"@xatom/core\";\nimport {\n  setupValidation,\n  createValidationFunction,\n  toggleError,\n} from \"../../../../../utils/formUtils\";\nimport {\n  validateNotEmpty,\n  validateEmail,\n  validatePhoneNumber,\n} from \"../../../../../utils/validationUtils\";\nimport { WFSlider } from \"@xatom/slider\";\nimport { unmarkStepAsCompleted, unsetActiveStep } from \"../sidebar\";\n\nexport const initializeStepFive = (slider: WFSlider) => {\n  console.log(\"Initialize Step Five Form - Emergency Contact\");\n\n  // Step 5 Form Initialization\n  const formStepFive = new WFFormComponent<{\n    emergency_first_name: string;\n    emergency_last_name: string;\n    emergency_email: string;\n    emergency_phone: string;\n    emergency_relationship: string;\n  }>(\"#formStepFive\");\n\n  // Define the fields with associated validation rules and error messages\n  const fieldsStepFive = [\n    {\n      input: new WFComponent(\"#emergencyFirstNameInput\"),\n      error: new WFComponent(\"#emergencyFirstNameInputError\"),\n      validationFn: validateNotEmpty,\n      message: \"First name is required\",\n    },\n    {\n      input: new WFComponent(\"#emergencyLastNameInput\"),\n      error: new WFComponent(\"#emergencyLastNameInputError\"),\n      validationFn: validateNotEmpty,\n      message: \"Last name is required\",\n    },\n    {\n      input: new WFComponent(\"#emergencyEmailInput\"),\n      error: new WFComponent(\"#emergencyEmailInputError\"),\n      validationFn: validateEmail,\n      message: \"Please enter a valid email address\",\n    },\n    {\n      input: new WFComponent(\"#emergencyPhoneInput\"),\n      error: new WFComponent(\"#emergencyPhoneInputError\"),\n      validationFn: validatePhoneNumber,\n      message: \"Please enter a valid phone number\",\n    },\n    {\n      input: new WFComponent(\"#emergencyRelationshipInput\"),\n      error: new WFComponent(\"#emergencyRelationshipInputError\"),\n      validationFn: validateNotEmpty,\n      message: \"Relationship is required\",\n    },\n  ];\n\n  // Auto-format phone number input to (xxx) xxx-xxxx\n  const emergencyPhoneNumberInput = new WFComponent(\"#emergencyPhoneInput\");\n  emergencyPhoneNumberInput.on(\"input\", () => {\n    const inputElement =\n      emergencyPhoneNumberInput.getElement() as HTMLInputElement;\n    const cursorPosition = inputElement.selectionStart as number;\n    inputElement.value = formatPhoneNumber(inputElement.value);\n    const formattedLength = inputElement.value.length;\n    const cleanedLength = inputElement.value.replace(/\\D/g, \"\").length;\n    inputElement.setSelectionRange(\n      cursorPosition + (formattedLength - cleanedLength),\n      cursorPosition + (formattedLength - cleanedLength)\n    );\n  });\n\n  // Initialize validation for each field\n  fieldsStepFive.forEach(({ input, error, validationFn, message }) => {\n    setupValidation(\n      input,\n      error,\n      createValidationFunction(input, validationFn, message),\n      new WFComponent(\"#submitStepFiveError\")\n    );\n  });\n\n  // Handle form submission for Step 5\n  formStepFive.onFormSubmit(async (formData, event) => {\n    event.preventDefault(); // Stop default form submission\n    let isFormValid = true;\n\n    // Validate all fields before proceeding\n    fieldsStepFive.forEach(({ input, error, validationFn, message }) => {\n      const errorMessage = createValidationFunction(\n        input,\n        validationFn,\n        message\n      )();\n      if (errorMessage) {\n        toggleError(error, errorMessage, true);\n        isFormValid = false;\n      } else {\n        toggleError(error, \"\", false);\n      }\n    });\n\n    if (!isFormValid) {\n      console.log(\"Validation failed:\", formData);\n      toggleError(\n        new WFComponent(\"#submitStepFiveError\"),\n        \"Please correct all errors above.\",\n        true\n      );\n      return;\n    }\n\n    // Proceed to the next step\n    slider.goNext();\n  });\n\n  // Handle back button for Step 5\n  const backStepButton = new WFComponent(\"#backStepFive\");\n  backStepButton.on(\"click\", () => {\n    slider.goPrevious();\n    unsetActiveStep(5);\n    unmarkStepAsCompleted(4);\n    unmarkStepAsCompleted(5);\n  });\n};\n\n// Helper function to format phone number\nfunction formatPhoneNumber(value: string): string {\n  const cleaned = value.replace(/\\D/g, \"\");\n  let formatted = \"\";\n  if (cleaned.length <= 3) {\n    formatted = cleaned;\n  } else if (cleaned.length <= 6) {\n    formatted = `(${cleaned.slice(0, 3)}) ${cleaned.slice(3)}`;\n  } else {\n    formatted = `(${cleaned.slice(0, 3)}) ${cleaned.slice(\n      3,\n      6\n    )}-${cleaned.slice(6, 10)}`;\n  }\n  return formatted;\n}\n","import { WFComponent, WFFormComponent } from \"@xatom/core\";\nimport {\n  setupValidation,\n  createValidationFunction,\n  toggleError,\n} from \"../../../../../utils/formUtils\";\nimport { validateNotEmpty } from \"../../../../../utils/validationUtils\";\nimport { WFSlider } from \"@xatom/slider\";\nimport { unmarkStepAsCompleted, unsetActiveStep } from \"../sidebar\";\n\nexport const initializeStepSix = (slider: WFSlider) => {\n  console.log(\"Initialize Step Six Form - Dismissal Permissions\");\n\n  // Step 6 Form Initialization\n  const formStepSix = new WFFormComponent<{\n    dismissal_names: string;\n    independent_travel: boolean;\n  }>(\"#formStepSix\");\n\n  // Define fields with associated validation rules and error messages\n  const fieldsStepSix = [\n    {\n      input: new WFComponent(\"#dismissalNamesInput\"),\n      error: new WFComponent(\"#dismissalNamesInputError\"),\n      validationFn: validateNotEmpty,\n      message: \"Dismissal names are required\",\n    },\n  ];\n\n  // Initialize validation for each field\n  fieldsStepSix.forEach(({ input, error, validationFn, message }) => {\n    setupValidation(\n      input,\n      error,\n      createValidationFunction(input, validationFn, message),\n      new WFComponent(\"#submitStepSixError\")\n    );\n  });\n\n  // Handle form submission for Step 6\n  formStepSix.onFormSubmit(async (formData, event) => {\n    event.preventDefault(); // Stop default form submission\n    let isFormValid = true;\n\n    // Validate all fields before proceeding\n    fieldsStepSix.forEach(({ input, error, validationFn, message }) => {\n      const errorMessage = createValidationFunction(\n        input,\n        validationFn,\n        message\n      )();\n      if (errorMessage) {\n        toggleError(error, errorMessage, true);\n        isFormValid = false;\n      } else {\n        toggleError(error, \"\", false);\n      }\n    });\n\n    if (!isFormValid) {\n      console.log(\"Validation failed:\", formData);\n      toggleError(\n        new WFComponent(\"#submitStepSixError\"),\n        \"Please correct all errors above.\",\n        true\n      );\n      return;\n    }\n\n    // Proceed to the next step\n    slider.goNext();\n  });\n\n  // Handle back button for Step 6\n  const backStepButton = new WFComponent(\"#backStepSix\");\n  backStepButton.on(\"click\", () => {\n    slider.goPrevious();\n    unsetActiveStep(6);\n    unmarkStepAsCompleted(5);\n    unmarkStepAsCompleted(6);\n  });\n};\n","import { WFComponent, WFFormComponent } from \"@xatom/core\";\nimport {\n  setupValidation,\n  createValidationFunction,\n  toggleError,\n} from \"../../../../../utils/formUtils\";\nimport { validateNotEmpty } from \"../../../../../utils/validationUtils\";\nimport { WFSlider } from \"@xatom/slider\";\nimport { unmarkStepAsCompleted, unsetActiveStep } from \"../sidebar\";\n\nexport const initializeStepSeven = (slider: WFSlider) => {\n  console.log(\n    \"Initialize Step Seven Form - Family Involvement & Photo Release\"\n  );\n\n  // Step 7 Form Initialization\n  const formStepSeven = new WFFormComponent<{\n    family_involved: string;\n    photo_release: boolean;\n    student_id: number | null;\n  }>(\"#formStepSeven\");\n\n  // Define fields with associated validation rules and error messages\n  const fieldsStepSeven = [\n    {\n      input: new WFComponent(\"#familyInvolvedInput\"),\n      error: new WFComponent(\"#familyInvolvedInputError\"),\n      validationFn: validateNotEmpty,\n      message: \"Family involvement is required\",\n    },\n  ];\n\n  // Initialize validation for each field\n  fieldsStepSeven.forEach(({ input, error, validationFn, message }) => {\n    setupValidation(\n      input,\n      error,\n      createValidationFunction(input, validationFn, message),\n      new WFComponent(\"#submitStepSevenError\")\n    );\n  });\n\n  // Handle form submission for Step 7\n  formStepSeven.onFormSubmit(async (formData, event) => {\n    event.preventDefault(); // Stop default form submission\n    let isFormValid = true;\n\n    // Validate all fields before proceeding\n    fieldsStepSeven.forEach(({ input, error, validationFn, message }) => {\n      const errorMessage = createValidationFunction(\n        input,\n        validationFn,\n        message\n      )();\n      if (errorMessage) {\n        toggleError(error, errorMessage, true);\n        isFormValid = false;\n      } else {\n        toggleError(error, \"\", false);\n      }\n    });\n\n    if (!isFormValid) {\n      console.log(\"Validation failed:\", formData);\n      toggleError(\n        new WFComponent(\"#submitStepSevenError\"),\n        \"Please correct all errors above.\",\n        true\n      );\n      return;\n    }\n\n    // Proceed to the next step\n    slider.goNext();\n  });\n\n  // Handle back button for Step 7\n  const backStepButton = new WFComponent(\"#backStepSeven\");\n  backStepButton.on(\"click\", () => {\n    slider.goPrevious();\n    unsetActiveStep(7);\n    unmarkStepAsCompleted(6);\n    unmarkStepAsCompleted(7);\n  });\n};\n","import { WFComponent } from \"@xatom/core\";\nimport { WFSlider } from \"@xatom/slider\";\nimport { WFImage } from \"@xatom/image\";\nimport { handleRecaptcha } from \"../../../../../utils/recaptchaUtils\";\nimport { apiClient } from \"../../../../../api/apiConfig\";\nimport { toggleError } from \"../../../../../utils/formUtils\";\nimport { unmarkStepAsCompleted, unsetActiveStep } from \"../sidebar\";\n\ntype ApiResponse<T> = {\n  status: string;\n  message?: string;\n  profile?: T;\n};\n\ntype StudentProfile = {\n  id: number;\n  first_name: string;\n  last_name: string;\n  email: string;\n  phone: string;\n  profile_pic?: {\n    url?: string;\n  };\n};\n\nexport const initializeStepEight = (slider: WFSlider, getFormData: () => any) => {\n  console.log(\"Initialize Step Eight\");\n\n  // Initialize form review items\n  const studentProfilePic = new WFImage(\"#studentProfilePic\");\n  const studentFullName = new WFComponent(\"#studentFullName\");\n  const studentEmail = new WFComponent(\"#studentEmail\");\n  const studentPhone = new WFComponent(\"#studentPhone\");\n  const studentGrade = new WFComponent(\"#studentGrade\");\n  const studentSchool = new WFComponent(\"#studentSchool\");\n  const studentDOB = new WFComponent(\"#studentDOB\");\n  const studentGender = new WFComponent(\"#studentGender\");\n  const studentHealth = new WFComponent(\"#studentHealth\");\n  const studentEmergencyName = new WFComponent(\"#studentEmergencyName\");\n  const studentEmergencyEmail = new WFComponent(\"#studentEmergencyEmail\");\n  const studentEmergencyPhone = new WFComponent(\"#studentEmergencyPhone\");\n  const studentEmergencyRelationship = new WFComponent(\"#studentEmergencyRelationship\");\n  const studentDismissalNames = new WFComponent(\"#studentDismissalNames\");\n  const studentTravelTrue = new WFComponent(\"#studentTravelTrue\");\n  const studentTravelFalse = new WFComponent(\"#studentTravelFalse\");\n  const studentFamily = new WFComponent(\"#studentFamily\");\n  const studentPhotoTrue = new WFComponent(\"#studentPhotoTrue\");\n  const studentPhotoFalse = new WFComponent(\"#studentPhotoFalse\");\n  const studentTextTrue = new WFComponent(\"#studentTextTrue\");\n  const studentTextFalse = new WFComponent(\"#studentTextFalse\");\n\n  // Function to set form review items from collected data\n  const setFormReviewItems = () => {\n    const data = getFormData();\n\n    // Set student profile picture if available\n    if (localStorage.getItem(\"image_upload\")) {\n      const image = localStorage.getItem(\"image_upload\");\n      studentProfilePic.setImage(image);\n    } else {\n      console.log(\"No profile picture available\");\n      studentProfilePic.setImage(\n        \"https://cdn.prod.website-files.com/667f080f36260b9afbdc46b2/667f080f36260b9afbdc46be_placeholder.svg\"\n      );\n    }\n\n    // Set form review items with the appropriate data\n    studentFullName.setText(`${data.first_name} ${data.last_name}`);\n    studentEmail.setText(data.email);\n    studentPhone.setText(data.phone);\n    studentGrade.setText(data.grade);\n    studentSchool.setText(data.school);\n    studentDOB.setText(data.dob);\n    studentGender.setText(data.gender);\n    studentHealth.setText(data.health);\n    studentEmergencyName.setText(\n      `${data.emergency_first_name} ${data.emergency_last_name}`\n    );\n    studentEmergencyEmail.setText(data.emergency_email);\n    studentEmergencyPhone.setText(data.emergency_phone);\n    studentEmergencyRelationship.setText(data.emergency_relationship);\n    studentDismissalNames.setText(data.dismissal_names);\n    studentFamily.setText(data.family_involved);\n\n    // Set independent travel info\n    if (data.independent_travel) {\n      studentTravelTrue.setStyle({ display: \"block\" });\n      studentTravelFalse.setStyle({ display: \"none\" });\n    } else {\n      studentTravelFalse.setStyle({ display: \"block\" });\n      studentTravelTrue.setStyle({ display: \"none\" });\n    }\n\n    // Set photo release info\n    if (data.photo_release) {\n      studentPhotoTrue.setStyle({ display: \"block\" });\n      studentPhotoFalse.setStyle({ display: \"none\" });\n    } else {\n      studentPhotoFalse.setStyle({ display: \"block\" });\n      studentPhotoTrue.setStyle({ display: \"none\" });\n    }\n\n    // Set text message opt-in info\n    if (data.send_texts) {\n      studentTextTrue.setStyle({ display: \"block\" });\n      studentTextFalse.setStyle({ display: \"none\" });\n    } else {\n      studentTextFalse.setStyle({ display: \"block\" });\n      studentTextTrue.setStyle({ display: \"none\" });\n    }\n  };\n\n  // Set review items when slide changes to step 8\n  slider.onSlideChange(setFormReviewItems);\n\n  // Handle Step Eight form submission (Review and Save)\n  const submitStepEight = new WFComponent(\"#submitStepEight\");\n  const stepEightRequestingAnimation = new WFComponent(\"#stepEightRequestingAnimation\");\n  const submitStepEightError = new WFComponent(\"#submitStepEightError\");\n\n  submitStepEight.on(\"click\", async (event) => {\n    event.preventDefault(); // Prevent normal form submission\n    stepEightRequestingAnimation.setStyle({ display: \"block\" }); // Show loading animation\n\n    // Handle reCAPTCHA verification\n    const recaptchaAction = \"complete_student\";\n    const isRecaptchaValid = await handleRecaptcha(recaptchaAction);\n\n    if (!isRecaptchaValid) {\n      toggleError(\n        submitStepEightError,\n        \"reCAPTCHA verification failed. Please try again.\",\n        true\n      );\n      stepEightRequestingAnimation.setStyle({ display: \"none\" }); // Hide loading animation\n      return;\n    }\n\n    const formData = getFormData();\n\n    try {\n      const response = await apiClient\n        .post<ApiResponse<StudentProfile>>(\"/profiles/students/complete-profile\", {\n          data: formData,\n        })\n        .fetch();\n    \n      if (response.status === \"success\" && response.profile) {\n        const profile = response.profile;\n    \n        // Update the profile link template with the returned data\n        const studentProfileLinkTemplate = new WFComponent(\"#studentCard\");\n        studentProfileLinkTemplate.updateTextViaAttrVar({\n          name: `${profile.first_name} ${profile.last_name}`,\n          email: profile.email,\n          phone: profile.phone,\n        });\n    \n        // **Updated code to append ?id={student_id} to the #studentCard link**\n        const studentCardElement =\n          studentProfileLinkTemplate.getElement() as HTMLAnchorElement;\n        const currentHref = studentCardElement.getAttribute(\"href\") || \"\";\n        const newHref = `${currentHref}?id=${profile.id}`;\n        studentCardElement.setAttribute(\"href\", newHref);\n    \n        // Update the profile card image with the profile picture if available\n        const profileCardImg = new WFImage(\"#profileCardImg\");\n        if (profile.profile_pic?.url) {\n          profileCardImg.setImage(profile.profile_pic.url);\n        } else {\n          console.log(\"No profile picture available\");\n          profileCardImg.setImage(\n            \"https://cdn.prod.website-files.com/667f080f36260b9afbdc46b2/667f080f36260b9afbdc46be_placeholder.svg\"\n          );\n        }\n    \n        // Clear current student and uploaded image from local storage\n        localStorage.removeItem(\"current_student\");\n        localStorage.removeItem(\"image_upload\");\n    \n        stepEightRequestingAnimation.setStyle({ display: \"none\" }); // Hide loading animation\n        slider.goNext(); // Navigate to the next step\n      } else {\n        toggleError(\n          submitStepEightError,\n          response.message || \"Failed to complete profile.\",\n          true\n        );\n        stepEightRequestingAnimation.setStyle({ display: \"none\" }); // Hide loading animation\n      }\n    } catch (error: any) {\n      console.error(\"Error completing profile:\", error);\n      toggleError(\n        submitStepEightError,\n        error.response?.data?.message || \"Failed to complete profile.\",\n        true\n      );\n      stepEightRequestingAnimation.setStyle({ display: \"none\" }); // Hide loading animation\n    }\n  });\n\n  // Handle back button for Step 8\n  const backStepButton = new WFComponent(\"#backStepEight\");\n  backStepButton.on(\"click\", () => {\n    slider.goPrevious();\n    unsetActiveStep(8);\n    unmarkStepAsCompleted(7);\n    unmarkStepAsCompleted(8);\n  });\n};\n","import { WFComponent } from \"@xatom/core\";\nimport { WFSlider } from \"@xatom/slider\";\n\nexport const initializeStepNine = (slider: WFSlider) => {\n  // Initialize the form components for Step 9\n  const submitStepNine = new WFComponent(\"#submitStepNine\");\n  \n\n  // Event listener for submitting step nine\n  submitStepNine.on(\"click\", async (event) => {\n    event.preventDefault(); // Prevent the default behavior\n\n    try {\n      // Placeholder for any step 9 submission logic\n      console.log(\"Step 9: Submit action or add another student\");\n\n      // Proceed to the next slide without triggering any sidebar changes\n      slider.goNext();\n    } catch (error) {\n      console.error(\"Error during Step 9 submission: \", error);\n    }\n  });\n\n};\n","// src/modules/forms/profiles/addStudentProfile/steps/step10.ts\n\nimport { WFComponent } from \"@xatom/core\";\nimport { WFSlider } from \"@xatom/slider\";\n\nexport const initializeStepTen = (slider: WFSlider) => {\n  // Initialize the back button for Step 10\n  const backStepTen = new WFComponent(\"#backStepTen\");\n\n  // Event listener for going back to Step 9\n  backStepTen.on(\"click\", () => {\n    slider.goPrevious();\n  });\n};\n"],"names":[],"version":3,"file":"addStudentProfile.2977ba07.js.map","sourceRoot":"../"}