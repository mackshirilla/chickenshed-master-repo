{"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,+BAA+B;;;AAiC/B,mEAAsB;AA/BtB;AACA;AACA;AACA;AA4BO,eAAe;IACpB,+CAA+C;IAC/C,IAAI,OAAO,QAAQ,CAAC,QAAQ,KAAK,qBAAqB;QACpD,MAAM,cAAc,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;QACpC,YAAY,QAAQ,CAAC;YAAE,SAAS;QAAO;IACzC;IACA,MAAM,YAAY,IAAI,gBAAgB,OAAO,QAAQ,CAAC,MAAM;IAC5D,MAAM,eAAe,UAAU,GAAG,CAAC;IACnC,IAAI,CAAC,cAAc;QACjB,QAAQ,KAAK,CAAC;QACd;IACF;IAEA,IAAI;QACF,MAAM,UAAU,CAAA,GAAA,oBAAS,AAAD,EAAE,GAAG,CAAyB,CAAC,qBAAqB,EAAE,aAAa,CAAC;QAC5F,MAAM,WAAW,MAAM,QAAQ,KAAK;QACpC,MAAM,EAAE,QAAQ,EAAE,GAAG;QAErB,MAAM,WAAW,SAAS,gBAAgB;QAE1C,MAAM,gBAAgB,IAAI,CAAA,GAAA,cAAO,AAAD,EAAE;QAClC,cAAc,QAAQ,CAAC,SAAS,UAAU;QAC1C,cAAc,UAAU,GAAG,YAAY,CAAC,OAAO,CAAC,EAAE,SAAS,IAAI,CAAC,iBAAiB,CAAC;QAElF,MAAM,eAAe,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;QACrC,aAAa,OAAO,CAAC,SAAS,IAAI;QAElC,MAAM,qBAAqB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;QAC3C,mBAAmB,OAAO,CAAC,SAAS,UAAU;QAE9C,MAAM,qBAAqB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;QAC3C,MAAM,eAAe,IAAI,KAAK,SAAS,UAAU,EAAE,kBAAkB,CAAC,EAAE,EAAE;YACxE,OAAO;YACP,KAAK;YACL,MAAM;QACR;QACA,mBAAmB,OAAO,CAAC,CAAC,EAAE,SAAS,IAAI,CAAC,GAAG,EAAE,aAAa,CAAC;QAE/D,MAAM,2BAA2B,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;QACjD,yBAAyB,OAAO,CAAC,SAAS,iBAAiB;QAE3D,MAAM,gBAAgB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;QACtC,MAAM,iBAAiB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;QACvC,IAAI,SAAS,cAAc,EAAE;YAC3B,cAAc,QAAQ,CAAC;gBAAE,SAAS;YAAQ;YAC1C,eAAe,QAAQ,CAAC;gBAAE,SAAS;YAAO;QAC5C,OAAO;YACL,cAAc,QAAQ,CAAC;gBAAE,SAAS;YAAO;YACzC,eAAe,QAAQ,CAAC;gBAAE,SAAS;YAAQ;QAC7C;QAEA,MAAM,iBAAiB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;QACvC,eAAe,OAAO,CAAC,CAAC,CAAC,EAAE,SAAS,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC;QAEvD,MAAM,mBAAmB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;QACzC,iBAAiB,OAAO,CAAC;QAEzB,MAAM,iBAAiB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;QACvC,MAAM,eAAe,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;QACrC,IAAI,SAAS,UAAU,EAAE,QAAQ;YAC/B,eAAe,QAAQ,CAAC;gBAAE,SAAS;YAAa;YAChD,aAAa,QAAQ,CAAC;gBAAE,SAAS;YAAa;YAC9C,aAAa,OAAO,CAAC,SAAS,UAAU;QAC1C,OAAO;YACL,eAAe,QAAQ,CAAC;gBAAE,SAAS;YAAO;YAC1C,aAAa,QAAQ,CAAC;gBAAE,SAAS;YAAO;QAC1C;QAEA,MAAM,uBAAuB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;QAC7C,MAAM,UAAU,SAAS,qBAAqB,EAAE;QAChD,qBAAqB,OAAO,CAC1B,YAAY,UAAU,YAAY,YAAY,SAAS,aAAa;QAGtE,MAAM,aAAa,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;QACnC,MAAM,gBAAgB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;QAEtC,MAAM,YAAY,CAAC,WAAY,YAAY,WAAW,YAAY;QAClE,MAAM,cAAc,SAAS,qBAAqB,EAAE,WAAW;QAE/D,IAAI,aAAa,aACf,WAAW,QAAQ,CAAC;YAAE,SAAS;QAAO;aAEtC,IAAI,CAAA,GAAA,kEAAgC,AAAD,EAAE;YACnC,mBAAmB;YACnB,gBAAgB,OAAO,SAAS,qBAAqB,CAAC,EAAE;YACxD,iBAAiB;gBACf,OAAO,QAAQ,CAAC,MAAM;YACxB;QACF;QAGF,cAAc,QAAQ,CAAC;YAAE,SAAS,cAAc,UAAU;QAAO;QAEjE,MAAM,UAAU,SAAS,aAAa,CAAC;QACvC,IAAI,mBAAmB,aACrB,QAAQ,KAAK;IAEjB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,+CAA+C;IAC/D;AACF;;;ACtIA,IAAI,IAAE,QAAQ;AAAe,IAAI,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,IAAE,CAAC;AAAE,IAAE,GAAE,IAAE,WAAU,IAAE,IAAI,GAAE,OAAO,cAAc,CAAC,GAAE,GAAE;IAAC,KAAI;IAAE,KAAI;IAAE,YAAW,CAAC;IAAE,cAAa,CAAC;AAAC;AAAG,MAAM,UAAU,EAAE,WAAW;IAAC,YAAY,CAAC,CAAC;QAAC,KAAK,CAAC;IAAE;IAAC,iBAAgB;QAAC,OAAO,IAAI,CAAC,OAAO;IAAA;IAAC,SAAQ;QAAC,OAAO,IAAI,CAAC,YAAY,CAAC;IAAM;IAAC,WAAU;QAAC,OAAO,IAAI,CAAC,YAAY,CAAC;IAAQ;IAAC,YAAW;QAAC,OAAO,IAAI,CAAC,YAAY,CAAC;IAAS;IAAC,aAAY;QAAC,OAAO,IAAI,CAAC,YAAY,CAAC;IAAU;IAAC,OAAO,CAAC,EAAC;QAAC,OAAO,IAAI,CAAC,EAAE,CAAC,QAAO,IAAG;YAAK,IAAI,CAAC,GAAG,CAAC,QAAO;QAAE;IAAC;IAAC,YAAY,CAAC,EAAC;QAAC,OAAO,IAAI,CAAC,EAAE,CAAC,SAAQ,IAAG;YAAK,IAAI,CAAC,GAAG,CAAC,SAAQ;QAAE;IAAC;IAAC,SAAS,CAAC,EAAC;QAAC,IAAG,YAAU,OAAO,GAAE,IAAI,CAAC,YAAY,CAAC,OAAM,IAAG,IAAI,CAAC,eAAe,CAAC,WAAU,IAAI,CAAC,eAAe,CAAC;aAAa;YAAC,IAAG,IAAI,CAAC,YAAY,CAAC,OAAM,EAAE,GAAG,GAAE,YAAU,OAAO,KAAG,EAAE,MAAM,IAAE,EAAE,MAAM,CAAC,MAAM,IAAE,EAAE,KAAK,IAAE,EAAE,KAAK,CAAC,MAAM,EAAC;gBAAC,MAAM,IAAE,EAAE,MAAM,CAAC,GAAG,CAAE,CAAA,IAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,EAAG,IAAI,CAAC;gBAAM,IAAI,CAAC,YAAY,CAAC,UAAS;YAAE,OAAM,IAAI,CAAC,eAAe,CAAC,WAAU,IAAI,CAAC,eAAe,CAAC;YAAS,EAAE,OAAO,IAAE,IAAI,CAAC,YAAY,CAAC,WAAU,EAAE,OAAO;QAAC;IAAC;AAAC;AAAC,IAAE,OAAO,OAAO,EAAC,IAAE,GAAE,OAAO,IAAI,CAAC,GAAG,OAAO,CAAE,SAAS,CAAC;IAAE,cAAY,KAAG,iBAAe,KAAG,EAAE,cAAc,CAAC,MAAI,OAAO,cAAc,CAAC,GAAE,GAAE;QAAC,YAAW,CAAC;QAAE,KAAI;YAAW,OAAO,CAAC,CAAC,EAAE;QAAA;IAAC;AAAE;;;ACA9oC,iFAAiF;;;AAWjF,6CAA6C;AAC7C,sEAAa;AAVb;AACA;AACA;AAKA;AAGO,MAAM;IAOX,YAAY,OAIX,CAAE;QACD,MAAM,EAAE,iBAAiB,EAAE,cAAc,EAAE,eAAe,EAAE,GAAG;QAC/D,IAAI,CAAC,SAAS,GAAG,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;QACjC,IAAI,CAAC,cAAc,GAAG;QACtB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAA,GAAA,qBAAe,AAAD,EAAE;QACtC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;QAC9B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;QAChC,IAAI,CAAC,UAAU,CAAC;IAClB;IAEQ,WAAW,eAA2B,EAAE;QAC9C,MAAM,sBAAsB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;QAC5C,oBAAoB,EAAE,CAAC,SAAS,IAAM,IAAI,CAAC,UAAU;QAErD,MAAM,iBAAiB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;QACvC,eAAe,EAAE,CAAC,SAAS,IAAM,IAAI,CAAC,WAAW;QAEjD,IAAI,CAAC,mBAAmB,CAAC;QACzB,IAAI,CAAC,mBAAmB;IAC1B;IAEQ,aAAa;QACnB,MAAM,WAAW,IAAI,CAAC,MAAM,CAAC,UAAU;QACvC,UAAU;QACV,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,cAAc;IAC3C;IAEQ,cAAc;QACpB,MAAM,WAAW,IAAI,CAAC,MAAM,CAAC,UAAU;QACvC,UAAU;QACV,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,cAAc;IAC3C;IAEQ,oBAAoB,eAA2B,EAAE;QACvD,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,OAAO,UAAU;YAC5C,MAAM,cAAc;YACpB,MAAM,SAAS,SAAS,eAAe;YAEvC,IAAI,CAAC,CAAA,GAAA,iCAAgB,AAAD,EAAE,SAAS;gBAC7B,CAAA,GAAA,sBAAW,AAAD,EACR,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE,uBAChB,sCACA;gBAEF;YACF;YAEA,IAAI,CAAC,eAAe,CAAC;YAErB,IAAI;gBACF,MAAM,WAAW,MAAM,CAAA,GAAA,oBAAS,AAAD,EAC5B,MAAM,CACL,CAAC,qBAAqB,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC,EAC7C;oBAAE,MAAM;wBAAE;oBAAO;gBAAE,GAEpB,KAAK;gBAER,IAAI,UAAU,WAAW,aAAa;oBACpC,CAAA,GAAA,sBAAW,AAAD,EAAE,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE,uBAAuB,IAAI;oBACvD,IAAI,CAAC,WAAW;oBAChB;gBACF,OACE,MAAM,IAAI,MAAM,CAAC,mBAAmB,EAAE,UAAU,OAAO,CAAC;YAE5D,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,+BAA+B;gBAC7C,IAAI,CAAC,gBAAgB,CACnB;YAEJ,SAAU;gBACR,IAAI,CAAC,eAAe,CAAC;YACvB;QACF;IACF;IAEQ,sBAAsB;QAC5B,MAAM,cAAc,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;QACpC,MAAM,cAAc,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;QACpC,MAAM,WAAW,CAAA,GAAA,mCAAwB,AAAD,EACtC,aACA,CAAA,GAAA,iCAAgB,AAAD,GACf;QAEF,CAAA,GAAA,0BAAe,AAAD,EAAE,aAAa,aAAa;IAC5C;IAEQ,gBAAgB,SAAkB,EAAE;QAC1C,MAAM,UAAU,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;QAChC,MAAM,SAAS,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;QAC/B,QAAQ,QAAQ,CAAC;YAAE,SAAS,YAAY,UAAU;QAAO;QACzD,YACI,OAAO,YAAY,CAAC,YAAY,UAChC,OAAO,eAAe,CAAC;IAC7B;IAEQ,iBAAiB,OAAe,EAAE;QACxC,MAAM,QAAQ,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;QAC9B,MAAM,OAAO,CAAC;QACd,MAAM,QAAQ,CAAC;YAAE,SAAS;QAAO;IACnC;IAEA,OAAc,0BAA0B,gBAAoC,EAAE;QAC5E,MAAM,aAAa,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;QACnC,IAAI,CAAC,oBAAoB,qBAAqB,YAC5C,WAAW,QAAQ,CAAC;YAAE,SAAS;QAAO;aAEtC,WAAW,QAAQ,CAAC;YAAE,SAAS;QAAO;IAE1C;AACF;;;;;AC/HA,iDAAgB;AAShB,qDAAgB;AAqBhB,8DAAgB;AAYhB,sEAAgB;AAUhB,6DAAgB;AAYhB,8DAAgB;AA2BhB;;;CAGC,GACD,sDAAgB;AAahB;;;;;;;CAOC,GACD;;;;;;;;CAQC,GACD,qDAAgB;uDAiLH;AAnTb;AACA;AACA;AACA;AAEO,SAAS,YACd,qBAAuC,EACvC,OAAe,EACf,IAAa;IAEb,sBAAsB,oBAAoB,CAAC;QAAE,MAAM,OAAO,UAAU;IAAG;IACvE,sBAAsB,QAAQ,CAAC;QAAE,SAAS,OAAO,SAAS;IAAO;AACnE;AAEO,SAAS,gBACd,cAA2B,EAC3B,cAA2B,EAC3B,QAAsB,EACtB,sBAAoC,8CAA8C;AAA/C;IAEnC,MAAM,oBAAoB;QACxB,MAAM,eAAe;QACrB,YAAY,gBAAgB,cAAc,CAAC,CAAC;QAC5C,IAAI,yBAAyB,iBAAiB,IAC5C,oEAAoE;QACpE,YAAY,uBAAuB,IAAI;IAE3C;IAEA,kDAAkD;IAClD,eAAe,EAAE,CAAC,SAAS;IAC3B,eAAe,EAAE,CAAC,QAAQ;IAC1B,eAAe,EAAE,CAAC,UAAU;AAC9B;AAEO,SAAS,yBACd,cAA2B,EAC3B,YAAwC,EACxC,YAAoB;IAEpB,OAAO;QACL,MAAM,eAAe,eAAe,UAAU;QAC9C,MAAM,UAAU,aAAa,aAAa,KAAK;QAC/C,OAAO,UAAU,KAAK;IACxB;AACF;AAEO,SAAS,iCACd,iBAA8B,EAC9B,YAAoB;IAEpB,OAAO;QACL,MAAM,WAAW,kBAAkB,UAAU;QAC7C,OAAO,SAAS,OAAO,GAAG,KAAK;IACjC;AACF;AAEO,SAAS,wBACd,iBAA8B,EAC9B,sBAAmC,EACnC,YAAoB;IAEpB,MAAM,WAAW,iCACf,mBACA;IAEF,gBAAgB,mBAAmB,wBAAwB;AAC7D;AAEO,SAAS,yBACd,gBAA+D,EAC/D,qBAAuC,EACvC,YAAoB;IAEpB,MAAM,UACJ,iBAAiB,MAAM,GAAG,KAC1B,iBAAiB,IAAI,CAAC,CAAC,UAAY,QAAQ,UAAU,CAAC,MAAM,GAAG;IAEjE,IAAI,CAAC,SACH,YAAY,uBAAuB,cAAc;SAEjD,YAAY,uBAAuB,IAAI;IAGzC,OAAO;AACT;AAeO,SAAS,iBAAiB,QAAgB;IAC/C,MAAM,OAAO,CAAA,GAAA,oBAAQ,AAAD,EAAE,OAAO;IAC7B,IAAI,QAAQ,KAAK,OAAO,EAAE;QACxB,2CAA2C;QAC3C,KAAK,OAAO,CAAC,WAAW,GAAG,KAAK,OAAO,CAAC,WAAW,IAAI;YAAE,KAAK;QAAG;QAEjE,8BAA8B;QAC9B,KAAK,OAAO,CAAC,WAAW,CAAC,GAAG,GAAG;QAC/B,CAAA,GAAA,oBAAQ,AAAD,EAAE,OAAO,CAAC;QACjB,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;IACnD;AACF;AAmBO,SAAS,gBACd,SAAsB,EACtB,cAA2B,EAC3B,gBAA6B,EAC7B,cAAsB;IAEtB,MAAM,sBAAsB,IAAI,CAAA,GAAA,cAAO,AAAD,EAAE;IACxC,MAAM,kBAAkB,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAExC,MAAM,UAAU,IAAI,CAAA,GAAA,iBAAW,AAAD,EAAE;IAChC,IAAI,cAAc;IAElB,OAAO,IAAI,QAAgB,CAAC;QAC1B,MAAM,aAAa,CAAC;YAClB,8BAA8B;YAC9B,MAAM,aAAa;gBAAC;gBAAc;aAAY;YAC9C,MAAM,iBAAiB,SAAiB,OAAO;YAE/C,IACE,CAAC,WAAW,QAAQ,CAAC,KAAK,IAAI,KAC9B,CAAC,iBAAiB,IAAI,CAAC,KAAK,IAAI,GAChC;gBACA,MAAM,eAAe;gBACrB,YAAY,gBAAgB,cAAc;gBAC1C,yBAAyB;gBACxB,UAAU,UAAU,GAAwB,KAAK,GAAG;gBACrD;YACF;YAEA,IAAI,KAAK,IAAI,GAAG,gBAAgB;gBAC9B,MAAM,eAAe;gBACrB,YAAY,gBAAgB,cAAc;gBAC1C,yBAAyB;gBACxB,UAAU,UAAU,GAAwB,KAAK,GAAG;gBACrD;YACF;YAEA,oCAAoC;YACpC,gBAAgB,QAAQ,CAAC;gBAAE,SAAS;YAAO;YAE3C,kCAAkC;YAClC,eAAe,QAAQ,CAAC;gBAAE,SAAS;YAAO;YAC1C,iBAAiB,QAAQ,CAAC;gBAAE,SAAS;YAAO;YAE5C,MAAM,SAAS,IAAI;YAEnB,kEAAkE;YAClE,OAAO,MAAM,GAAG,CAAC;gBACf,gDAAgD;gBAChD,MAAM,SAAS,MAAM,MAAM,EAAE;gBAC7B,oBAAoB,QAAQ,CAAC;gBAE7B,qCAAqC;gBACrC,QAAQ,QAAQ,CAAC;oBAAE,SAAS;gBAAO;YACrC;YAEA,OAAO,aAAa,CAAC;YAErB,MAAM,WAAW,IAAI;YACrB,SAAS,MAAM,CAAC,mBAAmB;YAEnC,MAAM,kBAAkB,aAAa,OAAO,CAAC;YAC7C,IAAI,iBAAiB;gBACnB,MAAM,UAAU,KAAK,KAAK,CAAC;gBAC3B,SAAS,MAAM,CAAC,sBAAsB,QAAQ,EAAE,CAAC,QAAQ;YAC3D;YAEA,8BAA8B;YAC9B,MAAM,cAAc,CAAA,GAAA,oBAAS,AAAD,EAAE,IAAI,CAAqB,gBAAgB;gBACrE,MAAM;YACR;YAEA,YAAY,MAAM,CAAC,CAAC;gBAClB,IAAI,SAAS,MAAM,KAAK,WAAW;oBACjC,MAAM,WAAW,SAAS,GAAG,CAAC,WAAW,CAAC,GAAG;oBAE7C,uEAAuE;oBACvE,iBAAiB;oBAEjB,qDAAqD;oBACrD,oBAAoB,QAAQ,CAAC;oBAE7B,iCAAiC;oBACjC,aAAa,OAAO,CAAC,gBAAgB;oBAErC,iDAAiD;oBACjD,iBAAiB,QAAQ,CAAC;wBAAE,SAAS;oBAAO;oBAC5C,gBAAgB,QAAQ,CAAC;wBAAE,SAAS;oBAAO;oBAE3C,sCAAsC;oBACtC,QAAQ;gBACV,OAAO;oBACL,MAAM,eAAe;oBACrB,YAAY,gBAAgB,cAAc;oBAC1C,gBAAgB,QAAQ,CAAC;wBAAE,SAAS;oBAAO;oBAC3C,QAAQ,QAAQ,CAAC;wBAAE,SAAS;oBAAO;oBACnC,cAAc;oBACd,yBAAyB;oBACxB,UAAU,UAAU,GAAwB,KAAK,GAAG;gBACvD;YACF;YAEA,YAAY,OAAO,CAAC,CAAC;gBACnB,IAAI,eAAe;gBACnB,IAAI,MAAM,QAAQ,IAAI,MAAM,QAAQ,CAAC,IAAI,EACvC,eAAe,MAAM,QAAQ,CAAC,IAAI,CAAC,OAAO,IAAI;qBACzC,IAAI,MAAM,OAAO,EACtB,eAAe,MAAM,OAAO;gBAG9B,+CAA+C;gBAC/C,YAAY,gBAAgB,cAAc;gBAC1C,gBAAgB,QAAQ,CAAC;oBAAE,SAAS;gBAAO;gBAC3C,QAAQ,QAAQ,CAAC;oBAAE,SAAS;gBAAO;gBACnC,cAAc;gBACd,yBAAyB;gBACxB,UAAU,UAAU,GAAwB,KAAK,GAAG;YACvD;YAEA,oBAAoB;YACpB,YAAY,KAAK;QACnB;QAEA,wCAAwC;QACxC,UAAU,EAAE,CAAC,UAAU;YACrB,MAAM,OAAO,AAAC,UAAU,UAAU,GAAwB,KAAK,EAAE,CAAC,EAAE;YACpE,IAAI,MACF,WAAW;QAEf;QAEA,oCAAoC;QACpC,MAAM,kBAAkB,SAAS,IAAI;QACrC,gBAAgB,gBAAgB,CAAC,aAAa,CAAC;YAC7C,MAAM,cAAc;YACpB;YACA,IAAI,gBAAgB,GAClB,QAAQ,QAAQ,CAAC;gBAAE,SAAS;YAAO;QAEvC;QAEA,gBAAgB,gBAAgB,CAAC,aAAa;YAC5C;YACA,IAAI,eAAe,GAAG;gBACpB,QAAQ,QAAQ,CAAC;oBAAE,SAAS;gBAAO;gBACnC,cAAc;YAChB;QACF;QAEA,gBAAgB,gBAAgB,CAAC,YAAY,CAAC;YAC5C,MAAM,cAAc;QACtB;QAEA,gBAAgB,gBAAgB,CAAC,QAAQ,CAAC;YACxC,MAAM,cAAc;YAEpB,MAAM,QAAQ,MAAM,YAAY,EAAE;YAClC,IAAI,OAAO,QACT,WAAW,KAAK,CAAC,EAAE;YAGrB,QAAQ,QAAQ,CAAC;gBAAE,SAAS;YAAO;YACnC,cAAc;QAChB;IACF;AACF;AAYO,MAAM,oBAAoB,CAAC;IAChC,MAAM,UAAU,MAAM,OAAO,CAAC,OAAO,KAAK,kCAAkC;IAE5E,IAAI,QAAQ,MAAM,IAAI,GACpB,OAAO;SACF,IAAI,QAAQ,MAAM,IAAI,GAC3B,OAAO,CAAC,CAAC,EAAE,QAAQ,KAAK,CAAC,GAAG,GAAG,EAAE,EAAE,QAAQ,KAAK,CAAC,GAAG,CAAC;SAChD,IAAI,QAAQ,MAAM,IAAI,IAC3B,OAAO,CAAC,CAAC,EAAE,QAAQ,KAAK,CAAC,GAAG,GAAG,EAAE,EAAE,QAAQ,KAAK,CAAC,GAAG,GAAG,CAAC,EAAE,QAAQ,KAAK,CACrE,GACA,CAAC;SAEH,oDAAoD;IACpD,OAAO,CAAC,CAAC,EAAE,QAAQ,KAAK,CAAC,GAAG,GAAG,EAAE,EAAE,QAAQ,KAAK,CAAC,GAAG,GAAG,CAAC,EAAE,QAAQ,KAAK,CACrE,GACA,IACA,CAAC;AAEP;;;;;AClUA,sDAAgB;AAIhB,mDAAgB;2DAUH;AASb,kEAAgB;AAWhB,sDAAgB;AAIhB,4DAAgB;AAOhB,yDAAgB;AAIhB,yDAAgB;iEAKH;AAtDN,SAAS,iBAAiB,KAAyB;IACxD,OAAO,UAAU,aAAa,MAAM,IAAI,OAAO;AACjD;AAEO,SAAS,cAAc,KAAa;IACzC,MAAM,aAAa;IACnB,OAAO,WAAW,IAAI,CAAC;AACzB;AAOO,MAAM,wBAAwB,CAAC;IACpC,IAAI,MAAM,IAAI,OAAO,IACnB,8CAA8C;IAC9C,OAAO;IAET,yCAAyC;IACzC,OAAO,cAAc;AACvB;AAEO,SAAS,6BAA6B,QAAgB;IAC3D,MAAM,eAAe,QAAQ,IAAI,CAAC;IAClC,MAAM,eAAe,QAAQ,IAAI,CAAC;IAClC,MAAM,WAAW,KAAK,IAAI,CAAC;IAC3B,MAAM,iBAAiB,yBAAyB,IAAI,CAAC;IACrD,MAAM,iBAAiB,SAAS,MAAM,IAAI;IAC1C,OACE,gBAAgB,gBAAgB,YAAY,kBAAkB;AAElE;AAEO,SAAS,iBAAiB,OAAgB;IAC/C,OAAO;AACT;AAEO,SAAS,uBACd,gBAAwB,EACxB,eAAuB;IAEvB,OAAO,qBAAqB;AAC9B;AAEO,SAAS,oBAAoB,KAAyB;IAC3D,OAAO,UAAU,aAAa,UAAU;AAC1C;AAEO,SAAS,oBAAoB,KAAa;IAC/C,MAAM,aAAa;IACnB,OAAO,WAAW,IAAI,CAAC;AACzB;AAEO,MAAM,8BAA8B,CAAC;IAC1C,IAAI,MAAM,IAAI,OAAO,IACnB,qDAAqD;IACrD,OAAO;IAET,gDAAgD;IAChD,OAAO,oBAAoB;AAC7B","sources":["src/modules/dashboard/donations/donationDetails.ts","node_modules/.pnpm/@xatom+image@1.0.0_@xatom+core@1.0.12/node_modules/@xatom/image/dist/index.js","src/modules/dashboard/donations/components/CancelDonationSubscriptionDialog.ts","src/utils/formUtils.ts","src/utils/validationUtils.ts"],"sourcesContent":["// src/pages/donationDetails.ts\n\nimport { WFComponent } from \"@xatom/core\";\nimport { WFImage } from \"@xatom/image\";\nimport { apiClient } from \"../../../api/apiConfig\";\nimport { CancelDonationSubscriptionDialog } from \"./components/CancelDonationSubscriptionDialog\";\n\ninterface SupportCampaign {\n  id: number;\n  Name: string;\n  Main_Image: string;\n  Subheading: string;\n  Short_Description: string;\n}\n\ninterface DonationSubscription {\n  id: number;\n  subscription_type: string;\n  status?: string;\n}\n\ninterface Donation {\n  id: number;\n  uuid: string;\n  created_at: number;\n  amount: number;\n  keep_anonymous: boolean;\n  in_name_of: string;\n  campaign_name: string;\n  support_campaign: SupportCampaign;\n  donation_subscription?: DonationSubscription;\n}\n\nexport async function initializeDonationDetailsPage() {\n  // Hide breadcrumbs if on donation-details path\n  if (window.location.pathname === \"/donation-details\") {\n    const breadcrumbs = new WFComponent(\".breadcrumbs_container\");\n    breadcrumbs.setStyle({ display: \"none\" });\n  }\n  const urlParams = new URLSearchParams(window.location.search);\n  const donationUuid = urlParams.get(\"donation\");\n  if (!donationUuid) {\n    console.error(\"Missing donation UUID\");\n    return;\n  }\n\n  try {\n    const request = apiClient.get<{ donation: Donation }>(`/dashboard/donations/${donationUuid}`);\n    const response = await request.fetch();\n    const { donation } = response;\n\n    const campaign = donation.support_campaign;\n\n    const campaignImage = new WFImage(\"#campaignImage\");\n    campaignImage.setImage(campaign.Main_Image);\n    campaignImage.getElement().setAttribute(\"alt\", `${campaign.Name} - Campaign Image`);\n\n    const campaignName = new WFComponent(\"#campaignName\");\n    campaignName.setText(campaign.Name);\n\n    const campaignSubheading = new WFComponent(\"#campaignSubheading\");\n    campaignSubheading.setText(campaign.Subheading);\n\n    const campaignBreadcrumb = new WFComponent(\"#campaignBreadcrumb\");\n    const donationDate = new Date(donation.created_at).toLocaleDateString([], {\n      month: \"2-digit\",\n      day: \"2-digit\",\n      year: \"2-digit\",\n    });\n    campaignBreadcrumb.setText(`${campaign.Name} - ${donationDate}`);\n\n    const campaignShortDescription = new WFComponent(\"#campaignShortDescription\");\n    campaignShortDescription.setText(campaign.Short_Description);\n\n    const anonymousTrue = new WFComponent(\"#anonymousTrue\");\n    const anonymousFalse = new WFComponent(\"#anonymousFalse\");\n    if (donation.keep_anonymous) {\n      anonymousTrue.setStyle({ display: \"block\" });\n      anonymousFalse.setStyle({ display: \"none\" });\n    } else {\n      anonymousTrue.setStyle({ display: \"none\" });\n      anonymousFalse.setStyle({ display: \"block\" });\n    }\n\n    const donationAmount = new WFComponent(\"#invoiceAmount\");\n    donationAmount.setText(`$${donation.amount.toFixed(2)}`);\n\n    const donationDateComp = new WFComponent(\"#invoiceDate\");\n    donationDateComp.setText(donationDate);\n\n    const inNameOfHeader = new WFComponent(\"#inNameOfHeader\");\n    const inNameOfCell = new WFComponent(\"#inNameOfCell\");\n    if (donation.in_name_of?.trim()) {\n      inNameOfHeader.setStyle({ display: \"table-cell\" });\n      inNameOfCell.setStyle({ display: \"table-cell\" });\n      inNameOfCell.setText(donation.in_name_of);\n    } else {\n      inNameOfHeader.setStyle({ display: \"none\" });\n      inNameOfCell.setStyle({ display: \"none\" });\n    }\n\n    const subscriptionTypeComp = new WFComponent(\"#donationType\");\n    const subType = donation.donation_subscription?.subscription_type;\n    subscriptionTypeComp.setText(\n      subType === \"month\" ? \"Monthly\" : subType === \"year\" ? \"Annually\" : \"One-Time\"\n    );\n\n    const cancelWrap = new WFComponent(\"#cancelSubscriptionWrap\");\n    const cancelledText = new WFComponent(\"#subscriptionCancelledText\");\n\n    const isOneTime = !subType || (subType !== \"month\" && subType !== \"year\");\n    const isCancelled = donation.donation_subscription?.status === \"Cancelled\";\n\n    if (isOneTime || isCancelled) {\n      cancelWrap.setStyle({ display: \"none\" });\n    } else {\n      new CancelDonationSubscriptionDialog({\n        containerSelector: \"#cancelSubscriptionWrap\",\n        subscriptionId: String(donation.donation_subscription.id),\n        onCancelSuccess: () => {\n          window.location.reload();\n        },\n      });\n    }\n\n    cancelledText.setStyle({ display: isCancelled ? \"block\" : \"none\" });\n\n    const trigger = document.querySelector(\".success_trigger\");\n    if (trigger instanceof HTMLElement) {\n      trigger.click();\n    }\n  } catch (error) {\n    console.error(\"Failed to initialize donation details page:\", error);\n  }\n}\n\n","var t=require(\"@xatom/core\");var e,r,s,i,o,n,u={};e=u,r=\"WFImage\",s=()=>c,Object.defineProperty(e,r,{get:s,set:i,enumerable:!0,configurable:!0});class c extends t.WFComponent{constructor(t){super(t)}getImageConfig(){return this._config}getSrc(){return this.getAttribute(\"src\")}getSizes(){return this.getAttribute(\"sizes\")}getSrcSet(){return this.getAttribute(\"srcset\")}getLoading(){return this.getAttribute(\"loading\")}onLoad(t){return this.on(\"load\",t),()=>{this.off(\"load\",t)}}onLoadError(t){return this.on(\"error\",t),()=>{this.off(\"error\",t)}}setImage(t){if(\"string\"==typeof t)this.setAttribute(\"src\",t),this.removeAttribute(\"srcset\"),this.removeAttribute(\"sizes\");else{if(this.setAttribute(\"src\",t.src),\"object\"==typeof t&&t.srcSet&&t.srcSet.length&&t.sizes&&t.sizes.length){const e=t.srcSet.map((t=>`${t.url} ${t.size}`)).join(\", \");this.setAttribute(\"srcset\",e)}else this.removeAttribute(\"srcset\"),this.removeAttribute(\"sizes\");t.loading&&this.setAttribute(\"loading\",t.loading)}}}o=module.exports,n=u,Object.keys(n).forEach((function(t){\"default\"===t||\"__esModule\"===t||o.hasOwnProperty(t)||Object.defineProperty(o,t,{enumerable:!0,get:function(){return n[t]}})}));","// src/modules/dashboard/donations/components/CancelDonationSubscriptionDialog.ts\n\nimport { WFComponent, WFFormComponent } from \"@xatom/core\";\nimport { apiClient } from \"../../../../api/apiConfig\";\nimport {\n  toggleError,\n  setupValidation,\n  createValidationFunction,\n} from \"../../../../utils/formUtils\";\nimport { validateNotEmpty } from \"../../../../utils/validationUtils\";\n\n// CancelDonationSubscriptionDialog Component\nexport class CancelDonationSubscriptionDialog {\n  private container: WFComponent;\n  private subscriptionId: string;\n  private cancelForm: WFFormComponent;\n  private dialog: WFComponent;\n  private pageMain: WFComponent;\n\n  constructor(options: {\n    containerSelector: string;\n    subscriptionId: string;\n    onCancelSuccess: () => void;\n  }) {\n    const { containerSelector, subscriptionId, onCancelSuccess } = options;\n    this.container = new WFComponent(containerSelector);\n    this.subscriptionId = subscriptionId;\n    this.cancelForm = new WFFormComponent(\"#cancelSubscriptionForm\");\n    this.dialog = new WFComponent(\"#cancelSubscriptionDialog\");\n    this.pageMain = new WFComponent(\".page_main\");\n    this.initialize(onCancelSuccess);\n  }\n\n  private initialize(onCancelSuccess: () => void) {\n    const openCancelDialogBtn = new WFComponent(\"#openCancelSubscription\");\n    openCancelDialogBtn.on(\"click\", () => this.openDialog());\n\n    const closeDialogBtn = new WFComponent(\"#close-cancel-dialog-btn\");\n    closeDialogBtn.on(\"click\", () => this.closeDialog());\n\n    this.setupFormSubmission(onCancelSuccess);\n    this.setupFormValidation();\n  }\n\n  private openDialog() {\n    const dialogEl = this.dialog.getElement() as HTMLDialogElement;\n    dialogEl?.showModal();\n    this.pageMain.setAttribute(\"data-brand\", \"6\");\n  }\n\n  private closeDialog() {\n    const dialogEl = this.dialog.getElement() as HTMLDialogElement;\n    dialogEl?.close();\n    this.pageMain.setAttribute(\"data-brand\", \"2\");\n  }\n\n  private setupFormSubmission(onCancelSuccess: () => void) {\n    this.cancelForm.onFormSubmit(async (formData, event) => {\n      event.preventDefault();\n      const reason = formData.removed_because as string;\n\n      if (!validateNotEmpty(reason)) {\n        toggleError(\n          new WFComponent(\"#submitCancelError\"),\n          \"Reason for cancelling is required.\",\n          true\n        );\n        return;\n      }\n\n      this.setLoadingState(true);\n\n      try {\n        const response = await apiClient\n          .delete<{ status?: string }>(\n            `/donate/subscription/${this.subscriptionId}`,\n            { data: { reason } }\n          )\n          .fetch();\n\n        if (response?.status === \"Cancelled\") {\n          toggleError(new WFComponent(\"#submitCancelError\"), \"\", false);\n          this.closeDialog();\n          onCancelSuccess();\n        } else {\n          throw new Error(`Unexpected status: ${response?.status}`);\n        }\n      } catch (error) {\n        console.error(\"Cancel subscription failed:\", error);\n        this.showErrorMessage(\n          \"Oops! Something went wrong while submitting the form.\"\n        );\n      } finally {\n        this.setLoadingState(false);\n      }\n    });\n  }\n\n  private setupFormValidation() {\n    const reasonInput = new WFComponent(\"#removedReason\");\n    const reasonError = new WFComponent(\"#submitCancelError\");\n    const validate = createValidationFunction(\n      reasonInput,\n      validateNotEmpty,\n      \"Reason for cancelling is required.\"\n    );\n    setupValidation(reasonInput, reasonError, validate);\n  }\n\n  private setLoadingState(isLoading: boolean) {\n    const loading = new WFComponent(\"#submitCancelLoading\");\n    const submit = new WFComponent(\"#submitCancel\");\n    loading.setStyle({ display: isLoading ? \"block\" : \"none\" });\n    isLoading\n      ? submit.setAttribute(\"disabled\", \"true\")\n      : submit.removeAttribute(\"disabled\");\n  }\n\n  private showErrorMessage(message: string) {\n    const error = new WFComponent(\"#submitUpdateError\");\n    error.setText(message);\n    error.setStyle({ display: \"flex\" });\n  }\n\n  public static hideCancelButtonIfOneTime(subscriptionType: string | undefined) {\n    const cancelWrap = new WFComponent(\"#cancelSubscriptionWrap\");\n    if (!subscriptionType || subscriptionType === \"one-time\") {\n      cancelWrap.setStyle({ display: \"none\" });\n    } else {\n      cancelWrap.setStyle({ display: \"flex\" });\n    }\n  }\n}\n","import { WFComponent } from \"@xatom/core\";\nimport { WFImage } from \"@xatom/image\";\nimport { apiClient } from \"../api/apiConfig\";\nimport { userAuth } from \"../auth/authConfig\";\n\nexport function toggleError(\n  errorMessageComponent: WFComponent<any>,\n  message: string,\n  show: boolean\n): void {\n  errorMessageComponent.updateTextViaAttrVar({ text: show ? message : \"\" });\n  errorMessageComponent.setStyle({ display: show ? \"flex\" : \"none\" });\n}\n\nexport function setupValidation(\n  inputComponent: WFComponent,\n  errorComponent: WFComponent,\n  validate: () => string,\n  requestErrorComponent?: WFComponent // Optional component to clear on input change\n) {\n  const validateAndUpdate = () => {\n    const errorMessage = validate();\n    toggleError(errorComponent, errorMessage, !!errorMessage);\n    if (requestErrorComponent && errorMessage === \"\") {\n      // Clear request error message when the user is correcting the input\n      toggleError(requestErrorComponent, \"\", false);\n    }\n  };\n\n  // Attach event listeners for real-time validation\n  inputComponent.on(\"input\", validateAndUpdate);\n  inputComponent.on(\"blur\", validateAndUpdate);\n  inputComponent.on(\"change\", validateAndUpdate);\n}\n\nexport function createValidationFunction(\n  inputComponent: WFComponent,\n  validationFn: (input: string) => boolean,\n  errorMessage: string\n): () => string {\n  return () => {\n    const inputElement = inputComponent.getElement() as HTMLInputElement;\n    const isValid = validationFn(inputElement.value);\n    return isValid ? \"\" : errorMessage;\n  };\n}\n\nexport function createCheckboxValidationFunction(\n  checkboxComponent: WFComponent,\n  errorMessage: string\n): () => string {\n  return () => {\n    const checkbox = checkboxComponent.getElement() as HTMLInputElement;\n    return checkbox.checked ? \"\" : errorMessage;\n  };\n}\n\nexport function setupCheckboxValidation(\n  checkboxComponent: WFComponent,\n  checkboxErrorComponent: WFComponent,\n  errorMessage: string\n) {\n  const validate = createCheckboxValidationFunction(\n    checkboxComponent,\n    errorMessage\n  );\n  setupValidation(checkboxComponent, checkboxErrorComponent, validate);\n}\n\nexport function validateSelectedSessions(\n  selectedSessions: { sessionId: string; studentIds: string[] }[],\n  errorMessageComponent: WFComponent<any>,\n  errorMessage: string\n): boolean {\n  const isValid =\n    selectedSessions.length > 0 &&\n    selectedSessions.some((session) => session.studentIds.length > 0);\n\n  if (!isValid) {\n    toggleError(errorMessageComponent, errorMessage, true);\n  } else {\n    toggleError(errorMessageComponent, \"\", false);\n  }\n\n  return isValid;\n}\n\ntype fileUploadResponse = {\n  status: string;\n  url: {\n    profile_pic: {\n      url: string;\n    };\n  };\n};\n\n/**\n * Updates the user's profile picture URL in the authentication system.\n * @param {string} imageUrl - The URL of the uploaded image.\n */\nexport function setProfilePicUrl(imageUrl: string): void {\n  const user = userAuth.getUser();\n  if (user && user.profile) {\n    // Ensure the profile_picture object exists\n    user.profile.profile_pic = user.profile.profile_pic || { url: \"\" };\n\n    // Set the profile picture URL\n    user.profile.profile_pic.url = imageUrl;\n    userAuth.setUser(user);\n    localStorage.setItem(\"auth_user\", JSON.stringify(user));\n  }\n}\n\n/**\n * Handles file upload and displays the uploaded image.\n * @param {WFComponent} fileInput - The WFComponent instance for the file input field.\n * @param {WFComponent} fileInputError - The WFComponent instance for displaying error messages.\n * @param {WFComponent} fileInputSuccess - The WFComponent instance for displaying success messages.\n * @param {string} uploadEndpoint - The endpoint to which the file is sent.\n * @returns {Promise<string>} A promise that resolves with the URL of the uploaded image.\n */\n/**\n * Handles file upload and displays the uploaded image.\n * Only JPEG files less than 2 MB can be uploaded.\n * @param {WFComponent} fileInput - The WFComponent instance for the file input field.\n * @param {WFComponent} fileInputError - The WFComponent instance for displaying error messages.\n * @param {WFComponent} fileInputSuccess - The WFComponent instance for displaying success messages.\n * @param {string} uploadEndpoint - The endpoint to which the file is sent.\n * @returns {Promise<string>} A promise that resolves with the URL of the uploaded image.\n */\nexport function setupFileUpload(\n  fileInput: WFComponent,\n  fileInputError: WFComponent,\n  fileInputSuccess: WFComponent,\n  uploadEndpoint: string\n): Promise<string> {\n  const profilePictureImage = new WFImage(\"#profilePictureImage\");\n  const uploadAnimation = new WFComponent(\"#uploadAnimation\");\n\n  const overlay = new WFComponent(\".drop-zone\");\n  let dragCounter = 0;\n\n  return new Promise<string>((resolve) => {\n    const handleFile = (file: File) => {\n      // Validate file type and size\n      const validTypes = [\"image/jpeg\", \"image/jpg\"];\n      const maxSizeInBytes = 2 * 1024 * 1024; // 2 MB\n\n      if (\n        !validTypes.includes(file.type) &&\n        !/\\.(jpg|jpeg)$/i.test(file.name)\n      ) {\n        const errorMessage = \"Only JPEG images are allowed.\";\n        toggleError(fileInputError, errorMessage, true);\n        // Reset file input value\n        (fileInput.getElement() as HTMLInputElement).value = \"\";\n        return;\n      }\n\n      if (file.size > maxSizeInBytes) {\n        const errorMessage = \"File size must be less than 2 MB.\";\n        toggleError(fileInputError, errorMessage, true);\n        // Reset file input value\n        (fileInput.getElement() as HTMLInputElement).value = \"\";\n        return;\n      }\n\n      // Show upload animation immediately\n      uploadAnimation.setStyle({ display: \"flex\" });\n\n      // Hide error and success messages\n      fileInputError.setStyle({ display: \"none\" });\n      fileInputSuccess.setStyle({ display: \"none\" });\n\n      const reader = new FileReader();\n\n      // Display preview image as soon as the file is loaded into memory\n      reader.onload = (event) => {\n        // Set the preview image for the profile picture\n        const result = event.target?.result as string;\n        profilePictureImage.setImage(result);\n\n        // Hide overlay once the image is set\n        overlay.setStyle({ display: \"none\" });\n      };\n\n      reader.readAsDataURL(file);\n\n      const formData = new FormData();\n      formData.append(\"profile_picture\", file);\n\n      const existingStudent = localStorage.getItem(\"current_student\");\n      if (existingStudent) {\n        const student = JSON.parse(existingStudent);\n        formData.append(\"student_profile_id\", student.id.toString());\n      }\n\n      // Send the file to the server\n      const postRequest = apiClient.post<fileUploadResponse>(uploadEndpoint, {\n        data: formData,\n      });\n\n      postRequest.onData((response) => {\n        if (response.status === \"success\") {\n          const imageUrl = response.url.profile_pic.url;\n\n          // Update the profile picture URL in the user session and local storage\n          setProfilePicUrl(imageUrl);\n\n          // Update the image for other parts of the UI as well\n          profilePictureImage.setImage(imageUrl);\n\n          // Store the URL in local storage\n          localStorage.setItem(\"image_upload\", imageUrl);\n\n          // Show success message and hide upload animation\n          fileInputSuccess.setStyle({ display: \"flex\" });\n          uploadAnimation.setStyle({ display: \"none\" });\n\n          // Resolve with the uploaded image URL\n          resolve(imageUrl);\n        } else {\n          const errorMessage = \"Failed to upload profile picture.\";\n          toggleError(fileInputError, errorMessage, true);\n          uploadAnimation.setStyle({ display: \"none\" });\n          overlay.setStyle({ display: \"none\" });\n          dragCounter = 0;\n          // Reset file input value\n          (fileInput.getElement() as HTMLInputElement).value = \"\";\n        }\n      });\n\n      postRequest.onError((error) => {\n        let errorMessage = \"An error occurred during image upload.\";\n        if (error.response && error.response.data) {\n          errorMessage = error.response.data.message || errorMessage;\n        } else if (error.message) {\n          errorMessage = error.message;\n        }\n\n        // Show error message and hide upload animation\n        toggleError(fileInputError, errorMessage, true);\n        uploadAnimation.setStyle({ display: \"none\" });\n        overlay.setStyle({ display: \"none\" });\n        dragCounter = 0;\n        // Reset file input value\n        (fileInput.getElement() as HTMLInputElement).value = \"\";\n      });\n\n      // Make the API call\n      postRequest.fetch();\n    };\n\n    // Event listener for file input changes\n    fileInput.on(\"change\", () => {\n      const file = (fileInput.getElement() as HTMLInputElement).files?.[0];\n      if (file) {\n        handleFile(file);\n      }\n    });\n\n    // Event listeners for drag-and-drop\n    const dragZoneElement = document.body;\n    dragZoneElement.addEventListener(\"dragenter\", (event) => {\n      event.preventDefault();\n      dragCounter++;\n      if (dragCounter === 1) {\n        overlay.setStyle({ display: \"flex\" });\n      }\n    });\n\n    dragZoneElement.addEventListener(\"dragleave\", () => {\n      dragCounter--;\n      if (dragCounter <= 0) {\n        overlay.setStyle({ display: \"none\" });\n        dragCounter = 0;\n      }\n    });\n\n    dragZoneElement.addEventListener(\"dragover\", (event) => {\n      event.preventDefault();\n    });\n\n    dragZoneElement.addEventListener(\"drop\", (event) => {\n      event.preventDefault();\n\n      const files = event.dataTransfer?.files;\n      if (files?.length) {\n        handleFile(files[0]);\n      }\n\n      overlay.setStyle({ display: \"none\" });\n      dragCounter = 0;\n    });\n  });\n}\n\n// src/utils/formUtils.ts\n\n/**\n * Formats a phone number string to the format (xxx) xxx-xxxx.\n * If the input contains more than 10 digits, it truncates the extra digits.\n * If it contains fewer, it formats as much as possible.\n *\n * @param value - The raw phone number string.\n * @returns The formatted phone number string.\n */\nexport const formatPhoneNumber = (value: string): string => {\n  const cleaned = value.replace(/\\D/g, \"\"); // Remove all non-digit characters\n\n  if (cleaned.length <= 3) {\n    return cleaned;\n  } else if (cleaned.length <= 6) {\n    return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3)}`;\n  } else if (cleaned.length <= 10) {\n    return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3, 6)}-${cleaned.slice(\n      6\n    )}`;\n  } else {\n    // If more than 10 digits, truncate the extra digits\n    return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3, 6)}-${cleaned.slice(\n      6,\n      10\n    )}`;\n  }\n};\n","import { WFComponent } from \"@xatom/core\";\nimport { toggleError } from \"./formUtils\";\n\nexport function validateNotEmpty(input: string | undefined): boolean {\n  return input !== undefined && input.trim() !== \"\";\n}\n\nexport function validateEmail(input: string): boolean {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailRegex.test(input);\n}\n\n/**\n * Validates that the email is either empty or correctly formatted.\n * @param value The email input value.\n * @returns True if valid, false otherwise.\n */\nexport const validateEmailOptional = (value: string): boolean => {\n  if (value.trim() === \"\") {\n    // Email is optional, so empty string is valid\n    return true;\n  }\n  // Validate the email format if not empty\n  return validateEmail(value);\n};\n\nexport function validatePasswordRequirements(password: string): boolean {\n  const hasLowercase = /[a-z]/.test(password);\n  const hasUppercase = /[A-Z]/.test(password);\n  const hasDigit = /\\d/.test(password);\n  const hasSpecialChar = /[!@#$%^&*(),.?\":{}|<>]/.test(password);\n  const hasValidLength = password.length >= 8;\n  return (\n    hasLowercase && hasUppercase && hasDigit && hasSpecialChar && hasValidLength\n  );\n}\n\nexport function validateCheckbox(checked: boolean): boolean {\n  return checked;\n}\n\nexport function validatePasswordsMatch(\n  originalPassword: string,\n  confirmPassword: string\n): boolean {\n  return originalPassword === confirmPassword;\n}\n\nexport function validateSelectField(input: string | undefined): boolean {\n  return input !== undefined && input !== \"N/A\";\n}\n\nexport function validatePhoneNumber(input: string): boolean {\n  const phoneRegex = /^\\(\\d{3}\\)\\s\\d{3}-\\d{4}$/;\n  return phoneRegex.test(input);\n}\n\nexport const validatePhoneNumberOptional = (value: string): boolean => {\n  if (value.trim() === \"\") {\n    // Phone number is optional, so empty string is valid\n    return true;\n  }\n  // Validate the phone number format if not empty\n  return validatePhoneNumber(value);\n};\n"],"names":[],"version":3,"file":"donationDetails.e5f150c6.js.map","sourceRoot":"../"}